[
  {
    "exercise": 1,
    "1": "Find the number of ways to choose a pair {a, b} of distinct numbers from the set {1, 2, ..., 50} such that\n(i) |a - b| = 5;\n(ii) |a - b| \\le 5.",
    "2": "There are 12 students in a party. Five of them are girls. In how many ways can these 12 students be arranged in a row if\n(i) there are no restrictions?\n(ii) the 5 girls must be together (forming a block)?\n(iii) no 2 girls are adjacent?\n(iv) between two particular boys A and B, there are no boys but exactly 3 girls?",
    "3": "m boys and n girls are to be arranged in a row, where m, n \\in \\mathbf{N}. Find the number of ways this can be done in each of the following cases:\n(i) There are no restrictions;\n(ii) No boys are adjacent (m \\le n + 1);\n(iii) The n girls form a single block;\n(iv) A particular boy and a particular girl must be adjacent.",
    "4": "How many 5-letter words can be formed using A, B, C, D, E, F, G, H, I, J,\n(i) if the letters in each word must be distinct?\n(ii) if, in addition, A, B, C, D, E, F can only occur as the first, third or fifth letters while the rest as the second or fourth letters?",
    "5": "Find the number of ways of arranging the 26 letters in the English alphabet in a row such that there are exactly 5 letters between x and y.",
    "6": "Find the number of odd integers between 3000 and 8000 in which no digit is repeated.",
    "_source_page": 10
  },
  {
    "7": "Evaluate\n1 \\cdot 1! + 2 \\cdot 2! + 3 \\cdot 3! + \\dots + n \\cdot n!,\nwhere n \\in \\mathbf{N}.",
    "8": "Evaluate\n\\frac{1}{(1+1)!} + \\frac{2}{(2+1)!} + \\dots + \\frac{n}{(n+1)!},\nwhere n \\in \\mathbf{N}.",
    "9": "Prove that for each n \\in \\mathbf{N},\n(n+1)(n+2) \\dots (2n)\nis divisible by 2^n. (Spanish Olympiad, 1985)",
    "10": "Find the number of common positive divisors of 10^{40} and 20^{30}.",
    "11": "In each of the following, find the number of positive divisors of n (inclusive of n) which are multiples of 3:\n(i) n = 210;\n(ii) n = 630;\n(iii) n = 151200.",
    "12": "Show that for any n \\in \\mathbf{N}, the number of positive divisors of n^2 is always odd.",
    "13": "Show that the number of positive divisors of \"\\underbrace{111 \\dots 1}_{1992}\" is even.",
    "14": "Let n, r \\in \\mathbf{N} with r \\le n. Prove each of the following identities:\n(i) P_r^n = n P_{r-1}^{n-1},\n(ii) P_r^n = (n-r+1) P_{r-1}^n,\n(iii) P_r^n = \\frac{n}{n-r} P_r^{n-1}, where r < n,\n(iv) P_r^{n+1} = P_r^n + r P_{r-1}^n,\n(v) P_r^{n+1} = r! + r(P_{r-1}^n + P_{r-1}^{n-1} + \\dots + P_{r-1}^r).",
    "15": "In a group of 15 students, 5 of them are female. If exactly 3 female students are to be selected, in how many ways can 9 students be chosen from the group\n(i) to form a committee?\n(ii) to take up 9 different posts in a committee?",
    "16": "Ten chairs have been arranged in a row. Seven students are to be seated in seven of them so that no two students share a common chair. Find the",
    "_source_page": 11
  },
  {
    "17": "Eight boxes are arranged in a row. In how many ways can five distinct balls be put into the boxes if each box can hold at most one ball and no two boxes without balls are adjacent?",
    "18": "A group of 20 students, including 3 particular girls and 4 particular boys, are to be lined up in two rows with 10 students each. In how many ways can this be done if the 3 particular girls must be in the front row while the 4 particular boys be in the back?",
    "19": "In how many ways can 7 boys and 2 girls be lined up in a row such that the girls must be separated by exactly 3 boys?",
    "20": "In a group of 15 students, 3 of them are female. If at least one female student is to be selected, in how many ways can 7 students be chosen from the group\n(i) to form a committee?\n(ii) to take up 7 different posts in a committee?",
    "21": "Find the number of $(m + n)$-digit binary sequences with $m$ 0's and $n$ 1's such that no two 1's are adjacent, where $n \\le m + 1$.",
    "22": "Two sets of parallel lines with $p$ and $q$ lines each are shown in the following diagram:\n\nFind the number of parallelograms formed by the lines.",
    "23": "There are 10 girls and 15 boys in a junior class, and 4 girls and 10 boys in a senior class. A committee of 7 members is to be formed from these 2 classes. Find the number of ways this can be done if the committee must have exactly 4 senior students and exactly 5 boys.",
    "24": "A box contains 7 identical white balls and 5 identical black balls. They are to be drawn randomly, one at a time without replacement, until the box is empty. Find the probability that the 6th ball drawn is white, while before",
    "_source_page": 12
  },
  {
    "25": "In each of the following cases, find the number of shortest routes from $O$ to $P$ in the street network shown below:\n\n(i) The routes must pass through the junction $A$;\n(ii) The routes must pass through the street $AB$;\n(iii) The routes must pass through junctions $A$ and $C$;\n(iv) The street $AB$ is closed.",
    "26": "Find the number of ways of forming a group of $2k$ people from $n$ couples, where $k, n \\in \\mathbf{N}$ with $2k \\le n$, in each of the following cases:\n\n(i) There are $k$ couples in such a group;\n(ii) No couples are included in such a group;\n(iii) At least one couple is included in such a group;\n(iv) Exactly two couples are included in such a group.",
    "27": "Let $S = \\{1, 2, \\dots, n + 1\\}$ where $n \\ge 2$, and let\n\n$$T = \\{(x, y, z) \\in S^3 \\mid x < z \\text{ and } y < z\\}.$$\n\nShow by counting $|T|$ in two different ways that\n\n$$\\sum_{k=1}^n k^2 = |T| = \\binom{n+1}{2} + 2\\binom{n+1}{3}.$$",
    "28": "Consider the following set of points in the $x - y$ plane:\n\n$$A = \\{(a, b) \\mid a, b \\in \\mathbf{Z}, 0 \\le a \\le 9 \\text{ and } 0 \\le b \\le 5\\}.$$\n\nFind",
    "_source_page": 13
  },
  {
    "29": "Fifteen points $P_1, P_2, \\dots, P_{15}$ are drawn in the plane in such a way that besides $P_1, P_2, P_3, P_4, P_5$ which are collinear, no other 3 points are collinear. Find\n(i) the number of straight lines which pass through at least 2 of the 15 points;\n(ii) the number of triangles whose vertices are 3 of the 15 points.",
    "30": "In each of the following 6-digit natural numbers:\n333333, 225522, 118818, 707099,\nevery digit in the number appears at least twice. Find the number of such 6-digit natural numbers.",
    "31": "In each of the following 7-digit natural numbers:\n1001011, 5550000, 3838383, 7777777,\nevery digit in the number appears at least 3 times. Find the number of such 7-digit natural numbers.",
    "32": "Let $X = \\{1, 2, 3, \\dots, 1000\\}$. Find the number of 2-element subsets $\\{a, b\\}$ of $X$ such that the product $a \\cdot b$ is divisible by 5.",
    "33": "Consider the following set of points in the $x - y$ plane:\n$A = \\{(a, b) \\mid a, b \\in \\mathbf{Z} \\text{ and } |a| + |b| \\le 2\\}$.\nFind\n(i) $|A|$;\n(ii) the number of straight lines which pass through at least 2 points in $A$;\nand\n(iii) the number of triangles whose vertices are points in $A$.",
    "34": "Let $P$ be a convex $n$-gon, where $n \\ge 6$. Find the number of triangles formed by any 3 vertices of $P$ that are pairwise nonadjacent in $P$.",
    "35": "6 boys and 5 girls are to be seated around a table. Find the number of ways that this can be done in each of the following cases:\n(i) There are no restrictions;\n(ii) No 2 girls are adjacent;",
    "_source_page": 14
  },
  {
    "36": "Show that the number of $r$-circular permutations of $n$ distinct objects, where $1 \\le r \\le n$, is given by $\\frac{n!}{(n-r)! \\cdot r}$.",
    "37": "Let $k, n \\in \\mathbf{N}$. Show that the number of ways to seat $kn$ people around $k$ distinct tables such that there are $n$ people in each table is given by $\\frac{(kn)!}{n!^k}$.",
    "38": "Let $r \\in \\mathbf{N}$ such that\\n\\n$$\\frac{1}{\\binom{9}{r}} - \\frac{1}{\\binom{10}{r}} = \\frac{11}{6\\binom{11}{r}}.$$\\n\\nFind the value of $r$.",
    "39": "Prove each of the following identities:\\n(a) $\\binom{n}{r} = \\frac{n}{r} \\binom{n-1}{r-1}$, where $n \\ge r \\ge 1$;\\n(b) $\\binom{n}{r} = \\frac{n-r+1}{r} \\binom{n}{r-1}$, where $n \\ge r \\ge 1$;\\n(c) $\\binom{n}{r} = \\frac{n}{n-r} \\binom{n-1}{r}$, where $n > r \\ge 0$;\\n(d) $\\binom{n}{m} \\binom{m}{r} = \\binom{n}{r} \\binom{n-r}{m-r}$, where $n \\ge m \\ge r \\ge 0$.",
    "40": "Prove the identity $\\binom{n}{r} = \\binom{n}{n-r}$ by (BP).",
    "41": "Let $X = \\{1, 2, \\dots, n\\}$, $\\mathcal{A} = \\{A \\subseteq X \\mid n \\notin A\\}$, and $\\mathcal{B} = \\{A \\subseteq X \\mid n \\in A\\}$.\\nShow that $|\\mathcal{A}| = |\\mathcal{B}|$ by (BP).",
    "42": "Let $r, n \\in \\mathbf{N}$. Show that the product\\n\\n$$(n+1)(n+2) \\cdots (n+r)$$\\n\\nof $r$ consecutive positive integers is divisible by $r!$.",
    "43": "Let $A$ be a set of $kn$ elements, where $k, n \\in \\mathbf{N}$. A $k$-grouping of $A$ is a partition of $A$ into $k$-element subsets. Find the number of different $k$-groupings of $A$.",
    "44": "Twenty five of King Arthur's knights are seated at their customary round table. Three of them are chosen - all choices of three being equally likely - and are sent off to slay a troublesome dragon. Let $P$ be the probability that at least two of the three had been sitting next to each other. If $P$ is written as a fraction in lowest terms, what is the sum of the numerator and denominator? (AIME, 1983/7) (Readers who wish to get more information",
    "_source_page": 15
  },
  {
    "45": "One commercially available ten-button lock may be opened by depressing – in any order – the correct five buttons. The sample shown below has {1, 2, 3, 6, 9} as its combination. Suppose that these locks are re-designed so that sets of as many as nine buttons or as few as one button could serve as combinations. How many additional combinations would this allow?\n(AIME, 1988/1)",
    "46": "In a shooting match, eight clay targets are arranged in two hanging columns of three each and one column of two, as pictured. A marksman is to break all eight targets according to the following rules: (1) The marksman first chooses a column from which a target is to be broken. (2) The marksman must then break the lowest remaining unbroken target in the chosen column. If these rules are followed, in how many different orders can the eight targets be broken? (AIME, 1990/8)",
    "47": "Using the numbers 1, 2, 3, 4, 5, we can form 5!(= 120) 5-digit numbers in which the 5 digits are all distinct. If these numbers are listed in increasing order:",
    "_source_page": 16
  },
  {
    "48": "The $P_3^4(= 24)$ 3-permutations of the set $\\{1, 2, 3, 4\\}$ can be arranged in the following way, called the lexicographic ordering:\n\n123, 124, 132, 134, 142, 143, 213, 214, 231, 234,\n241, 243, 312, ..., 431, 432.\n\nThus the 3-permutations \"132\" and \"214\" appear at the 3rd and 8th positions of the ordering respectively. There are $P_4^9(= 3024)$ 4-permutations of the set $\\{1, 2, \\dots, 9\\}$. What are the positions of the 4-permutations \"4567\" and \"5182\" in the corresponding lexicographic ordering of the 4-permutations of $\\{1, 2, \\dots, 9\\}$?",
    "49": "The $\\binom{5}{3}(= 10)$ 3-element subsets of the set $\\{1, 2, 3, 4, 5\\}$ can be arranged in the following way, called the lexicographic ordering:\n\n$\\{1, 2, 3\\}, \\{1, 2, 4\\}, \\{1, 2, 5\\}, \\{1, 3, 4\\}, \\{1, 3, 5\\}, \\{1, 4, 5\\},$\n$\\{2, 3, 4\\}, \\{2, 3, 5\\}, \\{2, 4, 5\\}, \\{3, 4, 5\\}.$\n\nThus the subset $\\{1, 3, 5\\}$ appears at the 5th position of the ordering. There are $\\binom{10}{4}$ 4-element subsets of the set $\\{1, 2, \\dots, 10\\}$. What are the positions of the subsets $\\{3, 4, 5, 6\\}$ and $\\{3, 5, 7, 9\\}$ in the corresponding lexicographic ordering of the 4-element subsets of $\\{1, 2, \\dots, 10\\}$?",
    "50": "Six scientists are working on a secret project. They wish to lock up the documents in a cabinet so that the cabinet can be opened when and only when three or more of the scientists are present. What is the smallest number of locks needed? What is the smallest number of keys each scientist must carry?",
    "51": "A 10-storey building is to be painted with some 4 different colours such that each storey is painted with one colour. It is not necessary that all 4 colours must be used. How many ways are there to paint the building if\n\n(i) there are no other restrictions?\n(ii) any 2 adjacent storeys must be painted with different colours?",
    "52": "Find the number of all multi-subsets of $M = \\{r_1 \\cdot a_1, r_2 \\cdot a_2, \\dots, r_n \\cdot a_n\\}$.",
    "53": "Let $r, n \\in \\mathbb{N}$ with $r \\le n$. A permutation $x_1x_2 \\dots x_{2n}$ of the set $\\{1, 2, \\dots, 2n\\}$ is said to have property $P(r)$ if $|x_i - x_{i+1}| = r$ for at least one $i$ in $\\{1, 2, \\dots,$",
    "_source_page": 17
  },
  {
    "54": "Prove by a combinatorial argument that each of the following numbers is always an integer for each n \\in \\mathbf{N}:\\n(i) \\frac{(3n)!}{2^n \\cdot 3^n}\\n(ii) \\frac{(6n)!}{5^n \\cdot 3^{2n} \\cdot 2^{4n}}\\n(iii) \\frac{(n^2)!}{(n!)^n}\\n(iv) \\frac{(n!)!}{(n!)^{(n-1)!}}",
    "55": "Find the number of r-element multi-subsets of the multi-set\\nM = \\{1 \\cdot a_1, \\infty \\cdot a_2, \\infty \\cdot a_3, \\dots, \\infty \\cdot a_n\\}.",
    "56": "Six distinct symbols are transmitted through a communication channel. A total of 18 blanks are to be inserted between the symbols with at least 2 blanks between every pair of symbols. In how many ways can the symbols and blanks be arranged?",
    "57": "In how many ways can the following 11 letters: A, B, C, D, E, F, X, X, X, Y, Y be arranged in a row so that every Y lies between two X's (not necessarily adjacent)?",
    "58": "Two n-digit integers (leading zero allowed) are said to be equivalent if one is a permutation of the other. For instance, 10075, 01057 and 00751 are equivalent 5-digit integers.\\n(i) Find the number of 5-digit integers such that no two are equivalent.\\n(ii) If the digits 5, 7, 9 can appear at most once, how many nonequivalent 5-digit integers are there?",
    "59": "How many 10-letter words are there using the letters a, b, c, d, e, f if\\n(i) there are no restrictions?\\n(ii) each vowel (a and e) appears 3 times and each consonant appears once?\\n(iii) the letters in the word appear in alphabetical order?\\n(iv) each letter occurs at least once and the letters in the word appear in alphabetical order?",
    "60": "Let r, n, k \\in \\mathbf{N} such that r \\ge nk. Find the number of ways of distributing r identical objects into n distinct boxes so that each box holds at least k",
    "_source_page": 18
  },
  {
    "61": "Find the number of ways of arranging the 9 letters $r, s, t, u, v, w, x, y, z$ in a row so that $y$ always lies between $x$ and $z$ ($x$ and $y$, or $y$ and $z$ need not be adjacent in the row).",
    "62": "Three girls $A, B$ and $C$, and nine boys are to be lined up in a row. In how many ways can this be done if $B$ must lie between $A$ and $C$, and $A, B$ must be separated by exactly 4 boys?",
    "63": "Five girls and eleven boys are to be lined up in a row such that from left to right, the girls are in the order: $G_1, G_2, G_3, G_4, G_5$. In how many ways can this be done if $G_1$ and $G_2$ must be separated by at least 3 boys, and there is at most one boy between $G_4$ and $G_5$?",
    "64": "Given $r, n \\in \\mathbf{N}$ with $r \\ge n$, let $L(r, n)$ denote the number of ways of distributing $r$ distinct objects into $n$ identical boxes so that no box is empty and the objects in each box are arranged in a row. Find $L(r, n)$ in terms of $r$ and $n$.",
    "65": "Find the number of integer solutions to the equation:\n\n$x_1 + x_2 + x_3 + x_4 + x_5 + x_6 = 60$\n\nin each of the following cases:\n(i) $x_i \\ge i - 1$ for each $i = 1, 2, \\dots, 6$;\n(ii) $x_1 \\ge 2, x_2 \\ge 5, 2 \\le x_3 \\le 7, x_4 \\ge 1, x_5 \\ge 3$ and $x_6 \\ge 2$.",
    "66": "Find the number of integer solutions to the equation:\n\n$x_1 + x_2 + x_3 + x_4 = 30$\n\nin each of the following cases:\n(i) $x_i \\ge 0$ for each $i = 1, 2, 3, 4$;\n(ii) $2 \\le x_1 \\le 7$ and $x_i \\ge 0$ for each $i = 2, 3, 4$;\n(iii) $x_1 \\ge -5, x_2 \\ge -1, x_3 \\ge 1$ and $x_4 \\ge 2$.",
    "67": "Find the number of quadruples $(w, x, y, z)$ of nonnegative integers which satisfy the inequality\n\n$w + x + y + z \\le 1992$.",
    "68": "Find the number of nonnegative integer solutions to the equation:\n\n$5x_1 + x_2 + x_3 + x_4 = 14$.",
    "_source_page": 19
  },
  {
    "69": "Find the number of nonnegative integer solutions to the equation:\n\n$$rx_1 + x_2 + \\dots + x_n = kr,$$\n\nwhere $k, r, n \\in \\mathbf{N}$.",
    "70": "Find the number of nonnegative integer solutions to the equation:\n\n$$3x_1 + 5x_2 + x_3 + x_4 = 10.$$",
    "71": "Find the number of positive integer solutions to the equation:\n\n$$(x_1 + x_2 + x_3)(y_1 + y_2 + y_3 + y_4) = 77.$$",
    "72": "Find the number of nonnegative integer solutions to the equation:\n\n$$(x_1 + x_2 + \\dots + x_n)(y_1 + y_2 + \\dots + y_n) = p,$$\n\nwhere $n \\in \\mathbf{N}$ and $p$ is a prime.",
    "73": "There are 5 ways to express \"4\" as a sum of 2 nonnegative integers in which the order counts:\n\n$$4 = 4 + 0 = 3 + 1 = 2 + 2 = 1 + 3 = 0 + 4.$$\n\nGiven $r, n \\in \\mathbf{N}$, what is the number of ways to express $r$ as a sum of $n$ nonnegative integers in which the order counts?",
    "74": "There are 6 ways to express \"5\" as a sum of 3 positive integers in which the order counts:\n\n$$5 = 3 + 1 + 1 = 2 + 2 + 1 = 2 + 1 + 2 = 1 + 3 + 1 = 1 + 2 + 2 = 1 + 1 + 3.$$\n\nGiven $r, n \\in \\mathbf{N}$ with $r \\ge n$, what is the number of ways to express $r$ as a sum of $n$ positive integers in which the order counts?",
    "75": "A positive integer $d$ is said to be ascending if in its decimal representation:\n$d = d_m d_{m-1} \\dots d_2 d_1$ we have\n\n$$0 < d_m \\le d_{m-1} \\le \\dots \\le d_2 \\le d_1.$$\n\nFor instance, 1337 and 2455566799 are ascending integers. Find the number of ascending integers which are less than $10^9$.",
    "76": "A positive integer $d$ is said to be strictly ascending if in its decimal representation:\n$d = d_m d_{m-1} \\dots d_2 d_1$ we have\n\n$$0 < d_m < d_{m-1} < \\dots < d_2 < d_1.$$",
    "_source_page": 20
  },
  {
    "77": "Let $A = \\{1, 2, \\dots, n\\}$, where $n \\in \\mathbf{N}$.\n(i) Given $k \\in A$, show that the number of subsets of $A$ in which $k$ is the maximum number is given by $2^{k-1}$.\n(ii) Apply (i) to show that\n$$\\sum_{i=0}^{n-1} 2^i = 2^n - 1.$$",
    "78": "In a given circle, $n \\ge 2$ arbitrary chords are drawn such that no three are concurrent within the interior of the circle. Suppose $m$ is the number of points of intersection of the chords within the interior. Find, in terms of $n$ and $m$, the number $r$ of line segments obtained through dividing the chords by their points of intersection. (In the following example, $n = 5, m = 3$ and $r = 11$.)",
    "79": "There are $p \\ge 6$ points given on the circumference of a circle, and every two of the points are joined by a chord.\n(i) Find the number of such chords.\nAssume that no 3 chords are concurrent within the interior of the circle.\n(ii) Find the number of points of intersection of these chords within the interior of the circle.\n(iii) Find the number of line segments obtained through dividing the chords by their points of intersection.\n(iv) Find the number of triangles whose vertices are the points of intersection of the chords within the interior of the circle.",
    "80": "In how many ways can $n + 1$ different prizes be awarded to $n$ students in",
    "_source_page": 21
  },
  {
    "81": "(a) Let $n, m, k \\in \\mathbf{N}$, and let $\\mathbf{N}_k = \\{1, 2, \\dots, k\\}$. Find\\n(i) the number of mappings from $\\mathbf{N}_n$ to $\\mathbf{N}_m$.\\n(ii) the number of 1-1 mappings from $\\mathbf{N}_n$ to $\\mathbf{N}_m$, where $n \\le m$.\\n(b) A mapping $f: \\mathbf{N}_n \\to \\mathbf{N}_m$ is strictly increasing if $f(a) < f(b)$ whenever $a < b$ in $\\mathbf{N}_n$. Find the number of strictly increasing mappings from $\\mathbf{N}_n$ to $\\mathbf{N}_m$, where $n \\le m$.\\n(c) Express the number of mappings from $\\mathbf{N}_n$ onto $\\mathbf{N}_m$ in terms of $S(n, m)$ (the Stirling number of the second kind).",
    "82": "Given $r, n \\in \\mathbf{Z}$ with $0 \\le n \\le r$, the Stirling number $s(r, n)$ of the first kind is defined as the number of ways to arrange $r$ distinct objects around $n$ identical circles such that each circle has at least one object. Show that\\n(i) $s(r, 1) = (r - 1)!$ for $r \\ge 1$;\\n(ii) $s(r, 2) = (r - 1)!(1 + \\frac{1}{2} + \\frac{1}{3} + \\dots + \\frac{1}{r-1})$ for $r \\ge 2$;\\n(iii) $s(r, r - 1) = \\binom{r}{2}$ for $r \\ge 2$;\\n(iv) $s(r, r - 2) = \\frac{1}{24}r(r - 1)(r - 2)(3r - 1)$ for $r \\ge 2$;\\n(v) $\\sum_{n=0}^r s(r, n) = r!$.",
    "83": "The Stirling numbers of the first kind occur as the coefficients of $x^n$ in the expansion of\\n$$x(x + 1)(x + 2) \\dots (x + r - 1).$$\\nFor instance, when $r = 3$,\\n$$x(x + 1)(x + 2) = 2x + 3x^2 + x^3$$\\n$$= s(3, 1)x + s(3, 2)x^2 + s(3, 3)x^3;$$\\nand when $r = 5$,\\n$$x(x + 1)(x + 2)(x + 3)(x + 4)$$\\n$$= 24x + 50x^2 + 35x^3 + 10x^4 + x^5$$\\n$$= s(5, 1)x + s(5, 2)x^2 + s(5, 3)x^3 + s(5, 4)x^4 + s(5, 5)x^5.$$\\nShow that",
    "_source_page": 22
  },
  {
    "84": "Given r, n \\in \\mathbf{Z} with 0 \\le n \\le r, the Stirling number S(r, n) of the second kind is defined as the number of ways of distributing r distinct objects into n identical boxes such that no box is empty. Show that\\n\\n(i) S(r, 2) = 2^{r-1} - 1;\\n(ii) S(r, 3) = \\frac{1}{2}(3^{r-1} + 1) - 2^{r-1};\\n(iii) S(r, r-1) = \\binom{r}{2};\\n(iv) S(r, r-2) = \\binom{r}{3} + 3\\binom{r}{4}.",
    "85": "Let (x)_0 = 1 and for n \\in \\mathbf{N}, let\\n\\n(x)_n = x(x-1)(x-2)\\cdots(x-n+1).\\n\\nThe Stirling numbers of the second kind occur as the coefficients of (x)_n when x^r is expressed in terms of (x)_n's. For instance, when r = 2, 3 and 4, we have, respectively,\\n\\nx^2 = x + x(x-1) = (x)_1 + (x)_2\\n= S(2,1)(x)_1 + S(2,2)(x)_2,\\nx^3 = x + 3x(x-1) + x(x-1)(x-2)\\n= S(3,1)(x)_1 + S(3,2)(x)_2 + S(3,3)(x)_3,\\nx^4 = x + 7x(x-1) + 6x(x-1)(x-2) + x(x-1)(x-2)(x-3)\\n= S(4,1)(x)_1 + S(4,2)(x)_2 + S(4,3)(x)_3 + S(4,4)(x)_4.\\n\\nShow that for r = 0, 1, 2, \\dots,\\n\\nx^r = \\sum_{n=0}^{r} S(r,n)(x)_n.",
    "86": "Suppose that m chords of a given circle are drawn in such a way that no three are concurrent in the interior of the circle. If n denotes the number of points of intersection of the chords within the circle, show that the number of regions divided by the chords in the circle is m + n + 1.",
    "87": "For n \\ge 4, let r(n) denote the number of interior regions of a convex n-gon divided by all its diagonals if no three diagonals are concurrent within the",
    "_source_page": 23
  },
  {
    "88": "Let $n \\in \\mathbf{N}$. How many solutions are there in ordered positive integer pairs $(x, y)$ to the equation\\n\\n$$\\frac{xy}{x+y} = n?$$\\n\\n(Putnam, 1960)",
    "89": "Let $S = \\{1, 2, 3, \\dots, 1992\\}$. In each of the following cases, find the number of 3-element subsets $\\{a, b, c\\}$ of $S$ satisfying the given condition:\\n(i) $3|(a + b + c)$;\\n(ii) $4|(a + b + c)$.",
    "90": "A sequence of 15 random draws, one at a time with replacement, is made from the set\\n\\n$$\\{A, B, C, \\dots, X, Y, Z\\}$$\\n\\nof the English alphabet. What is the probability that the string:\\n\\nUNIVERSITY\\n\\noccurs as a block in the sequence?",
    "91": "A set $S = \\{a_1, a_2, \\dots, a_r\\}$ of positive integers, where $r \\in \\mathbf{N}$ and $a_1 < a_2 < \\dots < a_r$, is said to be $m$-separated ($m \\in \\mathbf{N}$) if $a_i - a_{i-1} \\ge m$, for each $i = 2, 3, \\dots, r$. Let $X = \\{1, 2, \\dots, n\\}$. Find the number of $r$-element subsets of $X$ which are $m$-separated, where $0 \\le r \\le n - (m - 1)(r - 1)$.",
    "92": "Let $a_1, a_2, \\dots, a_n$ be positive real numbers, and let $S_k$ be the sum of products of $a_1, a_2, \\dots, a_n$ taken $k$ at a time. Show that\\n\\n$$S_k S_{n-k} \\ge \\binom{n}{k}^2 a_1 a_2 \\dots a_n.$$",
    "_source_page": 24
  },
  {
    "93": "For $\\{1, 2, 3, \\dots, n\\}$ and each of its nonempty subsets, a unique alternating sum is defined as follows: Arrange the numbers in the subset in decreasing order and then, beginning with the largest, alternately add and subtract successive numbers. (For example, the alternating sum for $\\{1, 2, 4, 6, 9\\}$ is $9 - 6 + 4 - 2 + 1 = 6$ and for $\\{5\\}$ it is simply 5.) Find the sum of all such alternating sums for $n = 7$. (AIME, 1983/13)",
    "94": "A gardener plants three maple trees, four oak trees and five birch trees in a row. He plants them in random order, each arrangement being equally likely. Let $\\frac{m}{n}$ in lowest terms be the probability that no two birch trees are next to one another. Find $m + n$. (AIME, 1984/11)",
    "95": "In a tournament each player played exactly one game against each of the other players. In each game the winner was awarded 1 point, the loser got 0 points, and each of the two players earned 1/2 point if the game was a tie. After the completion of the tournament, it was found that exactly half of the points earned by each player were earned in games against the ten players with the least number of points. (In particular, each of the ten lowest scoring players earned half of her/his points against the other nine of the ten.) What was the total number of players in the tournament? (AIME, 1985/14)",
    "96": "Let $S$ be the sum of the base 10 logarithms of all of the proper divisors of 1, 000, 000. (By a proper divisor of a natural number we mean a positive integral divisor other than 1 and the number itself.) What is the integer nearest to $S$? (AIME, 1986/8)",
    "97": "In a sequence of coin tosses one can keep a record of the number of instances when a tail is immediately followed by a head, a head is immediately followed by a head, etc. We denote these by $TH, HH$, etc. For example, in the sequence $HHTTHHHTHHTTTT$ of 15 coin tosses we observe that there are five $HH$, three $HT$, two $TH$ and four $TT$ subsequences. How many different sequences of 15 coin tosses will contain exactly two $HH$, three $HT$, four $TH$ and five $TT$ subsequences? (AIME, 1986/13)",
    "98": "An ordered pair $(m, n)$ of nonnegative integers is called \"simple\" if the addition $m + n$ in base 10 requires no carrying. Find the number of simple ordered pairs of nonnegative integers that sum to\n(i) 1492; (AIME, 1987/1)\n(ii) 1992.",
    "99": "Let $m/n$, in lowest terms, be the probability that a randomly chosen positive",
    "_source_page": 25
  },
  {
    "100": "A convex polyhedron has for its faces 12 squares, 8 regular hexagons, and 6 regular octagons. At each vertex of the polyhedron one square, one hexagon, and one octagon meet. How many segments joining vertices of the polyhedron lie in the interior of the polyhedron rather than along an edge or a face? (AIME, 1988/10)",
    "101": "Someone observed that $6! = 8 \\cdot 9 \\cdot 10$. Find the largest positive integer $n$ for which $n!$ can be expressed as the product of $n - 3$ consecutive positive integers. (AIME, 1990/11)",
    "102": "Let $S = \\{1, 2, \\dots, n\\}$. Find the number of subsets $A$ of $S$ satisfying the following conditions:\\n$A = \\{a, a + d, \\dots, a + kd\\}$ for some positive integers $a, d$ and $k$, and $A \\cup \\{x\\}$ is no longer an A.P. with common difference $d$ for each $x \\in S \\setminus A$.\\n(Note that $|A| \\ge 2$ and any sequence of two terms is considered as an A.P.)\\n(Chinese Math. Competition, 1991)",
    "103": "Find all natural numbers $n > 1$ and $m > 1$ such that\\n\\n$1!3!5! \\cdots (2n - 1)! = m!.$\\n\\n(Proposed by I. Cucurezeanu, see Amer. Math. Monthly, 94 (1987), 190.)",
    "104": "Show that for $n \\in \\mathbf{N}$,\\n\\n$$\\sum_{r=0}^n P_r^n = \\lfloor n!e \\rfloor,$$\\n\\nwhere $\\lfloor x \\rfloor$ denotes the greatest integer $\\le x$ and $e = 2.718 \\dots$. (Proposed by D. Ohlsen, see The College Math. J., 20 (1989), 260.)",
    "105": "Let $S = \\{1, 2, \\dots, 1990\\}$. A 31-element subset $A$ of $S$ is said to be good if the sum $\\sum_{a \\in A} a$ is divisible by 5. Find the number of 31-element subsets of $S$ which are good. (Proposed by the Indian Team at the 31st IMO.)",
    "106": "Let $S$ be a 1990-element set and let $\\mathcal{P}$ be a set of 100-ary sequences $(a_1, a_2, \\dots, a_{100})$, where $a_i$'s are distinct elements of $S$. An ordered pair $(x, y)$ of elements of $S$ is said to appear in $(a_1, a_2, \\dots, a_{100})$ if $x = a_i$ and $y = a_j$ for some $i, j$ with $1 \\le i < j \\le 100$. Assume that every ordered pair $(x, y)$ of elements of $S$ appears in at most one member in $\\mathcal{P}$. Show that\\n\\n$|\\mathcal{P}| \\le 800.$",
    "_source_page": 26
  },
  {
    "107": "Let $M = \\{r_1 \\cdot a_1, r_2 \\cdot a_2, \\dots, r_n \\cdot a_n\\}$ be a multi-set with $r_1 + r_2 + \\dots + r_n = r$. Show that the number of $r$-permutations of $M$ is equal to the number of $(r - 1)$-permutations of $M$.",
    "108": "Prove that it is impossible for seven distinct straight lines to be situated in the Euclidean plane so as to have at least six points where exactly three of these lines intersect and at least four points where exactly two of these lines intersect. (Putnam, 1973)",
    "109": "For what $n \\in \\mathbb{N}$ does there exist a permutation $(x_1, x_2, \\dots, x_n)$ of $(1, 2, \\dots, n)$ such that the differences $|x_k - k|, 1 \\le k \\le n$, are all distinct? (Proposed by M. J. Pelling, see Amer. Math. Monthly, 96 (1989), 843-844.)",
    "110": "Numbers $d(n, m)$, where $n, m$ are integers and $0 \\le m \\le n$, are defined by\\n\\n$d(n, 0) = d(n, n) = 1$ for all $n \\ge 0$\\n\\nand\\n\\n$m \\cdot d(n, m) = m \\cdot d(n - 1, m) + (2n - m) \\cdot d(n - 1, m - 1)$\\n\\nfor $0 < m < n$. Prove that all the $d(n, m)$ are integers. (Great Britain, 1987)",
    "111": "A difficult mathematical competition consisted of a Part I and a Part II with a combined total of 28 problems. Each contestant solved 7 problems altogether. For each pair of problems, there were exactly two contestants who solved both of them. Prove that there was a contestant who, in Part I, solved either no problems or at least four problems. (USA MO, 1984/4)",
    "112": "Suppose that five points in a plane are situated so that no two of the straight lines joining them are parallel, perpendicular, or coincident. From each point perpendiculars are drawn to all the lines joining the other four points. Determine the maximum number of intersections that these perpendiculars can have. (IMO, 1964/5)",
    "113": "Let $n$ distinct points in the plane be given. Prove that fewer than $2n^{\\frac{3}{2}}$ pairs of them are at unit distance apart. (Putnam, 1978)",
    "114": "If $c$ and $m$ are positive integers each greater than 1, find the number $n(c, m)$ of ordered $c$-tuples $(n_1, n_2, \\dots, n_c)$ with entries from the initial segment $\\{1, 2, \\dots, m\\}$ of the positive integers such that $n_2 < n_1$ and $n_2 \\le n_3 \\le \\dots \\le n_c$. (Proposed by D. Spellman, see Amer. Math. Monthly, 94 (1987), 383-384.)",
    "115": "Let $X = \\{x_1, x_2, \\dots, x_m\\}, Y = \\{y_1, y_2, \\dots, y_n\\} (m, n \\in \\mathbb{N})$ and $A \\subseteq X \\times Y$.",
    "_source_page": 27
  },
  {
    "_source_page": 28
  },
  {
    "exercise": 2,
    "1": "The number 4 can be expressed as a sum of one or more positive integers, taking order into account, in 8 ways:\\n\\n4 = 1 + 3 = 3 + 1 = 2 + 2 = 1 + 1 + 2\\n= 1 + 2 + 1 = 2 + 1 + 1 = 1 + 1 + 1 + 1.\\n\\nIn general, given n \\in \\mathbf{N}, in how many ways can n be so expressed?",
    "2": "Find the number of 2n-digit binary sequences in which the number of 0's in the first n digits is equal to the number of 1's in the last n digits.",
    "3": "Let m, n, r \\in \\mathbf{N}. Find the number of r-element multi-subsets of the multi-set\\n\\nM = \\{a_1, a_2, \\dots, a_n, m \\cdot b\\}\\n\\nin each of the following cases:\\n\\n(i) r \\le m, r \\le n;\\n(ii) n \\le r \\le m;\\n(iii) m \\le r \\le n.",
    "4": "Ten points are marked on a circle. How many distinct convex polygons of three or more sides can be drawn using some (or all) of the ten points as vertices? (Polygons are distinct unless they have exactly the same vertices.) (AIME, 1989/2)",
    "5": "Find the coefficient of x^5 in the expansion of (1 + x + x^2)^8.",
    "6": "Find the coefficient of x^6 in the expansion of (1 + x + x^2)^9.",
    "7": "Find the coefficient of x^{18} in the expansion of\\n\\n(1 + x^3 + x^5 + x^7)^{100}.",
    "_source_page": 29
  },
  {
    "8": "Find the coefficient of $x^{29}$ in the expansion of\\n$$(1 + x^5 + x^7 + x^9)^{1000}.$$",
    "9": "In the expansion of\\n$$(1 + x + x^2 + \\dots + x^{10})^3,$$\\nwhat is the coefficient of\\n(i) $x^5$?\\n(ii) $x^8$?",
    "10": "Given an $n$-element set $X$, where $n \\in \\mathbf{N}$, let $\\mathcal{O} = \\{A \\subseteq X \\mid |A| \\text{ is odd}\\}$ and $\\mathcal{E} = \\{A \\subseteq X \\mid |A| \\text{ is even}\\}$. Show that $|\\mathcal{O}| = |\\mathcal{E}|$ by establishing a bijection between $\\mathcal{O}$ and $\\mathcal{E}$.",
    "11": "Find the number of permutations of the multi-set $\\{m \\cdot 1, n \\cdot 2\\}$, where $m, n \\in \\mathbf{N}$, which must contain the $m$ 1's.",
    "12": "Let $1 \\le r \\le n$ and consider all $r$-element subsets of the set $\\{1, 2, \\dots, n\\}$. Each of these subsets has a largest member. Let $H(n, r)$ denote the arithmetic mean of these largest members. Find $H(n, r)$ and simplify your result (see Example 2.5.2).",
    "13": "For $n \\in \\mathbf{N}$, let $\\Delta(n)$ denote the number of triangles $XYZ$ in the $n$th subdivision of an equilateral triangle $ABC$ (see Figure 2.5.2) such that $YZ // BC$, and $X$ and $A$ are on the same side of $YZ$. Evaluate $\\Delta(n)$. (For other enumeration problems relating to this, see M. E. Larsen, The eternal triangle - A history of a counting problem, The College Math. J., 20 (1989), 370-384.)",
    "14": "Find the coefficients of $x^n$ and $x^{n+r}$ ($1 \\le r \\le n$) in the expansion of\\n$$(1 + x)^{2n} + x(1 + x)^{2n-1} + x^2(1 + x)^{2n-2} + \\dots + x^n(1 + x)^n.$$",
    "15": "A polynomial in $x$ is defined by\\n$$a_0 + a_1x + a_2x^2 + \\dots + a_{2n}x^{2n} = (x + 2x^2 + \\dots + nx^n)^2.$$\\nShow that\\n$$\\sum_{i=n+1}^{2n} a_i = \\frac{n(n+1)(5n^2 + 5n + 2)}{24}.$$",
    "_source_page": 30
  },
  {
    "16": "Show that\n$$P_r^r + P_r^{r+1} + \\dots + P_r^{2r} = P_r^{2r+1},$$\nwhere $r$ is a nonnegative integer.",
    "17": "Given $r, n, m \\in \\mathbf{N}^*$ with $r \\le n$, show that\n$$P_r^n + P_r^{n+1} + \\dots + P_r^{n+m} = \\frac{1}{r+1} (P_{r+1}^{n+m+1} - P_{r+1}^n).$$\n(See Problem 2.35.)",
    "18": "Show that\n(i) for even $n \\in \\mathbf{N}$,\n$$\\binom{n}{i} < \\binom{n}{j} \\text{ if } 0 \\le i < j \\le \\frac{n}{2};$$\nand\n$$\\binom{n}{i} > \\binom{n}{j} \\text{ if } \\frac{n}{2} \\le i < j \\le n.$$\n(ii) for odd $n \\in \\mathbf{N}$,\n$$\\binom{n}{i} < \\binom{n}{j} \\text{ if } 0 \\le i < j \\le \\frac{1}{2}(n-1);$$\nand\n$$\\binom{n}{i} > \\binom{n}{j} \\text{ if } \\frac{1}{2}(n+1) \\le i < j \\le n.$$",
    "19": "Give three different proofs for each of the following identities:\n(i) $\\binom{2(n+1)}{n+1} = \\binom{2n}{n+1} + 2\\binom{2n}{n} + \\binom{2n}{n-1}$;\n(ii) $\\binom{n+1}{m} = \\binom{n-1}{m} + \\binom{n-1}{m-1} + \\binom{n}{m-1}$.",
    "20": "Give a combinatorial proof for the identity\n$$\\binom{n}{m}\\binom{m}{r} = \\binom{n}{r}\\binom{n-r}{m-r}.$$",
    "21": "Show that for $n \\in \\mathbf{N}^*$,",
    "_source_page": 31
  },
  {
    "22": "By using the identity $(1 - x^2)^n = (1 + x)^n(1 - x)^n$, show that for each $m \\in \\mathbf{N}^*$ with $m \\le n$,\\n\\sum_{i=0}^{2m} (-1)^i \\binom{n}{i} \\binom{n}{2m-i} = (-1)^m \\binom{n}{m},\\nand\\n\\sum_{i=0}^{2m+1} (-1)^i \\binom{n}{i} \\binom{n}{2m+1-i} = 0.\\nDeduce that\\n\\sum_{i=0}^{n} (-1)^i \\binom{n}{i}^2 = \\begin{cases} (-1)^{\\frac{n}{2}} \\binom{n}{\\frac{n}{2}} & \\text{if } n \\text{ is even} \\\\ 0 & \\text{if } n \\text{ is odd.} \\end{cases}",
    "23": "What is the value of the sum\\nS = m! + \\frac{(m+1)!}{1!} + \\frac{(m+2)!}{2!} + \\dots + \\frac{(m+n)!}{n!} ?\\n(Beijing Math. Contest (1962))",
    "24": "Prove each of the following identities in Problems 24-43, where $m, n \\in \\mathbf{N}^*$:\\n\\sum_{r=0}^{n} 3^r \\binom{n}{r} = 4^n,",
    "25": "\\sum_{r=0}^{n} (r+1) \\binom{n}{r} = (n+2)2^{n-1},",
    "26": "\\sum_{r=0}^{n} \\frac{1}{r+1} \\binom{n}{r} = \\frac{1}{n+1}(2^{n+1} - 1),",
    "27": "\\sum_{r=0}^{n} \\frac{(-1)^r}{r+1} \\binom{n}{r} = \\frac{1}{n+1},",
    "28": "\\sum_{r=m}^{n} \\binom{n}{r} \\binom{r}{m} = 2^{n-m} \\binom{n}{m} \\text{ for } 0 < m \\le n,",
    "_source_page": 32
  },
  {
    "29": "\\sum_{r=0}^{m} (-1)^r \\binom{n}{r} = \\begin{cases} (-1)^m \\binom{n-1}{m} & \\text{if } m < n \\\\ 0 & \\text{if } m = n > 0, \\end{cases}",
    "30": "\\sum_{r=0}^{m} (-1)^{m-r} \\binom{n}{r} = \\binom{n-1}{m} \\text{ for } m \\le n - 1,",
    "31": "\\sum_{r=0}^{n} (-1)^r r \\binom{n}{r} = 0 \\text{ for } n > 1,",
    "32": "\\sum_{r=0}^{n-1} \\binom{2n-1}{r} = 2^{2n-2},",
    "33": "\\sum_{r=0}^{n} \\binom{2n}{r} = 2^{2n-1} + \\frac{1}{2} \\binom{2n}{n},",
    "34": "\\sum_{r=0}^{n} r \\binom{2n}{r} = n 2^{2n-1},",
    "35": "\\sum_{r=k}^{m} \\binom{n+r}{n} = \\binom{n+m+1}{n+1} - \\binom{n+k}{n+1} \\text{ for } k \\in \\mathbf{N}^* \\text{ and } k \\le m,",
    "36": "\\sum_{r=1}^{n} \\binom{n}{r} \\binom{n-1}{r-1} = \\binom{2n-1}{n-1},",
    "37": "\\sum_{r=m}^{n} (-1)^r \\binom{n}{r} \\binom{r}{m} = \\begin{cases} (-1)^m & \\text{if } m = n \\\\ 0 & \\text{if } m < n, \\end{cases}",
    "38": "\\sum_{r=1}^{n-1} (n-r)^2 \\binom{n-1}{n-r} = n(n-1) 2^{n-3},\\n(See Problem 2.47(i).)",
    "39": "\\sum_{r=0}^{n} \\binom{2n}{r}^2 = \\frac{1}{2} \\left\\{ \\binom{4n}{2n} + \\binom{2n}{n}^2 \\right\\},",
    "40": "\\sum_{r=0}^{n} \\binom{n}{r}^2 \\binom{r}{n-k} = \\binom{n}{k} \\binom{n+k}{k} \\text{ for } k \\in \\mathbf{N}^*, 0 \\le k \\le n,",
    "41": "\\sum_{r=0}^{m} \\binom{n}{r} \\binom{m+r}{n} = \\sum_{r=0}^{n} \\binom{n}{r} \\binom{m}{r} 2^r,",
    "42": "\\sum_{r=0}^{n} \\binom{m}{r} \\binom{n}{r} \\binom{p+r}{m+n} = \\binom{p}{m} \\binom{p}{n}, \\text{ for } p \\in \\mathbf{N}, p \\ge m, n;\\n(Li Shanlan, 1811–1882)",
    "43": "\\sum_{r=0}^{m} \\binom{m}{r} \\binom{n}{r} \\binom{p+m+n-r}{m+n} = \\binom{p+m}{m} \\binom{p+n}{n} \\text{ for } p \\in \\mathbf{N}.\\n(Li Shanlan)",
    "44": "Prove the following identities using the technique of counting shortest routes in a grid:",
    "_source_page": 33
  },
  {
    "45": "Use the technique of finding the number of shortest routes in rectangular grid to prove the following identity:\\n\\binom{p}{q}\\binom{r}{0} + \\binom{p-1}{q-1}\\binom{r+1}{1} + \\dots + \\binom{p-q}{0}\\binom{r+q}{q} = \\binom{p+r+1}{q}.",
    "46": "Give a combinatorial proof for the following identity:\\n\\sum_{r=1}^{n} r \\binom{n}{r} = n \\cdot 2^{n-1}.",
    "47": "Given n \\in \\mathbf{N}, show that\\n(i) \\sum_{r=1}^{n} r^2 \\binom{n}{r} = n(n+1)2^{n-2};\\n(Putnam, 1962)\\n(ii) \\sum_{r=1}^{n} r^3 \\binom{n}{r} = n^2(n+3)2^{n-3};\\n(iii) \\sum_{r=1}^{n} r^4 \\binom{n}{r} = n(n+1)(n^2+5n-2)2^{n-4}.",
    "48": "(i) Prove that for r, k \\in \\mathbf{N},\\nr^k = \\sum_{i=0}^{k} \\binom{k}{i} (r-1)^{k-i}.\\n(ii) For n, k \\in \\mathbf{N}, let\\nR(n, k) = \\sum_{r=1}^{n} r^k \\binom{n}{r} and R(n, 0) = \\sum_{r=0}^{n} \\binom{n}{r}.\\nShow that\\nR(n, k) = n \\cdot \\sum_{j=0}^{k-1} \\binom{k-1}{j} R(n-1, j).\\nRemark. Two Chinese teachers, Wei Guozhen and Wang Kai (1988)",
    "_source_page": 34
  },
  {
    "49": "Prove that\n\\sum_{r=1}^{n} \\frac{1}{r}\\binom{n}{r} = \\sum_{r=1}^{n} \\frac{1}{r}(2^{r}-1).",
    "50": "Give two different proofs for the following identity:\n\\sum_{r=1}^{n} r\\binom{n}{r}^{2} = n\\binom{2n-1}{n-1},\nwhere n \\in \\mathbf{N}.",
    "51": "Let p be a prime. Show that\n\\binom{p}{r} \\equiv 0 \\pmod{p}\nfor all r such that 1 \\le r \\le p - 1. Deduce that (1 + x)^p \\equiv (1 + x^p) \\pmod{p}.",
    "52": "Let p be an odd prime. Show that\n\\binom{2p}{p} \\equiv 2 \\pmod{p}.",
    "53": "Let n, m, p be integers such that 1 \\le p \\le m \\le n.\n(i) Express, in terms of S(n, p), the number of mappings f: \\mathbf{N}_n \\to \\mathbf{N}_m such that |f(\\mathbf{N}_n)| = p.\n(ii) Express, in terms of S(n, k)'s, where p \\le k \\le m, the number of mappings f: \\mathbf{N}_n \\to \\mathbf{N}_m such that \\mathbf{N}_p \\subseteq f(\\mathbf{N}_n).",
    "54": "Recall that for nonnegative integers n, r, H_r^n = \\binom{r+n-1}{r}. Prove each of the following identities:\n(a) H_r^n = \\frac{n}{r} H_{r-1}^{n+1};\n(b) H_r^n = \\frac{n+r-1}{r} H_{r-1}^n;",
    "_source_page": 35
  },
  {
    "55": "For $n, k \\in \\mathbf{N}$ with $n \\ge 2$ and $1 \\le k \\le n$, let\n$$d_k(n) = \\left| \\binom{n}{k} - \\binom{n}{k-1} \\right|,$$\n$$d_{\\min}(n) = \\min\\{d_k(n) \\mid 1 \\le k \\le n\\}.$$\nShow that\n(i) $d_{\\min}(n) = 0$ iff $n$ is odd;\n(ii) For odd $n$, $d_k(n) = 0$ iff $k = \\frac{1}{2}(n + 1)$.\nLet $d_{\\min}^*(n) = \\min\\{d_k(n) \\mid 1 \\le k \\le n, k \\ne \\frac{1}{2}(n + 1)\\}$. Show that\n(iii) For $n \\ne 4$, $d_{\\min}^*(n) = n - 1$;\n(iv) For $n \\ne 4$ and $n \\ne 6$,\n$$d_k(n) = n - 1 \\text{ iff } k = 1 \\text{ or } k = n;$$\n(v) For $n = 6$, $d_k(6) = 5$ iff $k = 1, 3, 4$ or $6$.\n(See Z. Shan and E. T. H. Wang, The gaps between consecutive binomial coefficients, Math. Magazine, 63 (1990), 122–124.)",
    "56": "Prove that\n(i) $\\binom{\\binom{n}{2}}{2} = 3 \\binom{n+1}{4}$ for $n \\in \\mathbf{N}$;\n(ii) $\\binom{\\binom{n}{2}}{2} > \\binom{\\binom{n}{3}}{2}$ for $n \\in \\mathbf{N}, n \\ge 3$;\n(iii) $\\binom{\\binom{n}{r}}{2} = \\sum_{j=1}^r \\binom{\\binom{r}{j} + \\epsilon_j}{2} \\binom{n+r-j}{2r}$,\nwhere $\\epsilon_j = \\begin{cases} 1 & \\text{if } j \\text{ is odd} \\\\ 0 & \\text{if } j \\text{ is even} \\end{cases}$ and $n, r \\in \\mathbf{N}$ with $r \\le n$;\n(iv) $\\binom{\\binom{n}{r}}{2} = \\sum_{j=1}^r \\binom{2j-1}{j} \\binom{r+j}{2j} \\binom{n}{r+j}$,\nfor $n, r \\in \\mathbf{N}$ with $r \\le n$.",
    "_source_page": 36
  },
  {
    "57": "Let $a_n = 6^n + 8^n$. Determine the remainder on dividing $a_{83}$ by 49. (AIME, 1983/6)",
    "58": "The increasing sequence 1, 3, 4, 9, 10, 12, 13, . . . consists of all those positive integers which are powers of 3 or sums of distinct powers of 3. Find the 100th term of this sequence (where 1 is the 1st term, 3 is the 2nd term, and so on). (AIME, 1986/7)",
    "59": "The polynomial $1 - x + x^2 - x^3 + \\dots + x^{16} - x^{17}$ may be written in the form $a_0 + a_1y + a_2y^2 + a_3y^3 + \\dots + a_{16}y^{16} + a_{17}y^{17}$, where $y = x + 1$ and the $a_i$'s are constants. Find the value of $a_2$. (AIME, 1986/11)",
    "60": "In an office, at various times during the day, the boss gives the secretary a letter to type, each time putting the letter on top of the pile in the secretary's in-box. When there is time, the secretary takes the top letter off the pile and types it. There are nine letters to be typed during the day, and the boss delivers them in the order 1, 2, 3, 4, 5, 6, 7, 8, 9.\\nWhile leaving for lunch, the secretary tells a colleague that letter 8 has already been typed, but says nothing else about the morning's typing. The colleague wonders which of the nine letters remain to be typed after lunch and in what order they will be typed. Based upon the above information, how many such after-lunch typing orders are possible? (That there are no letters left to be typed is one of the possibilities.) (AIME, 1988/15)",
    "61": "Expanding $(1 + 0.2)^{1000}$ by the binomial theorem and doing no further manipulation gives\\n\\n$\\binom{1000}{0}(0.2)^0 + \\binom{1000}{1}(0.2)^1 + \\binom{1000}{2}(0.2)^2 + \\dots + \\binom{1000}{1000}(0.2)^{1000}$\\n$= A_0 + A_1 + A_2 + \\dots + A_{1000}$,\\n\\nwhere $A_k = \\binom{1000}{k}(0.2)^k$ for $k = 0, 1, 2, \\dots, 1000$. For which $k$ is $A_k$ the largest? (AIME, 1991/3)",
    "62": "Prove that the number of distinct terms in the expansion of\\n\\n$(x_1 + x_2 + \\dots x_m)^n$\\n\\nis given by $H_n^m = \\binom{n+m-1}{n}.$",
    "63": "Show by two different methods that",
    "_source_page": 37
  },
  {
    "64": "For $n, m \\in \\mathbf{N}$, show that\\n$$\\sum \\binom{n}{n_1, n_2, \\dots, n_m} = m! S(n, m),$$\\nwhere the sum is taken over all $m$-ary sequences $(n_1, n_2, \\dots, n_m)$ such that $n_i \\neq 0$ for all $i$, and $S(n, m)$ is a Stirling number of the second kind.",
    "65": "Prove that\\n$$\\sum \\binom{n}{n_1, n_2, \\dots, n_m} (-1)^{n_2+n_4+n_6+\\dots} = \\begin{cases} 1 & \\text{if } m \\text{ is odd} \\\\ 0 & \\text{if } m \\text{ is even} \\end{cases},$$\\nwhere the sum is taken over all $m$-ary sequences $(n_1, n_2, \\dots, n_m)$ of nonnegative integers with $\\sum_{i=1}^m n_i = n$.",
    "66": "Prove the following generalized Vandermonde's identity for multinomial coefficients: for $p, q \\in \\mathbf{N}$,\\n$$\\binom{p+q}{k_1, k_2, \\dots, k_m} = \\sum \\binom{p}{j_1, j_2, \\dots, j_m} \\binom{q}{k_1-j_1, k_2-j_2, \\dots, k_m-j_m},$$\\nwhere the sum is taken over all $m$-ary sequences $(j_1, j_2, \\dots, j_m)$ of nonnegative integers with $j_1 + j_2 + \\dots + j_m = p$.",
    "67": "Given any prime $p$ and $m \\in \\mathbf{N}$, show that\\n$$\\binom{p}{n_1, n_2, \\dots, n_m} \\equiv 0 \\pmod p,$$\\nif $p \\neq n_i$, for any $i = 1, 2, \\dots, m$.\\nDeduce that\\n$$\\left(\\sum_{i=1}^m x_i\\right)^p \\equiv \\sum_{i=1}^m x_i^p \\pmod p.$$",
    "68": "Let $p$ be a prime, and $n \\in \\mathbf{N}$. Write $n$ in base $p$ as follows:",
    "_source_page": 38
  },
  {
    "69": "Show that\n\\sum_{r=0}^n \\binom{n}{r}^2 \\binom{2n + m - r}{2n} = \\binom{m + n}{n}^2.\n(Li Jen Shu)",
    "70": "Show that\n\\sum_{r=1}^n \\frac{(-1)^{r-1}}{r} \\binom{n}{r} = \\sum_{k=1}^n \\frac{1}{k},\nwhere n \\in \\mathbf{N}.",
    "71": "Given r \\in \\mathbf{N} with r \\ge 2, show that\n\\sum_{n=r}^\\infty \\frac{1}{\\binom{n}{r}} = \\frac{r}{r - 1}.\n(See H. W. Gould, Combinatorial Identities, Morgantown, W. V. (1972), 18-19.)",
    "72": "Let S = \\{1, 2, \\dots, n\\}. For each A \\subseteq S with A \\ne \\emptyset, let M(A) = \\max\\{x \\mid x \\in A\\}, m(A) = \\min\\{x \\mid x \\in A\\} and \\alpha(A) = M(A) + m(A). Evaluate the arithmetic mean of all the \\alpha(A)'s when A runs through all nonempty subsets of S.",
    "73": "Given a_n = \\sum_{k=0}^n \\binom{n}{k}^{-1}, n \\in \\mathbf{N},\nshow that\n\\lim_{n \\to \\infty} a_n = 2.",
    "_source_page": 39
  },
  {
    "74": "Let $(z)_0 = 1$ and for $n \\in \\mathbf{N}$, let\\n$$(z)_n = z(z-1)(z-2)\\cdots(z-n+1).$$\\nShow that\\n$$(x+y)_n = \\sum_{i=0}^n \\binom{n}{i} (x)_i (y)_{n-i},$$\\nfor all $n \\in \\mathbf{N}^*$. (Putnam, 1962)",
    "75": "In how many ways can the integers from 1 to $n$ be ordered subject to the condition that, except for the first integer on the left, every integer differs by 1 from some integer to the left of it? (Putnam, 1965)",
    "76": "Show that, for any positive integer $n$,\\n$$\\sum_{r=0}^{\\lfloor \\frac{n-1}{2} \\rfloor} \\left\\{ \\frac{n-2r}{n} \\binom{n}{r} \\right\\}^2 = \\frac{1}{n} \\binom{2n-2}{n-1}.$$\\n(Putnam, 1965)",
    "77": "Show that for $n \\in \\mathbf{N}$ with $n \\ge 2$,\\n$$\\sum_{r=1}^n r \\sqrt{\\binom{n}{r}} < \\sqrt{2^{n-1} n^3}.$$\\n(Spanish MO, 1988)",
    "78": "Let $n, r \\in \\mathbf{N}$ with $r \\le n$ and let $k$ be the HCF of the following numbers:\\n$$\\binom{n}{r}, \\binom{n+1}{r}, \\dots, \\binom{n+r}{r}.$$\\nShow that $k = 1$.",
    "79": "Show that there are no four consecutive binomial coefficients $\\binom{n}{r}, \\binom{n}{r+1}, \\binom{n}{r+2}, \\binom{n}{r+3}$ ($n, r \\in \\mathbf{N}$ with $r+3 \\le n$) which are in arithmetic progression. (Putnam, 1972)",
    "80": "Find the greatest common divisor (i.e., HCF) of\\n$$\\binom{2n}{1}, \\binom{2n}{3}, \\dots, \\binom{2n}{2n-1}.$$",
    "_source_page": 40
  },
  {
    "81": "Let $n \\in \\mathbb{N}$. Show that $\\binom{n}{r}$ is odd for each $r \\in \\{0, 1, 2, \\dots, n\\}$ iff $n = 2^k - 1$ for some $k \\in \\mathbb{N}$.",
    "82": "An unbiased coin is tossed $n$ times. What is the expected value of $|H - T|$, where $H$ is the number of heads and $T$ is the number of tails? In other words, evaluate in closed form:\\n\\n$$\\frac{1}{2^{n-1}} \\sum_{k < \\frac{n}{2}} (n - 2k) \\binom{n}{k}.$$\\n\\n(\\\"closed form\\\" means a form not involving a series.) (Putnam, 1974)",
    "83": "Prove that\\n\\n$$\\binom{pa}{pb} \\equiv \\binom{a}{b} \\pmod{p}$$\\n\\nfor all integers $p, a$ and $b$ with $p$ a prime, and $a \\ge b \\ge 0$. (Putnam, 1977)",
    "84": "The geometric mean (G.M.) of $k$ positive numbers $a_1, a_2, \\dots, a_k$ is defined to be the (positive) $k$th root of their product. For example, the G.M. of 3, 4, 18 is 6. Show that the G.M. of a set $S$ of $n$ positive numbers is equal to the G.M. of the G.M.'s of all nonempty subsets of $S$. (Canadian MO, 1983)",
    "85": "For $n, k \\in \\mathbb{N}$, let $S_k(n) = 1^k + 2^k + \\dots + n^k$. Show that\\n\\n(i)\\n$$\\sum_{k=0}^{m-1} \\binom{m}{k} S_k(n) = (n+1)^m - 1,$$\\n\\n(ii)\\n$$S_m(n) - \\sum_{k=0}^m (-1)^{m-k} \\binom{m}{k} S_k(n) = n^m,$$\\n\\nwhere $m \\in \\mathbb{N}$.",
    "86": "Let $P(x)$ be a polynomial of degree $n, n \\in \\mathbb{N}$, such that $P(k) = 2^k$ for each $k = 1, 2, \\dots, n + 1$. Determine $P(n + 2)$. (Proposed by M. Klamkin, see Pi Mu Epsilon, 4 (1964), 77, Problem 158.)",
    "87": "Let $X = \\{1, 2, \\dots, 10\\}, \\mathcal{A} = \\{A \\subset X \\mid |A| = 4\\}$, and $f: \\mathcal{A} \\to X$ be an arbitrary",
    "_source_page": 41
  },
  {
    "88": "(i) Applying the arithmetic-geometric mean inequality on\\n\\n$$\\binom{n+1}{1}, \\binom{n+1}{2}, \\dots, \\binom{n+1}{n},$$\\n\\nshow that\\n\\n$$(2^{n+1} - 2)^n \\ge n^n \\prod_{r=1}^n \\binom{n+1}{r},$$\\n\\nwhere $n \\in \\mathbb{N}$.\\n(ii) Show that\\n\\n$$(n!)^{n+1} = \\left(\\prod_{r=1}^n r^r\\right) \\left(\\prod_{r=1}^n (r!)\\right).$$\\n\\n(iii) Deduce from (i) and (ii) or otherwise, that\\n\\n$$\\left(\\frac{n(n+1)!}{2^{n+1}-2}\\right)^{\\frac{n}{2}} \\le \\frac{(n!)^{n+1}}{\\prod_{r=1}^n r^r}.$$\\n\\n(iv) Show that the equality in (iii) holds iff $n = 1$ or $n = 2$. (See The College Math. J., 20 (1989), 344.)",
    "89": "Find, with proof, the number of positive integers whose base-$n$ representation consists of distinct digits with the property that, except for the leftmost digit, every digit differs by $\\pm 1$ from some digit further to the left. (Your answer should be an explicit function of $n$ in simplest form.)\\n(USA MO, 1990/4)",
    "90": "Let $S_n = \\sum_{k=0}^n \\binom{3n}{3k}$. Prove that\\n\\n$$\\lim_{n \\to \\infty} (S_n)^{\\frac{1}{3n}} = 2.$$\\n\\n(Bulgarian Spring Competition, 1985)",
    "91": "(i) If $f(n)$ denotes the number of 0's in the decimal representation of the positive integer $n$, what is the value of the sum",
    "_source_page": 42
  },
  {
    "92": "Prove that the number of binary sequences of length n which contain exactly m occurrences of \"01\" is \\binom{n+1}{2m+1}. (Great Britain MO, 1982/6)",
    "93": "There are n people in a gathering, some being acquaintances, some strangers. It is given that every 2 strangers have exactly 2 common friends, and every 2 acquaintances have no common friends. Show that everyone has the same number of friends in the gathering. (23rd Moscow MO)",
    "94": "Let n \\in \\mathbb{N}^*. For p = 1, 2, \\dots, define\\nA_p(n) = \\sum_{0 \\le k \\le \\frac{n}{2}} (-1)^k \\left\\{ \\binom{n}{k} - \\binom{n}{k-1} \\right\\}^p.\\nProve that, whenever n is odd, A_2(n) = n A_1(n). (Proposed by H. W. Gould, see Amer. Math. Monthly, 80 (1973), 1146.)",
    "95": "Let n \\in \\mathbb{N}^*. For p = 1, 2, \\dots, define\\nB_p(n) = \\sum_{k=0}^{\\lfloor \\frac{n}{2} \\rfloor} \\left\\{ \\binom{n}{k} - \\binom{n}{k-1} \\right\\}^p.\\nEvaluate B_2(n). (Proposed by E. T. Ordman, see Amer. Math. Monthly, 80 (1973), 1066.)",
    "96": "Show that\\n(i) \\binom{2n-1}{r}^{-1} = \\frac{2n}{2n+1} \\left\\{ \\binom{2n}{r}^{-1} + \\binom{2n}{r+1}^{-1} \\right\\}, where r, n \\in \\mathbb{N};\\n(ii) \\sum_{r=1}^{2n-1} (-1)^{r-1} \\binom{2n-1}{r}^{-1} \\sum_{j=1}^r \\frac{1}{j} = \\frac{2n}{2n+1} \\sum_{r=1}^{2n} \\frac{1}{r}.\\n(Proposed by I. Kaucký, see Amer. Math. Monthly, 78 (1971), 908.)",
    "_source_page": 43
  },
  {
    "97": "Given $\\ell, m, n \\in \\mathbf{N}^*$ with $\\ell, n \\le m$, evaluate the double sum\\n\\n$$\\sum_{i=0}^{\\ell} \\sum_{j=0}^{i} (-1)^j \\binom{m-i}{m-\\ell} \\binom{n}{j} \\binom{m-n}{i-j}.$$\\n\\n(Proposed by D. B. West, see Amer. Math. Monthly, 97 (1990), 428–429.)",
    "98": "Show that\\n\\n$$\\sum_{r=0}^{n} \\binom{n}{r} \\binom{p}{r+s} \\binom{q+r}{m+n} = \\sum_{r=0}^{n} \\binom{n}{r} \\binom{q}{m+r} \\binom{p+r}{n+s},$$\\n\\nwhere $m, n, p, q, s \\in \\mathbf{N}^*$. (See R. C. Lyness, The mystery of the double sevens, Crux Mathematicorum, 9 (1983), 194–198.)",
    "_source_page": 44
  },
  {
    "exercise": 3,
    "1": "Show that among any 5 points in an equilateral triangle of unit side length, there are 2 whose distance is at most $\\frac{1}{2}$ units apart.",
    "2": "Given any set $C$ of $n + 1$ distinct points ($n \\in \\mathbb{N}$) on the circumference of a unit circle, show that there exist $a, b \\in C, a \\neq b$, such that the distance between them does not exceed $2 \\sin \\frac{\\pi}{n}$.",
    "3": "Given any set $S$ of 9 points within a unit square, show that there always exist 3 distinct points in $S$ such that the area of the triangle formed by these 3 points is less than or equal to $\\frac{1}{8}$. (Beijing Math. Competition, 1963)",
    "4": "Show that given any set of 5 numbers, there are 3 numbers in the set whose sum is divisible by 3.",
    "5": "Let $A$ be a set of $n + 1$ elements, where $n \\in \\mathbb{N}$. Show that there exist $a, b \\in A$ with $a \\neq b$ such that $n|(a - b)$.",
    "6": "Let $A = \\{a_1, a_2, \\dots, a_{2k+1}\\}$, where $k \\geq 1$, be a set of $2k + 1$ positive integers. Show that for any permutation $a_{i_1}, a_{i_2}, \\dots, a_{i_{2k+1}}$ of $A$, the product\\n\\n$$\\prod_{j=1}^{2k+1} (a_{i_j} - a_j)$$\\n\\nis always even.",
    "7": "Let $A \\subseteq \\{1, 2, \\dots, 2n\\}$ such that $|A| = n + 1$, where $n \\in \\mathbb{N}$. Show that there exist $a, b \\in A$, with $a \\neq b$ such that $a|b$.",
    "8": "Let $A$ be a subset of $\\{1, 2, \\dots, 2n\\}$ such that $|A| = n + 1$. Show that there exist $a, b \\in A$ such that $a$ and $b$ are coprime.",
    "9": "Show that among any group of $n$ people, where $n \\geq 2$, there are at least two people who know exactly the same number of people in the group (assuming that \"knowing\" is a symmetry relation).",
    "10": "Let $C = \\{r_1, r_2, \\dots, r_{n+1}\\}$ be a set of $n + 1$ real numbers, where $0 \\leq r_i < 1$",
    "_source_page": 45
  },
  {
    "11": "Show that given any set $A$ of 13 distinct real numbers, there exist $x, y \\in A$ such that\n\n$$0 < \\frac{x - y}{1 + xy} \\le 2 - \\sqrt{3}.$$",
    "12": "Consider a set of $2n$ points in space, $n > 1$. Suppose they are joined by at least $n^2 + 1$ segments. Show that at least one triangle is formed. Show that for each $n$ it is possible to have $2n$ points joined by $n^2$ segments without any triangles being formed. (Putnam, 1956)",
    "13": "Let there be given nine lattice points (points with integral coordinates) in the three dimensional Euclidean space. Show that there is a lattice point on the interior of one of the line segments joining two of these points. (Putnam, 1971)",
    "14": "(i) A point $(a_1, a_2)$ in the $x - y$ plane is called a lattice point if both $a_1$ and $a_2$ are integers. Given any set $L_2$ of 5 lattice points in the $x - y$ plane, show that there exist 2 distinct members in $L_2$ whose midpoint is also a lattice point (not necessarily in $L_2$).\nMore generally, we have:\n(ii) A point $(a_1, a_2, \\dots, a_n)$ in the space $\\mathbf{R}^n$, where $n \\ge 2$ is an integer, is called a lattice point if all the $a_i$'s are integers. Show that given any set $L_n$ of $2^n + 1$ lattice points in $\\mathbf{R}^n$, there exist 2 distinct members in $L_n$ whose midpoint is also a lattice point (but not necessarily in $L_n$).",
    "15": "Let $A$ be any set of 20 distinct integers chosen from the arithmetic progression $1, 4, 7, \\dots, 100$. Prove that there must be two distinct integers in $A$ whose sum is 104. (Putnam, 1978)",
    "16": "Let $A$ be a set of 6 points in a plane such that no 3 are collinear. Show that there exist 3 points in $A$ which form a triangle having an interior angle not exceeding $30^\\circ$. (26th Moscow MO)",
    "17": "Let $n \\ge 3$ be an odd number. Show that there is a number in the set\n\n$$\\{2^1 - 1, 2^2 - 1, \\dots, 2^{n-1} - 1\\}$$\n\nwhich is divisible by $n$. (USSR MO, 1980)",
    "18": "There are $n$ people at a party. Prove that there are two people such that, of the remaining $n - 2$ people, there are at least $\\lfloor n/2 \\rfloor - 1$ of them, each of",
    "_source_page": 46
  },
  {
    "19": "For a finite set $A$ of integers, denote by $s(A)$ the sum of numbers in $A$. Let $S$ be a subset of $\\{1, 2, 3, \\dots, 14, 15\\}$ such that $s(B) \\neq s(C)$ for any 2 disjoint subsets $B, C$ of $S$. Show that $|S| \\leq 5$. (USA MO, 1986)",
    "20": "In the rectangular array\\n$a_{11} \\ a_{12} \\ \\dots \\ a_{1n}$\\n$a_{21} \\ a_{22} \\ \\dots \\ a_{2n}$\\n$\\vdots \\ \\vdots \\ \\vdots$\\n$a_{m1} \\ a_{m2} \\ \\dots \\ a_{mn}$\\nof $m \\times n$ real numbers, the difference between the maximum and the minimum element in each row is at most $d$, where $d > 0$. Each column is then rearranged in decreasing order so that the maximum element of the column occurs in the first row, and the minimum element occurs in the last row. Show that in the rearranged array the difference between the maximum and the minimum elements in each row is still at most $d$. (Swedish Math. Competition, 1986)",
    "21": "We are given a regular decagon with all diagonals drawn. The number \"+1\" is attached to each vertex and to each point where diagonals intersect (we consider only internal points of intersection). We can decide at any time to simultaneously change the sign of all such numbers along a given side or a given diagonal. Is it possible after a certain number of such operations to have changed all the signs to negative? (International Mathematics Tournament of the Towns, Senior, 1984)",
    "22": "In a football tournament of one round (each team plays each other once, 2 points for win, 1 point for draw and 0 points for loss), 28 teams compete. During the tournament more than 75% of the matches finished in a draw. Prove that there were two teams who finished with the same number of points. (International Mathematics Tournament of the Towns, Junior, 1986)",
    "23": "Fifteen problems, numbered 1 through 15, are posed on a certain examination. No student answers two consecutive problems correctly. If 1600 candidates sit the test, must at least two of them have the identical answer patterns? (Assume each question has only 2 possible answers, right or wrong, and assume that no student leaves any question unanswered.) (24th Spanish MO, 1989)",
    "_source_page": 47
  },
  {
    "24": "Suppose that $a_1 < a_2 \\le \\dots \\le a_n$ are natural numbers such that $a_1 + \\dots + a_n = 2n$ and such that $a_n \\neq n + 1$. Show that if $n$ is even, then for some subset $K$ of $\\{1, 2, \\dots, n\\}$ it is true that $\\sum_{i \\in K} a_i = n$. Show that this is true also if $n$ is odd when we make the additional assumption that $a_n \\neq 2$. (Proposed by J. Q. Longyear, see Amer. Math. Monthly, 80 (1973), 946-947.)",
    "25": "Let $X$ be a nonempty set having $n$ elements and $C$ be a colour set with $p \\ge 1$ elements. Find the greatest number $p$ satisfying the following property: If we colour in an arbitrary way each subset of $X$ with colours from $C$ such that each subset receives only one colour, then there exist two distinct subsets $A, B$ of $X$ such that the sets $A, B, A \\cup B, A \\cap B$ have the same colour. (Proposed by I. Tomescu, see Amer. Math. Monthly, 95 (1988), 876-877.)",
    "26": "Consider the system of $p$ equations in $q = 2p$ unknowns $x_1, x_2, \\dots, x_q$:\n\n$a_{11}x_1 + a_{12}x_2 + \\dots + a_{1q}x_q = 0$\n$a_{21}x_1 + a_{22}x_2 + \\dots + a_{2q}x_q = 0$\n.................................................\n$a_{p1}x_1 + a_{p2}x_2 + \\dots + a_{pq}x_q = 0$\n\nwith every coefficient $a_{ij}$ a member of the set $\\{-1, 0, 1\\}$. Prove that the system has a solution $(x_1, x_2, \\dots, x_q)$ such that\n(a) all $x_j (j = 1, 2, \\dots, q)$ are integers,\n(b) there is at least one value of $j$ for which $x_j \\neq 0$,\n(c) $|x_j| \\le q (j = 1, 2, \\dots, q)$.\n(IMO, 1976/5)",
    "27": "An international society has its members from six different countries. The list of members contains 1978 names, numbered 1, 2, \\dots, 1978. Prove that there is at least one member whose number is the sum of the numbers of two members from his own country, or twice as large as the number of one member from his own country. (IMO, 1978/6)",
    "28": "Let $p, q \\in \\mathbf{N}$. Show that in any given sequence of $R(p, q)$ distinct integers, there is either an increasing subsequence of $p$ terms or a decreasing subsequence of $q$ terms.",
    "29": "Show that given any sequence of $pq + 1$ distinct real numbers, where $p$ and $q$ are nonnegative integers, there is either an increasing subsequence of $p + 1$ terms or a decreasing subsequence of $q + 1$ terms. (P. Erdős and G. Szekeres (1935))",
    "_source_page": 48
  },
  {
    "30": "Show that\n(a) $R(p, q) = R(q, p)$, for all $p, q \\in \\mathbf{N}$;\n(b) $R(2, q) = q$, for all $q \\in \\mathbf{N}$.",
    "31": "Let $p, p', q, q' \\in \\mathbf{N}$ with $p' \\le p$ and $q' \\le q$. Show that\n(i) $R(p', q') \\le R(p, q)$;\n(ii) $R(p - 1, q) \\le R(p, q) - 1$ for $p \\ge 2$;\n(iii) $R(p', q') = R(p, q)$ iff $p' = p$ and $q' = q$.",
    "32": "For $p, q \\in \\mathbf{N}$, show that\n$$R(p, q) \\le \\binom{p+q-2}{p-1}.$$",
    "33": "Show that\n$$R(3, q) \\le \\frac{1}{2}(q^2 + 3)$$\nfor $q \\ge 1$.",
    "34": "Show that $R(3, 5) = 14$.",
    "35": "Show that\n(a) $R(4, 4) \\le 18$,\n(b) $R(3, 6) \\le 19$.",
    "36": "Show that\n(a) $R(p_1, p_2, \\dots, p_k) = 1$ if $p_i = 1$ for some $i \\in \\{1, 2, \\dots, k\\}$;\n(b) $R(p, 2, 2, \\dots, 2) = p$ for $p \\ge 2$.",
    "37": "Let $k, p_1, p_2, \\dots, p_k \\in \\mathbf{N}$ with $k \\ge 2$. Show that\n$$R(p_1, p_2, \\dots, p_k) = R(p_1, p_2, \\dots, p_k, 2).$$",
    "38": "Given any $k$ integers $p_i \\ge 2, i = 1, 2, \\dots, k$, where $k \\ge 2$, show that\n$$R(p_1, p_2, \\dots, p_k) \\le \\sum_{i=1}^k R(p_1, \\dots, p_{i-1}, p_i - 1, p_{i+1}, \\dots, p_k) - (k - 2).$$",
    "39": "Let $k \\in \\mathbf{N}, p_1, p_2, \\dots, p_k \\in \\mathbf{N}^*$ and $p = \\sum_{i=1}^k p_i$. Show by induction on $p$ that",
    "_source_page": 49
  },
  {
    "40": "For $k \\in \\mathbb{N}$ with $k \\ge 2$, let $R_k$ denote $R(\\underbrace{3, 3, \\dots, 3}_{k})$. Show that\\n(a) (i) $R_k \\le k(R_{k-1} - 1) + 2$ for $k \\ge 3$;\\n(ii) $R_k \\le \\lfloor k!e \\rfloor + 1$;\\n(iii) $R_4 \\le 66$.\\n(R. E. Greenwood and A. M. Gleason, Canad. J. Math., 7 (1955), 1-7.)\\n(b) $R_k \\ge 2^k + 1$.",
    "41": "Let $k \\in \\mathbb{N}$ and let $\\{S_1, S_2, \\dots, S_k\\}$ be any partition of the set $N_n = \\{1, 2, \\dots, n\\}$, where $n = R(\\underbrace{3, 3, \\dots, 3}_{k})$. Show that there exist $i \\in \\{1, 2, \\dots, k\\}$, and some integers $a, b, c$ (not necessarily distinct) in $S_i$ such that $a + b = c$.",
    "42": "Show that\\n(i) $R(3, 3, 2) = 6$,\\n(ii) $R(3, 3, 3) \\le 17$. (See also Example 3.4.1.)",
    "43": "A $p$-clique is monochromatic if all its edges are coloured by the same colour.\\n(a) Show that for any colouring of the edges of the 6-clique $K_6$ by 2 colours: blue or red, there are at least two monochromatic 3-cliques (not necessarily disjoint).\\n(b) Give a colouring of the edges of $K_6$ by 2 colours such that there are no three monochromatic 3-cliques.",
    "44": "The edges of the 7-clique $K_7$ are coloured by 2 colours: blue or red. Show that there are at least four monochromatic 3-cliques in the resulting configuration.",
    "45": "Given any colouring of the edges of an $n$-clique $K_n (n \\in \\mathbb{N}, n \\ge 3)$ by 2 colours, let $T(n)$ denote the number of monochromatic 3-cliques in the resulting configuration. Show that\\n$T(n) \\ge \\begin{cases} \\frac{1}{3}k(k-1)(k-2) & \\text{if } n = 2k, \\\\ \\frac{2}{3}k(k-1)(4k+1) & \\text{if } n = 4k+1, \\\\ \\frac{2}{3}k(k+1)(4k-1) & \\text{if } n = 4k+3. \\end{cases}$",
    "_source_page": 50
  },
  {
    "46": "Each of the 36 line segments joining 9 distinct points on a circle is coloured either red or blue. Suppose that each triangle determined by 3 of the 9 points contains at least one red side. Prove that there are four points such that the 6 segments connecting them are red. (Canadian MO, 1976)",
    "_source_page": 51
  },
  {
    "exercise": 4,
    "1": "A group of 102 students took examinations in Chinese, English and Mathematics. Among them, 92 passed Chinese, 75 English and 63 Mathematics; at most 65 passed Chinese and English, at most 54 Chinese and Mathematics, and at most 48 English and Mathematics. Find the largest possible number of the students that could have passed all the three subjects.",
    "2": "(a) Let $A, B$ and $C$ be finite sets. Show that\n(i) $|\\bar{A} \\cap B| = |B| - |A \\cap B|$;\n(ii) $|\\bar{A} \\cap \\bar{B} \\cap C| = |C| - |A \\cap C| - |B \\cap C| + |A \\cap B \\cap C|$.\n(b) Find the number of integers in the set $\\{1, 2, \\dots, 10^3\\}$ which are not divisible by 5 nor by 7 but are divisible by 3.",
    "3": "Find the number of integers in the set $\\{1, 2, \\dots, 120\\}$ which are divisible by exactly 'm' of the integers: 2, 3, 5, 7, where $m = 0, 1, 2, 3, 4$. Find also the number of primes which do not exceed 120.",
    "4": "How many positive integers $n$ are there such that $n$ is a divisor of at least one of the numbers $10^{40}, 20^{30}$? (Putnam 1983)",
    "5": "Find the number of positive divisors of at least one of the numbers: $10^{60}, 20^{50}, 30^{40}$.",
    "6": "Find the number of integers in each of the following sets which are not of the form $n^2$ or $n^3$, where $n \\in \\mathbf{N}$:\n(i) $\\{1, 2, \\dots, 10^4\\}$,\n(ii) $\\{10^3, 10^3 + 1, \\dots, 10^4\\}$.",
    "7": "Prove Theorem 4.2.1 by\n(a) induction on $q$;\n(b) Corollary 2 to Theorem 4.3.1.",
    "_source_page": 52
  },
  {
    "8": "A year is a leap year if it is either (i) a multiple of 4 but not a multiple of 100, or (ii) a multiple of 400. For example, 1600 and 1924 were leap years while 2200 will not be. Find the number of leap years between 1000 and 3000 inclusive.",
    "9": "Each of $n$ boys attends a school gathering with both of his parents. In how many ways can the $3n$ people be divided into groups of three such that each group contains a boy, a male parent and a female parent, and no boy is with both of his parents in his group?",
    "10": "A man has 6 friends. At dinner in a certain restaurant, he has met each of them 12 times, every two of them 6 times, every three of them 4 times, every four of them 3 times, every five twice and all six only once. He has dined out 8 times without meeting any of them. How many times has he dined out altogether?",
    "11": "Three identical black balls, four identical red balls and five identical white balls are to be arranged in a row. Find the number of ways that this can be done if all the balls with the same colour do not form a single block.",
    "12": "How many arrangements of $a, a, a, b, b, b, c, c, c$ are there such that\n(i) no three consecutive letters are the same?\n(ii) no two consecutive letters are the same?",
    "13": "Find the number of shortest routes from corner $X$ to corner $Y$ in the following rectangular grid if the segments $AB, BC$ and $BD$ are all deleted.",
    "14": "Find the number of integer solutions to the equation\n$$x_1 + x_2 + x_3 = 28$$\nwhere $3 \\le x_1 \\le 9, 0 \\le x_2 \\le 8$ and $7 \\le x_3 \\le 17$.",
    "15": "Find the number of integer solutions to the equation\n$$x_1 + x_2 + x_3 = 40$$",
    "_source_page": 53
  },
  {
    "16": "Find the number of integer solutions to the equation\\n\\n$$x_1 + x_2 + x_3 + x_4 = 20$$\\n\\nwhere $1 \\le x_1 \\le 5, 0 \\le x_2 \\le 7, 4 \\le x_3 \\le 8$ and $2 \\le x_4 \\le 6$.",
    "17": "Let $k, n, r \\in \\mathbf{N}$. Show that the number of integer solutions to the equation\\n\\n$$x_1 + x_2 + \\cdots + x_n = r$$\\n\\nsuch that $0 \\le x_i \\le k$ for each $i = 1, 2, \\dots, n$ is given by\\n\\n$$\\sum_{i=0}^n (-1)^i \\binom{n}{i} \\binom{r - (k+1)i + n - 1}{n - 1}.$$",
    "18": "Let $k, n, r \\in \\mathbf{N}$. Show that the number of integer solutions to the equation\\n\\n$$x_1 + x_2 + \\cdots + x_n = r$$\\n\\nsuch that $1 \\le x_i \\le k$ for each $i = 1, 2, \\dots, n$ is given by\\n\\n$$\\sum_{i=0}^n (-1)^i \\binom{n}{i} \\binom{r - ki - 1}{n - 1}.$$",
    "19": "Find the number of ways of arranging $n$ couples $\\{H_i, W_i\\}, i = 1, 2, \\dots, n$, in a row such that $H_i$ is not adjacent to $W_i$ for each $i = 1, 2, \\dots, n$.",
    "20": "Let $p, q \\in \\mathbf{N}$ with $p$ odd and $q > 1$. There are $pq$ beads of $q$ different colours: $1, 2, \\dots, q$ with exactly $p$ beads in each colour. Assuming that beads of the same colour are identical, in how many ways can these beads be put in a string in such a way that\\n(i) beads of the same colour must be in a single block?\\n(ii) beads of the same colour must be in two separated blocks?\\n(iii) beads of the same colour must be in at most two blocks?\\n(iv) beads of the same colour must be in at most two blocks and the size of each block must be at least 2?",
    "21": "(a) Find the number of ways of distributing $r$ identical objects into $n$ distinct boxes such that no box is empty, where $r \\ge n$.\\n(b) Show that",
    "_source_page": 54
  },
  {
    "22": "(a) Let B be a subset of A with |A| = n and |B| = m. Find the number of r-element subsets of A which contain B as a subset, where m \\le r \\le n.\\n(b) Show that for m, r, n \\in \\mathbb{N} with m \\le r \\le n,\\n\\binom{n-m}{n-r} = \\sum_{i=0}^{m}(-1)^i\\binom{m}{i}\\binom{n-i}{r}.",
    "23": "(a) For n \\in \\mathbb{N}, find the number of binary sequences of length n which do not contain \"01\" as a block.\\n(b) Show that\\nn+1 = \\sum_{i=0}^{\\lfloor \\frac{n}{2} \\rfloor}(-1)^i\\binom{n-i}{i}2^{n-2i}.",
    "24": "In each of the following configurations, each vertex is to be coloured by one of the \\lambda different colours. It how many ways can this be done if any two vertices which are joined by a line segment must be coloured by different colours?\\n(i)\\n(ii)\\n(iii)",
    "25": "n persons are to be allocated to q distinct rooms. Find the number of ways that this can be done if only m of the q rooms have exactly k persons each, where 1 \\le m \\le q and qk \\le n.",
    "26": "Suppose that A = \\{k \\cdot x_1, k \\cdot x_2, \\dots, k \\cdot x_n\\} is a multiset, where k, n \\in \\mathbb{N}. For m \\in \\mathbb{N}^* with m \\le n, let \\alpha(m) denote the number of ways to arrange the members of A in a row such that the number of blocks containing all the k elements of the same type in the arrangement is exactly m. Show that\\n\\alpha(m) = \\frac{(-1)^m}{(k!)^n} \\binom{n}{m} \\sum_{i=m}^{n} (-1)^i \\binom{n-m}{i-m} (k!)^i \\cdot \\{kn - i(k-1)\\}!.",
    "_source_page": 55
  },
  {
    "27": "Prove identities (4.6.2)-(4.6.7).\n([HSW]; for (4.6.7), see E. T. H. Wang, E2947, Amer. Math. Monthly, 89 (1982), 334.)",
    "28": "For $n \\in \\mathbf{N}$, let $C_n$ denote the number of permutations of the set $\\{1, 2, \\dots, n\\}$ in which $k$ is never followed immediately by $k + 1$ for each $k = 1, 2, \\dots, n - 1$.\n(i) Find $C_n$;\n(ii) Show that $C_n = D_n + D_{n-1}$ for each $n \\in \\mathbf{N}$.",
    "29": "Let $m, n \\in \\mathbf{N}$ with $m < n$. Find, in terms of $D_k$'s, the number of derangements $a_1, a_2, \\dots, a_n$ of $\\mathbf{N}_n$ such that\n$$\\{a_1, a_2, \\dots, a_m\\} = \\{1, 2, \\dots, m\\}.$$",
    "30": "Let $m, n \\in \\mathbf{N}$ with $n \\ge 2m$. Find the number of derangements $a_1, a_2, \\dots, a_n$ of $\\mathbf{N}_n$ such that\n$$\\{a_1, a_2, \\dots, a_m\\} = \\{m + 1, m + 2, \\dots, 2m\\}$$\nin each of the following cases:\n(i) $n = 2m$;\n(ii) $n = 2m + 1$;\n(iii) $n = 2m + r, r \\ge 2$.",
    "31": "Apply identity (4.6.8) to prove identities (4.6.10) and (4.6.11).",
    "32": "Given $n \\in \\mathbf{N}$, show that $D_n$ is even iff $n$ is odd.",
    "33": "Let $D_n(k) = D(n, n, k)$. Show that\n(i) $D_n(k) = \\binom{n}{k} D_{n-k}$;\n(ii) $\\binom{n}{0} D_0 + \\binom{n}{1} D_1 + \\dots + \\binom{n}{n} D_n = n!$, where $D_0 = 1$;\n(iii) $(k + 1) D_{n+1}(k + 1) = (n + 1) D_n(k)$.",
    "34": "Let $D_n(k)$ be the number of permutations of the set $\\{1, 2, \\dots, n\\}, n \\ge 1$, which have exactly $k$ fixed points (i.e., $D_n(k) = D(n, n, k)$). Prove that\n$$\\sum_{k=0}^n k \\cdot D_n(k) = n!.$$\n(IMO, 1987/1)",
    "_source_page": 56
  },
  {
    "35": "Let $D_n(k)$ denote $D(n, n, k)$. Show that\n\n$D_n(0) - D_n(1) = (-1)^n$\n\nfor each $n \\in \\mathbf{N}$.",
    "36": "Let $D_n(k)$ denote $D(n, n, k)$. Prove that\n\n$\\sum_{k=0}^n (k-1)^2 D_n(k) = n!$.\n\n(West Germany MO, 1987)",
    "37": "Let $D_n(k)$ denote $D(n, n, k)$. Prove that\n\n$\\sum_{k=r}^n k(k-1) \\cdots (k-r+1) D_n(k) = n!$,\n\nwhere $r, n \\in \\mathbf{N}^*$ with $r \\le n$. (D. Hanson, Crux Mathematicorum, 15(5) (1989), 139.)",
    "38": "(a) Without using equality (4.7.1), show that\n(i) the Euler $\\phi$-function is a multiplicative function; that is, $\\phi(mn) = \\phi(m)\\phi(n)$ whenever $m, n \\in \\mathbf{N}$ with $(m, n) = 1$.\n(ii) for a prime $p$ and an integer $i \\ge 1$,\n\n$\\phi(p^i) = p^i - p^{i-1}$.\n\n(b) Derive equality (4.7.1) from (i) and (ii).",
    "39": "(i) Compute $\\phi(100)$ and $\\phi(300)$.\n(ii) Show that $\\phi(m)|\\phi(n)$ whenever $m|n$.",
    "40": "Show that for $n \\in \\mathbf{N}$,\n\n$\\sum (\\phi(d) \\mid d \\in \\mathbf{N}, d|n) = n$.",
    "41": "Let $m, n \\in \\mathbf{N}$ with $(m, n) = h$. Show by using equality (4.7.1) that\n\n$\\phi(mn) \\cdot \\phi(h) = \\phi(m) \\cdot \\phi(n) \\cdot h$.",
    "42": "Show that for $n \\in \\mathbf{N}$ with $n \\ge 3$, $\\phi(n)$ is always even.",
    "43": "Let $n \\in \\mathbf{N}$ with $n \\ge 2$. Show that if $n$ has exactly $k$ distinct prime factors, then",
    "_source_page": 57
  },
  {
    "44": "Let $n \\in \\mathbf{N}$ with $n \\geq 2$. Show that if $n$ has exactly $k$ distinct odd prime factors, then\\n$2^k | \\varphi(n)$.",
    "45": "Does there exist an $n \\in \\mathbf{N}$ such that $\\varphi(n) = 14$? Justify your answer.",
    "46": "For $n \\in \\mathbf{N}$, show that\\n$\\varphi(2n) = \\begin{cases} \\varphi(n) & \\text{if } n \\text{ is odd} \\\\ 2\\varphi(n) & \\text{if } n \\text{ is even.} \\end{cases}$",
    "47": "For $m, r, q \\in \\mathbf{N}$ with $m \\leq r \\leq q$, let\\n$A(m, r) = \\sum_{k=m}^r (-1)^{k-m} \\binom{k}{m} \\omega(k)$.\\nThus Theorem 4.3.1 says that $E(m) = A(m, q)$. Prove that\\n(i) if $m$ and $r$ have the same parity (i.e., $m \\equiv r \\pmod 2$), then\\n$E(m) \\leq A(m, r)$;\\n(ii) if $m$ and $r$ have different parities, then\\n$E(m) \\geq A(m, r)$;\\n(iii) strict inequality in (i) (resp., (ii)) holds iff $\\omega(t) > 0$ for some $t$ with $r < t \\leq q$.\\n(See K. M. Koh, Inequalities associated with the principle of inclusion and exclusion, Mathematical Medley, Singapore Math. Soc. \\mathbf{19} (1991), 43-52.)",
    "48": "Prove the following Bonferroni inequality:\\n$\\sum_{k=j}^q (-1)^{k-j} \\omega(k) \\geq 0$\\nfor each $j = 0, 1, \\dots, q$.",
    "49": "(i) Let $A_1, A_2, \\dots, A_n$ be $n$ finite sets. Show that",
    "_source_page": 58
  },
  {
    "50": "Let $B_0 = 1$ and for $r \\in \\mathbf{N}$, let $B_r = \\sum_{k=1}^r S(r, k)$. The number $B_r$ is called the $r$th Bell number (see Section 1.7). Show that\\n(i) Corollary 1 to Theorem 4.5.1 can be written as\\n$$S(r, k) = \\frac{1}{k!} \\sum_{j=0}^k (-1)^{k-j} \\binom{k}{j} j^r,$$\\nwhere $r, k \\in \\mathbf{N}$;\\n(ii) $B_r = e^{-1} \\sum_{j=0}^\\infty \\frac{j^r}{j!}.$",
    "51": "For $n \\in \\mathbf{N}^*$ and $r \\in \\mathbf{N}$, let\\n$$a_n = \\sum_{i=0}^n (-1)^i \\frac{r}{i+r} \\binom{n}{i}.$$\\nShow that\\n$$a_n = \\frac{n}{n+r} a_{n-1}.$$\\nDeduce that\\n$$a_n = \\frac{1}{\\binom{n+r}{r}}.$",
    "52": "We follow the terminology given in Theorem 4.3.1. For $1 \\le m \\le q$, let $L(m)$ denote the number of elements of $S$ that possess at least $m$ of the $q$ properties. Show that\\n$$L(m) = \\sum_{k=m}^q (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k).$$",
    "_source_page": 59
  },
  {
    "53": "For $k = 1, 2, \\dots, 1992$, let $A_k$ be a set such that $|A_k| = 44$. Assume that $|A_i \\cap A_j| = 1$ for all $i, j \\in \\{1, 2, \\dots, 1992\\}$ with $i \\neq j$. Evaluate $|\\bigcup_{k=1}^{1992} A_k|$.",
    "54": "Twenty-eight random draws are made from the set\\n\\n$$\\{1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, J, K, L, U, X, Y, Z\\}$$\\n\\ncontaining 20 elements. What is the probability that the sequence\\n\\n$$CU\\ BA\\ JU\\ LY\\ 1987$$\\n\\noccurs in that order in the chosen sequence? (Belgium, 1987)",
    "55": "A sequence of 35 random draws, one at a time with replacement, is made from the set of the English alphabet:\\n\\n$$\\{A, B, C, \\dots, X, Y, Z\\}.$$\\n\\nWhat is the probability that the string\\n\\n$$MERRY\\ CHRISTMAS$$\\n\\noccurs as a block in the sequence?",
    "56": "In a group of 1990 people, each person has at least 1327 friends. Show that there are 4 people in the group such that every two of them are friends (assuming that friendship is a mutual relationship). (Proposed by France at the 31st IMO.)",
    "57": "Let $\\mathbf{C}$ be the set of complex numbers, and let $S = \\{z \\in \\mathbf{C} | |z| = 1\\}$. For each mapping $f : S \\to S$ and $k \\in \\mathbf{N}$, define the mapping $f^k : S \\to S$ by $f^k(z) = \\underbrace{f(f(\\dots(f(z))\\dots))}_{k}$. An element $w \\in S$ is called an $n$-periodic point ($n \\in \\mathbf{N}$) of $f$ if\\n\\n$$f^i(w) \\neq w \\text{ for all } i = 1, 2, \\dots, n-1, \\text{ but } f^n(w) = w.$$\\n\\nSuppose $f : S \\to S$ is a mapping defined by\\n\\n$$f(z) = z^m \\quad (m \\in \\mathbf{N}).$$\\n\\nFind the number of 1989-periodic points of $f$. (Chinese Math. Competition,",
    "_source_page": 60
  },
  {
    "58": "For $m, n \\in \\mathbf{N}$, let $\\mathcal{M}$ be the set of all $m \\times n$ (0, 1)-matrices. Let\\n\\n$\\mathcal{M}_r = \\{M \\in \\mathcal{M} \\mid M \\text{ has at least one zero row}\\}$\\n\\nand\\n\\n$\\mathcal{M}_c = \\{M \\in \\mathcal{M} \\mid M \\text{ has at least one zero column}\\}$.\\n\\nShow that the number of matrices in $(\\mathcal{M} \\setminus \\mathcal{M}_r) \\cap \\mathcal{M}_c$ is given by\\n\\n$\\sum_{i=1}^n (-1)^{i-1} \\binom{n}{i} (2^{n-i} - 1)^m$.\\n\\n(C. J. Everett and P. R. Stein, Discrete Math., 6 (1973), 29.)",
    "59": "For $n, m \\in \\mathbf{N}$ with $m \\le n$, let $P_n(m)$ denote the number of permutations of $\\{1, 2, \\dots, n\\}$ for which $m$ is the first number whose position is left unchanged. Thus $P_n(1) = (n - 1)!$ and $P_n(2) = (n - 1)! - (n - 2)!$. Show that\\n\\n(i) $P_n(m) = \\sum_{i=0}^{m-1} (-1)^i \\binom{m-1}{i} (n - 1 - i)!$;\\n(ii) $P_n(m + 1) = P_n(m) - P_{n-1}(m)$ for each $m = 1, 2, \\dots, n - 1$.\\n\\n(See Problem 979, Math. Magazine, 50 (1977), 269–270.)",
    "60": "Let $P$ be a nonempty, finite set with $p$ members, and $Q$ be a finite set with $q$ members. Let $N_k(p, q)$ be the number of binary relations of cardinality $k$ with domain $P$ and range $Q$. (Equivalently, $N_k(p, q)$ is the number of $p \\times q$ matrices of 0's and 1's with exactly $k$ entries equal to 1 and no row or column identically 0.) Compute $\\sum_{k=1}^{pq} (-1)^{k-1} N_k(p, q)$. (Proposed by S. Leader, see Amer. Math. Monthly, 80 (1973), 84.)",
    "61": "Let $D_n$ and $M_n$ denote the derangement number and the Ménage number, respectively. Prove or disprove that the sequence $\\{M_n/D_n\\}, n = 4, 5, 6, \\dots$ is monotonically increasing and $\\lim_{n \\to \\infty} (M_n/D_n) = 1/e$. (Proposed by E. T. H. Wang, see Amer. Math. Monthly, 87 (1980), 829–830.)",
    "62": "Show that for $n \\in \\mathbf{N}$ and $r \\in \\mathbf{N}^*$,\\n\\n$\\sum_{k=0}^n k^r \\binom{n}{k} D_{n-k} = n! \\sum_{m=0}^{\\min\\{r,n\\}} S(r, m)$.\\n\\nDeduce that for $n \\ge r$,",
    "_source_page": 61
  },
  {
    "63": "Let $S = \\{1, 2, 3, \\dots, 280\\}$. Find the smallest integer $n$ such that each $n$-element subset of $S$ contains at least 5 numbers which are pairwise relatively prime. (IMO, 1991/3)",
    "_source_page": 62
  },
  {
    "exercise": 5,
    "1": "Find the coefficient of $x^{20}$ in the expansion of $(x^3 + x^4 + x^5 + \\dots)^3$.",
    "2": "Find the coefficients of $x^9$ and $x^{14}$ in the expansion of $(1 + x + x^2 + \\dots + x^5)^4$.",
    "3": "Prove Theorem 5.1.1 (iv), (vi), (viii), (ix) and (x).",
    "4": "Find the generating function for the sequence $(c_r)$, where $c_0 = 0$ and $c_r = \\sum_{i=1}^r i^2$ for $r \\in \\mathbf{N}$. Hence show that\\n\\sum_{i=1}^r i^2 = \\binom{r+1}{3} + \\binom{r+2}{3}.",
    "5": "Find the generating function for the sequence $(c_r)$, where $c_r = \\sum_{i=0}^r i 2^i$ with $r \\in \\mathbf{N}^*$. Hence show that\\n\\sum_{i=0}^r i 2^i = 2 + (r-1)2^{r+1}.",
    "6": "(i) For $r \\in \\mathbf{N}^*$, let $a_r = \\frac{1}{4^r} \\binom{2r}{r}$. Show that the generating function for the sequence $(a_r)$ is given by $(1-x)^{-\\frac{1}{2}}$.\\n(ii) Using the identity\\n(1-x)^{-1} = (1-x)^{-\\frac{1}{2}}(1-x)^{-\\frac{1}{2}},\\nshow that\\n\\sum_{k=0}^n \\binom{2k}{k} \\binom{2(n-k)}{n-k} = 4^n",
    "_source_page": 63
  },
  {
    "7": "Show that \\sum_{r=1}^n r \\binom{n}{r} \\binom{m}{r} = n \\binom{n+m-1}{n}.",
    "8": "Find the number of ways to distribute 10 identical pieces of candy to 3 children so that no child gets more than 4 pieces.",
    "9": "Find the number of ways to distribute 40 identical balls to 7 distinct boxes if box 1 must hold at least 3, and at most 10, of the balls.",
    "10": "Find the number of ways to select $2n$ balls from $n$ identical blue balls, $n$ identical red balls and $n$ identical white balls, where $n \\in \\mathbf{N}$.",
    "11": "In how many ways can 100 identical chairs be divided among 4 different rooms so that each room will have 10, 20, 30, 40 or 50 chairs?",
    "12": "Let $a_r$ be the number of ways of distributing $r$ identical objects into 5 distinct boxes so that boxes 1, 3 and 5 are not empty. Let $b_r$ be the number of ways of distributing $r$ identical objects into 5 distinct boxes so that each of the boxes 2 and 4 contains at least two objects.\\n(i) Find the generating function for the sequence $(a_r)$.\\n(ii) Find the generating function for the sequence $(b_r)$.\\n(iii) Show that $a_r = b_{r+1}$ for each $r = 1, 2, \\dots$.",
    "13": "For $r \\in \\mathbf{N}^*$, let $a_r$ denote the number of integer solutions to the equation\\n$x_1 + x_2 + x_3 = r$\\nwhere $3 \\le x_1 \\le 9, 0 \\le x_2 \\le 8$ and $7 \\le x_3 \\le 17$. Find the generating function for $(a_r)$, and determine the value of $a_{28}$.",
    "14": "In how many ways can 3000 identical pencils be divided up, in packages of 25, among four student groups so that each group gets at least 150, but not more than 1000, of the pencils?",
    "15": "Find the number of selections of 10 letters from “F, U, N, C, T, I, O” that contain at most three U’s and at least one O.",
    "16": "Find the generating function for the sequence $(a_r)$ in each of the following cases: $a_r$ is\\n(i) the number of selections of $r$ letters (not necessarily distinct) from the set $\\{D, R, A, S, T, I, C\\}$ that contain at most 3 D’s and at least 2 T’s;",
    "_source_page": 64
  },
  {
    "17": "Find the number of $4n$-element multi-subsets of the multi-set\n$\\{(3n) \\cdot x, (3n) \\cdot y, (3n) \\cdot z\\},$\nwhere $n \\in \\mathbf{N}$.",
    "18": "Find the number of $3n$-element multi-subsets of the multi-set\n$M = \\{n \\cdot z_1, n \\cdot z_2, \\dots, n \\cdot z_m\\},$\nwhere $n, m \\in \\mathbf{N}$ and $n, m \\ge 3$.",
    "19": "What is the probability that a roll of 5 distinct dice yields a sum of 17?",
    "20": "Find the generating function for the sequence $(a_r)$, where $a_r$ is the number of ways to obtain a sum of $r$ by a roll of any number of distinct dice.",
    "21": "For $k, m \\in \\mathbf{N}$ and $r \\in \\mathbf{N}^*$, let $a_r$ denote the number of ways of distributing $r$ identical objects into $2k + 1$ distinct boxes such that the first $k + 1$ boxes are non-empty, and $b_r$ denote the number of ways of distributing $r$ identical objects into $2k + 1$ distinct boxes such that each of the last $k$ boxes contains at least $m$ objects.\n(i) Find the generating function for the sequence $(a_r)$;\n(ii) Find the generating function for the sequence $(b_r)$;\n(iii) Show that $a_r = b_{r+(m-1)k-1}$.",
    "22": "Find the generating function for the sequence $(a_r)$, where $a_r$ is the number of integer solutions to the equation\n$x_1 + 2x_2 + 3x_3 + 4x_4 = r$\nwith $x_i \\ge 0$ for each $i = 1, 2, 3, 4$.",
    "23": "For $r \\in \\mathbf{N}^*$, let $a_r$ denote the number of ways of selecting 4 distinct integers from $\\{1, 2, \\dots, r\\}$ such that no two are consecutive. Find the generating",
    "_source_page": 65
  },
  {
    "24": "For $r \\in \\mathbf{N}^*$, and $m, t \\in \\mathbf{N}$, let $a_r$ denote the number of $m$-element subsets $\\{n_1, n_2, \\dots, n_m\\}$ of the set $\\{1, 2, \\dots, r\\}$, where $n_1 < n_2 < \\dots < n_m$ and $n_{i+1} - n_i \\ge t$ for each $i = 1, 2, \\dots, m - 1$. Find the generating function for $(a_r)$ and deduce that\\n$$a_r = \\binom{r - (m-1)(t-1)}{m}.$$\\n(See Problem 1.91.)",
    "25": "For $r \\in \\mathbf{N}^*$, let $a_r$ be the number of integer solutions to the inequality\\n$$x_1 + x_2 + x_3 + x_4 \\le r,$$\\nwhere $3 \\le x_1 \\le 9$, $1 \\le x_2 \\le 10$, $x_3 \\ge 2$ and $x_4 \\ge 0$. Find the generating function for the sequence $(a_r)$ and the value of $a_{20}$.",
    "26": "Prove that if $-1 < \\alpha < 0$ and $n \\in \\mathbf{N}^*$, then\\n$$\\binom{2\\alpha}{2n} \\ge (2n+1) \\binom{\\alpha}{n}^2;$$\\nwhile if $\\alpha < -1$, the inequality is reversed. (Proposed by S. I. Rosencrans, see Amer. Math. Monthly, 79 (1972), 1136.)",
    "27": "For $n \\in \\mathbf{N}$, let\\n$$a_{n-1} = \\sum_{k=0}^{n-1} \\left\\{ \\binom{n}{0} + \\binom{n}{1} + \\dots + \\binom{n}{k} \\right\\} \\cdot \\left\\{ \\binom{n}{k+1} + \\binom{n}{k+2} + \\dots + \\binom{n}{n} \\right\\}.$$\\nLet $B(x)$ be the generating function for the sequence $(b_k)$, where $b_k = \\binom{n}{0} + \\binom{n}{1} + \\dots + \\binom{n}{k}$.\\n(i) Show that\\n$$B(x) = \\frac{(1+x)^n}{1-x}.$$\\n(ii) Show that",
    "_source_page": 66
  },
  {
    "28": "For $m, n \\in \\mathbf{N}$ and $r \\in \\mathbf{N}^*$, a generalized quantity $\\binom{n}{r}_m$ of binomial coefficients is defined as follows:\\n$\\binom{1}{r}_m = \\begin{cases} 1 & \\text{if } 0 \\le r \\le m-1 \\\\ 0 & \\text{otherwise,} \\end{cases}$\\nand\\n$\\binom{n}{r}_m = \\sum_{i=0}^{m-1} \\binom{n-1}{r-i}_m$ for $n \\ge 2$.\\nNote that $\\binom{n}{r}_2 = \\binom{n}{r}$. Show that\\n(i) $\\binom{n}{r}_m$ is the number of integer solutions to the equation\\n$x_1 + x_2 + \\dots + x_n = r$\\nwith $0 \\le x_i \\le m-1$ for each $i = 1, 2, \\dots, n$;\\n(ii) $\\binom{n}{0}_m = 1$;\\n(iii) $\\binom{n}{1}_m = n$, where $m \\ge 2$;\\n(iv) $\\binom{n}{r}_m = \\binom{n}{s}_m$, where $r + s = n(m-1)$;\\n(v) $\\sum_{r=0}^{n(m-1)} \\binom{n}{r}_m = m^n$;\\n(vi) the generating function for $(\\binom{n}{r}_m)_{r=0,1,2,\\dots}$ is $(1 + x + \\dots + x^{m-1})^n$;\\n(vii) $\\sum_{r=0}^{n(m-1)} (-1)^r \\binom{n}{r}_m = \\begin{cases} 0 & \\text{if } m \\text{ is even} \\\\ 1 & \\text{if } m \\text{ is odd} \\end{cases}$\\n(viii) $\\sum_{r=1}^{n(m-1)} r \\binom{n}{r}_m = \\frac{n(m-1)m^n}{2}$;\\n(ix) $\\sum_{r=1}^{n(m-1)} (-1)^{r-1} r \\binom{n}{r}_m = \\begin{cases} 0 & \\text{if } m \\text{ is even} \\\\ \\frac{n(1-m)}{2} & \\text{if } m \\text{ is odd} \\end{cases}$\\n(x) $\\sum_{i=0}^r \\binom{p}{i}_m \\binom{q}{r-i}_m = \\binom{p+q}{r}_m$, where $p, q \\in \\mathbf{N}$;",
    "_source_page": 67
  },
  {
    "29": "Given $n \\in \\mathbf{N}$, evaluate the sum\\n$$S_n = \\sum_{r=0}^n 2^{r-2n} \\binom{2n-r}{n}.$$\\n(Proposed by the Israeli Team at the 31st IMO.)",
    "30": "For each $r \\in \\mathbf{N}^*$, let\\n$$a_r = 1 \\cdot 4 \\cdot 7 \\cdots (3r + 1).$$\\nShow that the exponential generating function for the sequence $(a_r)$ is given by $(1 - 3x)^{-\\frac{4}{3}}$.",
    "31": "For $n \\in \\mathbf{N}$, find the number of ways to colour the $n$ squares of a $1 \\times n$ chessboard using the colours: blue, red and white, if each square is coloured by a colour and an even number of squares are to be coloured red.",
    "32": "Find the number of $n$-digit quaternary sequences that contain an odd number of 0's, an even number of 1's and at least one 3.",
    "33": "For $n \\in \\mathbf{N}$, find the number of words of length $n$ formed by the symbols: $\\alpha, \\beta, \\gamma, \\delta, \\epsilon, \\lambda$ in which the total number of $\\alpha$'s and $\\beta$'s is (i) even, (ii) odd.",
    "34": "For $r \\in \\mathbf{N}^*$, find the number of ways of distributing $r$ distinct objects into 5 distinct boxes such that each of the boxes 1, 3, and 5 must hold an odd number of objects while each of the remaining boxes must hold an even number of objects.",
    "35": "Prove the following summations for all real $z$:\\n(i) $\\sum_{k=0}^n \\binom{z}{2k} \\binom{z-2k}{n-k} 2^{2k} = \\binom{2z}{2n}$,\\n(ii) $\\sum_{k=0}^n \\binom{z+1}{2k+1} \\binom{z-2k}{n-k} 2^{2k+1} = \\binom{2z+2}{2n+1}$.\\n(Proposed by M. Machover and H. W. Gould, see Amer. Math. Monthly, 75 (1968), 682.)",
    "36": "Prove that\\n$$\\sum_{r=1}^n \\sum_{k=0}^r (-1)^{k+1} \\frac{k}{r} \\binom{r}{k} k^{n-1} = 0,$$\\nwhere $n = 2, 3, 4, \\dots$. (Proposed by G. M. Lee, see Amer. Math. Monthly, 77 (1970), 308-309.)",
    "_source_page": 68
  },
  {
    "37": "Prove that\\n\\sum \\frac{1}{k_1!k_2! \\cdots k_n!} = \\frac{1}{r!} \\binom{n-1}{r-1},\\nwhere the sum is taken over all k_1, k_2, \\dots, k_n \\in \\mathbb{N}^* with \\sum_{i=1}^n k_i = r and \\sum_{i=1}^n ik_i = n.\\n(Proposed by D. Ž. Djoković, see Amer. Math. Monthly, 77 (1970), 659.)",
    "38": "Ten female workers and eight male workers are to be assigned to work in one of four different departments of a company. In how many ways can this be done if\\n(i) each department gets at least one worker?\\n(ii) each department gets at least one female worker?\\n(iii) each department gets at least one female worker and at least one male worker?",
    "39": "For r \\in \\mathbb{N}^*, find the number of r-permutations of the multi-set\\n\\{\\infty \\cdot \\alpha, \\infty \\cdot \\beta, \\infty \\cdot \\gamma, \\infty \\cdot \\lambda\\}\\nin which the number of \\alpha's is odd while the number of \\lambda's is even.",
    "40": "For r \\in \\mathbb{N}^* and n \\in \\mathbb{N}, let a_r = F(r, n), which is the number of ways to distribute r distinct objects into n distinct boxes so that no box is empty (see Theorem 4.5.1). Thus a_r = n!S(r, n), where S(r, n) is a Stirling number of the second kind. Find the exponential generating function for the sequence (a_r), and show that for r \\ge 2,\\n\\sum_{m=0}^{\\infty} (-1)^m m! S(r, m+1) = 0.",
    "41": "For n \\in \\mathbb{N}, let A_n(x) be the exponential generating function for the sequence (S(0, n), S(1, n), \\dots, S(r, n), \\dots). Find A_n(x) and show that\\n\\frac{d}{dx} A_n(x) = n A_n(x) + A_{n-1}(x),\\nwhere n \\ge 2.",
    "42": "Let B_0 = 1 and for r \\in \\mathbb{N}, let B_r = \\sum_{k=1}^r S(r, k). The numbers B_r's are called the Bell numbers (see Section 1.7). Show that the exponential generating",
    "_source_page": 69
  },
  {
    "43": "Let $n \\in \\mathbf{N}$ and $r \\in \\mathbf{N}^*$.\\n(a) Find the number of ways of distributing $r$ distinct objects into $n$ distinct boxes such that the objects in each box are ordered.\\n(b) Let $a_r$ denote the number of ways to select at most $r$ objects from $r$ distinct objects and to distribute them into $n$ distinct boxes such that the objects in each box are ordered. Show that\\n(i) $a_r = \\sum_{i=0}^r \\binom{r}{i} n^{(i)}$, where $n^{(i)} = n(n+1) \\cdots (n+i-1)$ with $n^{(0)} = 1$;\\n(ii) the exponential generating function for the sequence $(a_r)$ is given\\nby\\n$$e^x(1-x)^{-n}.$$",
    "44": "Find the generating function for the sequence $(a_r)$ in each of the following cases: $a_r$ is the number of ways of distributing $r$ identical objects into\\n(i) 4 distinct boxes;\\n(ii) 4 distinct boxes so that no box is empty;\\n(iii) 4 identical boxes so that no box is empty;\\n(iv) 4 identical boxes.",
    "45": "For $n \\in \\mathbf{N}$, show that the number of partitions of $n$ into parts where no even part occurs more than once is equal to the number of partitions of $n$ in which parts of each size occur at most three times.",
    "46": "For $r \\in \\mathbf{N}^*$ and $n \\in \\mathbf{N}$, let $a_r$ be the number of integer solutions to the equation\\n$$x_1 + x_2 + \\cdots + x_n = r,$$\\nwhere $x_1 \\ge x_2 \\ge \\cdots \\ge x_n \\ge 1$. Find the generating function for the sequence $(a_r)$. ",
    "47": "For $r \\in \\mathbf{N}^*$ and $n \\in \\mathbf{N}$, let $b_r$ be the number of integer solutions to the equation\\n$$x_1 + x_2 + \\cdots + x_n = r,$$\\nwhere $x_1 \\ge x_2 \\ge \\cdots \\ge x_n \\ge 0$. Find the generating function for the sequence $(b_r)$.",
    "_source_page": 70
  },
  {
    "48": "For $r \\in \\mathbf{N}^*$ and $n \\in \\mathbf{N}$, let $a_r$ denote the number of ways to distribute $r$ identical objects into $n$ identical boxes, and $b_r$ denote the number of integer solutions to the equation\\n$$\\sum_{k=1}^n kx_k = r$$\\nwith $x_k \\ge 0$ for each $k = 1, 2, \\dots, n$. Show that $a_r = b_r$ for each $r \\in \\mathbf{N}^*$.",
    "49": "For $r \\in \\mathbf{N}^*$, let $a_r$ denote the number of partitions of $r$ into distinct powers of 2.\\n(i) Find the generating function for $(a_r)$;\\n(ii) Show that $a_r = 1$ for all $r \\ge 1$;\\n(iii) Give an interpretation of the result in (ii).",
    "50": "Show that for $n \\in \\mathbf{N}$, the number of partitions of $2n$ into distinct even parts is equal to the number of partitions of $n$ into odd parts.",
    "51": "Let $k, n \\in \\mathbf{N}$. Show that the number of partitions of $n$ into odd parts is equal to the number of partitions of $kn$ into distinct parts whose sizes are multiples of $k$.",
    "52": "Let $p(n)$ be the number of partitions of $n$. Show that\\n$$p(n) \\le \\frac{1}{2}(p(n+1) + p(n-1)),$$\\nwhere $n \\in \\mathbf{N}$ with $n \\ge 2$.",
    "53": "For $n, k \\in \\mathbf{N}$ with $k \\le n$, let $p(n, k)$ denote the number of partitions of $n$ into exactly $k$ parts.\\n(i) Determine the values of $p(5, 1), p(5, 2), p(5, 3)$ and $p(8, 3)$.\\n(ii) Show that\\n$$\\sum_{k=1}^m p(n, k) = p(n+m, m),$$\\nwhere $m \\in \\mathbf{N}$ and $m \\le n$.",
    "54": "(i) With $p(n, k)$ as defined in the preceding problem, determine the values of $p(5, 3), p(7, 2)$ and $p(8, 3)$.\\n(ii) Show that",
    "_source_page": 71
  },
  {
    "55": "Given $n, k \\in \\mathbf{N}$ with $n \\le k$, show that\\n$$p(n + k, k) = p(2n, n) = p(n).$$",
    "56": "For $n, k \\in \\mathbf{N}$ with $k \\le n$, show that\\n$$p(n, k) \\ge \\frac{1}{k!} \\binom{n - 1}{k - 1}.$$",
    "57": "Given $n, k \\in \\mathbf{N}$, show that the number of partitions of $n$ into $k$ distinct parts is equal to $p(n - \\binom{k}{2}, k)$.",
    "58": "Prove the corollary to Theorem 5.3.5.",
    "59": "(i) Prove Theorem 5.3.3.\\n(ii) Prove Theorem 5.3.4.",
    "60": "For positive integers $n$, let $C(n)$ be the number of representations of $n$ as a sum of nonincreasing powers of 2, where no power can be used more than three times. For example, $C(8) = 5$ since the representations for 8 are:\\n$$8, 4 + 4, 4 + 2 + 2, 4 + 2 + 1 + 1, \\text{ and } 2 + 2 + 2 + 1 + 1.$$\\nProve or disprove that there is a polynomial $Q(x)$ such that $C(n) = \\lfloor Q(n) \\rfloor$ for all positive integers $n$.\\n(Putnam, 1983.)",
    "61": "For $n \\in \\mathbf{N}$, let $C(n)$ be the number defined in the preceding problem. Show that the generating function for the sequence $(C(n))$ is given by\\n$$\\frac{1}{(1 + x)(1 - x)^2}.$$\\nDeduce that $C(n) = \\lfloor \\frac{n + 2}{2} \\rfloor$ for each $n \\in \\mathbf{N}$.",
    "62": "(a) (i) List all partitions of 8 into 3 parts.\\n(ii) List all noncongruent triangles whose sides are of integer length $a, b, c$ such that $a + b + c = 16$.\\n(iii) Is the number of partitions obtained in (i) equal to the number of noncongruent triangles obtained in (ii)?\\n(b) For $r \\in \\mathbf{N}^*$, let $a_r$ denote the number of noncongruent triangles whose sides are of integer length $a, b, c$ such that $a + b + c = 2r$, and let $b_r$ denote the number of partitions of $r$ into 3 parts.",
    "_source_page": 72
  },
  {
    "63": "A partition $P$ of a positive integer $n$ is said to be self-conjugate if $P$ and its conjugate have the same Ferrers diagram. \\n(i) Find all the self-conjugate partitions of 15. \\n(ii) Find all the partitions of 15 into distinct odd parts. \\n(iii) Show that the number of the self-conjugate partitions of $n$ is equal to the number of partitions of $n$ into distinct odd parts.",
    "64": "Show that the number of self-conjugate partitions of $n$ with largest size equal to $m$ is equal to the number of self-conjugate partitions of $n - 2m + 1$ with largest size not exceeding $m - 1$.",
    "65": "(i) The largest square of asterisks in the upper left-hand corner of the Ferrers diagram is called the Durfee square of the diagram. Find the generating function for the number of self-conjugate partitions of $r$ whose Durfee square is an $m \\times m$ square, where $m \\in \\mathbf{N}$. \\n(ii) Deduce that \\n$$\\prod_{k=0}^{\\infty} (1 + x^{2k+1}) = 1 + \\sum_{m=1}^{\\infty} \\frac{x^{m^2}}{\\prod_{k=1}^{m} (1 - x^{2k})}$$",
    "66": "Let $A(x)$ be the generating function for the sequence $(p(r))$ where $p(r)$ is the number of partitions of $r$. \\n(i) Find $A(x)$; \\n(ii) Use the notion of Durfee square to prove that \\n$$\\left[ \\prod_{k=1}^{\\infty} (1 - x^k) \\right]^{-1} = 1 + \\sum_{m=1}^{\\infty} \\frac{x^{m^2}}{\\prod_{k=1}^{m} (1 - x^k)^2}$$",
    "67": "By considering isosceles right triangles of asterisks in the upper left-hand corner of a Ferrers diagram, show that \\n$$\\prod_{k=1}^{\\infty} (1 + x^{2k}) = 1 + \\sum_{m=1}^{\\infty} \\frac{x^{m(m+1)}}{\\prod_{k=1}^{m} (1 - x^{2k})}$$",
    "68": "Let $p, q, r \\in \\mathbf{N}$ with $p < r$ and $q < r$. Show that the number of partitions of $r - p$ into $q - 1$ parts with sizes not exceeding $p$, is equal to the number of partitions of $r - q$ into $p - 1$ parts with sizes not exceeding $q$.",
    "_source_page": 73
  },
  {
    "69": "For $n \\in \\mathbf{N}$, let $p_e(n)$ (resp., $p_o(n)$) denote the number of partitions of $n$ into an even (resp., odd) number of distinct parts. Show that\\n$$p_e(n) - p_o(n) = \\begin{cases} (-1)^k & \\text{if } n = \\frac{k(3k \\pm 1)}{2} \\\\ 0 & \\text{otherwise.} \\end{cases}$$",
    "70": "Prove the following Euler's pentagonal number theorem:\\n$$\\prod_{k=1}^{\\infty} (1 - x^k) = \\sum_{m=-\\infty}^{\\infty} (-1)^m x^{\\frac{1}{2}m(3m-1)}.$$",
    "71": "For $n \\in \\mathbf{N}$, show that\\n$$p(n) - p(n-1) - p(n-2) + p(n-5) + p(n-7)$$\\n$$+ \\dots + (-1)^m p\\left(n - \\frac{1}{2}m(3m-1)\\right) + \\dots$$\\n$$+ (-1)^m p\\left(n - \\frac{1}{2}m(3m+1)\\right) + \\dots = 0.$$",
    "72": "For $j \\in \\mathbf{N}^*$, let $\\beta(j) = \\frac{3j^2 \\pm j}{2}$. Prove the following Euler identity:\\n$$\\sum_{j \\text{ even}} p(n - \\beta(j)) = \\sum_{j \\text{ odd}} p(n - \\beta(j))$$\\nby (BP), where $n \\in \\mathbf{N}$.\\n(See D. M. Bressoud and D. Zeilberger, Bijecting Euler's partitions-recurrence, Amer. Math. Monthly, 92 (1985), 54-55.)",
    "73": "For $r, n \\in \\mathbf{N}$, let $f(r, n)$ denote the number of partitions of $n$ of the form\\n$$n = n_1 + n_2 + \\dots + n_s,$$\\nwhere, for $i = 1, 2, \\dots, s - 1$, $n_i \\ge r n_{i+1}$, and let $g(r, n)$ denote the number of partitions of $n$, where each part is of the form $1 + r + r^2 + \\dots + r^k$ for some $k \\in \\mathbf{N}^*$. Show that\\n$$f(r, n) = g(r, n).$$\\n(See D. R. Hickerson, A partition identity of the Euler type, Amer. Math. Monthly, 81 (1974), 627-629.)",
    "_source_page": 74
  },
  {
    "exercise": 6,
    "1": "Solve\n\n$a_n = 3a_{n-1} - 2a_{n-2}$,\n\ngiven that $a_0 = 2$ and $a_1 = 3$.",
    "2": "Solve\n\n$a_n - 6a_{n-1} + 9a_{n-2} = 0$,\n\ngiven that $a_0 = 2$ and $a_1 = 3$.",
    "3": "Solve\n\n$a_n = \\frac{1}{2}(a_{n-1} + a_{n-2})$,\n\ngiven that $a_0 = 0$ and $a_1 = 1$.",
    "4": "Solve\n\n$a_n - 4a_{n-1} + 4a_{n-2} = 0$,\n\ngiven that $a_0 = -\\frac{1}{4}$ and $a_1 = 1$.",
    "5": "Solve\n\n$2a_n = a_{n-1} + 2a_{n-2} - a_{n-3}$,\n\ngiven that $a_0 = 0, a_1 = 1$ and $a_2 = 2$.",
    "6": "Solve\n\n$a_n - 6a_{n-1} + 11a_{n-2} - 6a_{n-3} = 0$,\n\ngiven that $a_0 = \\frac{1}{3}, a_1 = 1$ and $a_2 = 2$.",
    "_source_page": 75
  },
  {
    "7": "Solve\n$$a_n = -a_{n-1} + 16a_{n-2} - 20a_{n-3},$$\ngiven that $a_0 = 0, a_1 = 1$ and $a_2 = -1$.",
    "8": "Find the general solution of the recurrence relation\n$$a_n + a_{n-1} - 3a_{n-2} - 5a_{n-3} - 2a_{n-4} = 0.$$",
    "9": "Solve\n$$a_n = \\frac{1}{2}a_{n-1} - 3,$$\ngiven that $a_0 = 2(3 + \\sqrt{3})$.",
    "10": "Solve\n$$a_n - 3a_{n-1} = 3 \\cdot 2^n - 4n,$$\ngiven that $a_1 = 2$.",
    "11": "Solve\n$$a_n - a_{n-1} = 4n - 1,$$\ngiven that $a_0 = 1$.",
    "12": "Solve\n$$a_n = pa_{n-1} + q,$$\ngiven that $a_0 = r$, where $p, q$ and $r$ are constants.",
    "13": "Let $(a_n)$ be a sequence of numbers such that\n(i) $a_0 = 1, a_1 = \\frac{3}{5}$ and\n(ii) the sequence $(a_n - \\frac{1}{10}a_{n-1})$ is a geometric progression with common ratio $\\frac{1}{2}$.\nFind a general formula for $a_n, n \\ge 0$.",
    "14": "Solve\n$$a_n^4 a_{n-1} = 10^{10},$$\ngiven that $a_0 = 1$ and $a_n > 0$ for all $n$.",
    "15": "A sequence $(a_n)$ of positive numbers satisfies",
    "_source_page": 76
  },
  {
    "16": "A sequence (a_n) of numbers satisfies\\n\\left(\\frac{a_n}{a_{n-1}}\\right)^2 = \\frac{a_{n-1}}{a_{n-2}}\\nwith the initial conditions a_0 = \\frac{1}{4} and a_1 = 1. Solve the recurrence relation.",
    "17": "Solve\\na_n + 3a_{n-1} = 4n^2 - 2n + 2^n,\\ngiven that a_0 = 1.",
    "18": "Solve\\na_n - 2a_{n-1} + 2a_{n-2} = 0,\\ngiven that a_0 = 1 and a_1 = 2.",
    "19": "Solve\\na_n - 4a_{n-1} + 4a_{n-2} = 2^n,\\ngiven that a_0 = 0 and a_1 = 3.",
    "20": "Solve\\na_n - a_{n-1} - 2a_{n-2} = 4n,\\ngiven that a_0 = -4 and a_1 = -5.",
    "21": "Solve\\na_n + a_{n-1} - 2a_{n-2} = 2^{n-2},\\ngiven that a_0 = a_1 = 0.",
    "22": "Solve\\na_n - 3a_{n-1} + 2a_{n-2} = 2^n,\\ngiven that a_0 = 0 and a_1 = 5.",
    "23": "Solve",
    "_source_page": 77
  },
  {
    "24": "Let (a_n) be a sequence of numbers satisfying the recurrence relation\npa_n + qa_{n-1} + ra_{n-2} = 0\nwith the initial conditions a_0 = s and a_1 = t, where p, q, r, s, t are constants such that p + q + r = 0, p \\neq 0 and s \\neq t. Solve the recurrence relation.",
    "25": "Let (a_n) be a sequence of numbers satisfying the recurrence relation\na_n = \\frac{pa_{n-1} + q}{ra_{n-1} + s}\nwhere p, q, r and s are constants with r \\neq 0.\n(i) Show that\nra_n + s = p + s + \\frac{qr - ps}{ra_{n-1} + s}. (1)\n(ii) By the substitution ra_n + s = \\frac{b_{n+1}}{b_n}, show that (1) can be reduced to the second order linear homogeneous recurrence relation for (b_n):\nb_{n+1} - (p + s)b_n + (ps - qr)b_{n-1} = 0.",
    "26": "Solve\na_n = \\frac{3a_{n-1}}{2a_{n-1} + 1},\ngiven that a_0 = \\frac{1}{4}.",
    "27": "Solve\na_n = \\frac{3a_{n-1} + 1}{a_{n-1} + 3},\ngiven that a_0 = 5.",
    "28": "A sequence (a_n) of numbers satisfies the condition\n(2 - a_n)a_{n+1} = 1, \\quad n \\geq 1.",
    "_source_page": 78
  },
  {
    "29": "For $n \\in \\mathbf{N}$, recall that $D_n$ is the number of derangements of the set $\\mathbf{N}_n$. Prove by a combinatorial argument that $D_n = (n - 1)(D_{n-1} + D_{n-2})$.",
    "30": "For $n \\in \\mathbf{N}$, let $a_n$ denote the number of ternary sequences of length $n$ in which no two 0's are adjacent. Find a recurrence relation for $(a_n)$ and solve the recurrence relation.",
    "31": "Let $C_0, C_1, C_2, \\dots$ be the sequence of circles in the Cartesian plane defined as follows:\n(1) $C_0$ is the circle $x^2 + y^2 = 1$,\n(2) for $n = 0, 1, 2, \\dots$, the circle $C_{n+1}$ lies in the upper half-plane and is tangent to $C_n$ as well as to both branches of the hyperbola $x^2 - y^2 = 1$.\nLet $a_n$ be the radius of $C_n$.\n(i) Show that $a_n = 6a_{n-1} - a_{n-2}, n \\ge 2$.\n(ii) Deduce from (i) that $a_n$ is an integer and\n$a_n = \\frac{1}{2}[(3 + 2\\sqrt{2})^n + (3 - 2\\sqrt{2})^n]$.\n(Proposed by B. A. Reznick, see Amer. Math. Monthly, \\mathbf{96} (1989), 262.)",
    "32": "The $n \\times n$ determinant $a_n$ is defined by\n$a_n = \\begin{vmatrix} p+q & pq & 0 & 0 & \\cdots & 0 & 0 \\\\ 1 & p+q & pq & 0 & \\cdots & 0 & 0 \\\\ 0 & 1 & p+q & pq & \\cdots & 0 & 0 \\\\ 0 & 0 & 1 & p+q & \\cdots & 0 & 0 \\\\ \\vdots & \\vdots & \\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\\\ 0 & 0 & 0 & 0 & \\cdots & p+q & pq \\\\ 0 & 0 & 0 & 0 & \\cdots & 1 & p+q \\end{vmatrix}$\nwhere $p$ and $q$ are nonzero constants. Find a recurrence relation for $(a_n)$, and solve the recurrence relation.",
    "33": "Consider the following $n \\times n$ determinant:",
    "_source_page": 79
  },
  {
    "34": "Given n \\in \\mathbf{N}, find the number of n-digit positive integers which can be formed from 1, 2, 3, 4 such that 1 and 2 are not adjacent.",
    "35": "A 2 \\times n rectangle (n \\in \\mathbf{N}) is to be paved with 1 \\times 2 identical blocks and 2 \\times 2 identical blocks. Let a_n denote the number of ways that can be done. Find a recurrence relation for (a_n), and solve the recurrence relation.",
    "36": "For n \\in \\mathbf{N}, let a_n denote the number of ways to pave a 3 \\times n rectangle ABCD with 1 \\times 2 identical dominoes. Clearly, a_n = 0 if n is odd. Show that\na_{2r} = \\frac{1}{2\\sqrt{3}} \\{(\\sqrt{3}+1)(2+\\sqrt{3})^r + (\\sqrt{3}-1)(2-\\sqrt{3})^r\\},\nwhere r \\in \\mathbf{N}. (Proposed by I. Tomescu, see Amer. Math. Monthly, 81 (1974), 522-523.)",
    "37": "Solve the system of recurrence relations:\n\\begin{cases} a_{n+1} = a_n - b_n \\\\ b_{n+1} = a_n + 3b_n, \\end{cases}\ngiven that a_0 = -1 and b_0 = 5.",
    "38": "Solve the system of recurrence relations:\n\\begin{cases} a_n + a_{n-1} + 2b_{n-1} = 0 \\\\ b_n - 2a_{n-1} - 3b_{n-1} = 0, \\end{cases}\ngiven that a_0 = 1 and b_0 = 0.",
    "39": "Solve the system of recurrence relations:",
    "_source_page": 80
  },
  {
    "40": "Solve the system of recurrence relations:\\n\\n$\\begin{cases} 3a_n - 2a_{n-1} - b_{n-1} = 0 \\\\ 3b_n - a_{n-1} - 2b_{n-1} = 0 \\end{cases}$\\n\\ngiven that $a_0 = 2$ and $b_0 = -1$.",
    "41": "Let $(a_n)$ and $(b_n)$ be two sequences of positive numbers satisfying the recurrence relations:\\n\\n$\\begin{cases} a_n^2 = a_{n-1}b_n \\\\ b_n^2 = a_n b_{n-1} \\end{cases}$\\n\\nwith the initial conditions $a_0 = \\frac{1}{8}$ and $b_0 = 64$. Show that\\n\\n$\\lim_{n \\to \\infty} a_n = \\lim_{n \\to \\infty} b_n,$\\n\\nand find the common limit.",
    "42": "For $n \\in \\mathbf{N}^*$, let $a_n, b_n, c_n$ and $d_n$ denote the numbers of binary sequences of length $n$ satisfying the respective conditions:\\n\\n| | Number of 0's | Number of 1's |\\n|---|---|---|\\n| $a_n$ | even | even |\\n| $b_n$ | even | odd |\\n| $c_n$ | odd | even |\\n| $d_n$ | odd | odd |\\n\\n(i) Show that\\n\\n$a_n = b_{n-1} + c_{n-1},$\\n$b_n = a_{n-1} + d_{n-1} = c_n,$\\n$d_n = b_{n-1} + c_{n-1}.$\\n\\n(ii) Let $A(x), B(x), C(x)$ and $D(x)$ be, respectively, the generating functions of the sequences $(a_n), (b_n), (c_n)$ and $(d_n)$. Show that",
    "_source_page": 81
  },
  {
    "43": "Three given sequences (a_n), (b_n) and (c_n) satisfy the following recurrence relations:\n\na_{n+1} = \\frac{1}{2}(b_n + c_n - a_n),\nb_{n+1} = \\frac{1}{2}(c_n + a_n - b_n),\n\nand\n\nc_{n+1} = \\frac{1}{2}(a_n + b_n - c_n),\n\nwith the initial conditions a_0 = p, b_0 = q and c_0 = r, where p, q, r are positive constants.\n(i) Show that a_n = \\frac{1}{3}(p + q + r)(\\frac{1}{2})^n + (-1)^n \\frac{1}{3}(2p - q - r) for all n \\ge 0.\n(ii) Deduce that if a_n > 0, b_n > 0 and c_n > 0 for all n \\ge 0, then p = q = r.",
    "44": "For n \\in \\mathbf{N}, let F_n denote the nth Fibonacci number. Thus\n\nF_1 = 1, F_2 = 1, F_3 = 2, F_4 = 3, F_5 = 5, F_6 = 8, \\dots\n\nand by Example 6.3.1,\n\nF_{n+2} = F_n + F_{n+1}\n\nand",
    "_source_page": 82
  },
  {
    "45": "Show that for $m, n \\in \\mathbb{N}$ with $n \\ge 2$,\\n(i) $F_{m+n} = F_m F_{n-1} + F_{m+1} F_n$;\\n(ii) $\\begin{pmatrix} 1 & 1 \\\\ 1 & 0 \\end{pmatrix}^n = \\begin{pmatrix} F_{n+1} & F_n \\\\ F_n & F_{n-1} \\end{pmatrix}$;\\n(iii) $F_{n+1} F_{n-1} - F_n^2 = (-1)^n$;\\n(iv) $F_{n+1}^2 = 4 F_n F_{n-1} + F_{n-2}^2, n \\ge 3$;\\n(v) $(F_n, F_{n+1}) = 1$, where $(a, b)$ denotes the HCF of $a$ and $b$.\\nRemark. In general, $(F_m, F_n) = F_{(m,n)}$. Also, $F_m | F_n$ iff $m | n$.",
    "46": "Show that for $n \\ge 2$\\n(i) $F_n^2 + F_{n-1}^2 = F_{2n-1}$;\\n(ii) $F_{n+1}^2 - F_{n-1}^2 = F_{2n}$;\\n(iii) $F_{n+1}^3 + F_n^3 - F_{n-1}^3 = F_{3n}$.",
    "47": "Show that\\n(i) $\\sum_{r=1}^n F_r^2 = F_n F_{n+1}$,\\n(ii) $\\sum_{r=1}^{2n-1} F_r F_{r+1} = F_{2n}^2$,\\n(iii) $\\sum_{r=1}^{2n} F_r F_{r+1} = F_{2n+1}^2 - 1$.",
    "48": "Show that for $n \\in \\mathbb{N}^*$,",
    "_source_page": 83
  },
  {
    "49": "Show that for $m, n \\in \\mathbf{N}$,\\n\\n$$\\sum_{r=0}^{n} \\binom{n}{r} F_{m+r} = F_{m+2n}.$$",
    "50": "Show that\\n\\n$$\\lim_{n \\to \\infty} \\frac{F_n}{F_{n+1}} = \\frac{\\sqrt{5}-1}{2} \\approx 0.618.$$\\n\\nNote. The constant $\\frac{\\sqrt{5}-1}{2}$ is called the golden number.",
    "51": "Beginning with a pair of baby rabbits, and assuming that each pair gives birth to a new pair each month starting from the 2nd month of its life, find the number $a_n$ of pairs of rabbits at the end of the $n$th month. (Fibonacci, Liber Abaci, 1202.)",
    "52": "Show that for $n \\in \\mathbf{N}^*$,\\n\\n$$F_{n+1} = \\begin{vmatrix} 1 & -1 & 0 & 0 & \\dots & 0 & 0 \\\\ 1 & 1 & -1 & 0 & \\dots & 0 & 0 \\\\ 0 & 1 & 1 & -1 & \\dots & 0 & 0 \\\\ \\vdots & \\vdots & \\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\\\ 0 & 0 & 0 & 0 & \\dots & 1 & -1 \\\\ 0 & 0 & 0 & 0 & \\dots & 1 & 1 \\end{vmatrix}.$$",
    "53": "A man wishes to climb an $n$-step staircase. Let $a_n$ denote the number of ways that this can be done if in each step he can cover either one step or two steps. Find a recurrence relation for $(a_n)$.",
    "54": "Given $n \\in \\mathbf{N}$, find the number of binary sequences of length $n$ in which no two 0's are adjacent.",
    "55": "For $n \\in \\mathbf{N}$ with $n \\ge 2$, let $a_n$ denote the number of ways to express $n$ as a sum of positive integers greater than 1, taking order into account. Find a recurrence relation for $(a_n)$ and determine the value of $a_n$.",
    "56": "Find the number of subsets of $\\{1, 2, \\dots, n\\}$, where $n \\in \\mathbf{N}$, that contain no consecutive integers. Express your answer in terms of a Fibonacci number.",
    "57": "Prove that",
    "_source_page": 84
  },
  {
    "58": "Call an ordered pair (S, T) of subsets of {1, 2, \\dots, n} admissible if s > |T| for each s \\in S, and t > |S| for each t \\in T. How many admissible ordered pairs of subsets of {1, 2, \\dots, 10} are there? Prove your answer. (Putnam, 1990)",
    "59": "For each n \\in \\mathbb{N}, let a_n denote the number of natural numbers N satisfying the following conditions: the sum of the digits of N is n and each digit of N is taken from {1, 3, 4}. Show that a_{2n} is a perfect square for each n = 1, 2, \\dots (Chinese Math. Competition, 1991)",
    "60": "Find a recurrence relation for a_n, the number of ways to place parentheses to indicate the order of multiplication of the n numbers x_1x_2x_3 \\cdots x_n, where n \\in \\mathbb{N}.",
    "61": "For n \\in \\mathbb{N}, let b_n denote the number of sequences of 2n terms:\\nz_1, z_2, \\dots, z_{2n},\\nwhere each z_i is either 1 or -1 such that\\n(1) \\sum_{i=1}^{2n} z_i = 0 and\\n(2) \\sum_{i=1}^{k} z_i \\ge 0 for each k = 1, 2, \\dots, 2n - 1.\\n(i) Find b_n for n = 1, 2, 3.\\n(ii) Establish a bijection between the set of all sequences of 2n terms as defined above and the set of all parenthesized expressions of the n + 1 numbers x_1x_2 \\cdots x_nx_{n+1}.",
    "62": "For n \\in \\mathbb{N}, let a_n denote the number of ways to pair off 2n distinct points on the circumference of a circle by n nonintersecting chords. Find a recurrence relation for (a_n).",
    "63": "Let p(x_1, x_2, \\dots, x_n) be a polynomial in n variables with constant term 0, and let #(p) denote the number of distinct terms in p after terms with like exponents have been collected. Thus for example #((x_1 + x_2)^5) = 6. Find a formula for #(q_n) where\\nq_n = x_1(x_1 + x_2)(x_1 + x_2 + x_3) \\cdots (x_1 + \\dots + x_n).",
    "_source_page": 85
  },
  {
    "64": "Find the total number of ways of arranging in a row the $2n$ integers $a_1, a_2, \\dots, a_n, b_1, b_2, \\dots, b_n$ with the restriction that for each $i$, $a_i$ precede $b_i$, $a_i$ precede $a_{i+1}$ and $b_i$ precede $b_{i+1}$. (Proposed by E. Just, see Amer. Math. Monthly, 76 (1969), 419-420.)",
    "65": "Mr. Chen and Mr. Lim are the two candidates taking part in an election. Assume that Mr. Chen receives $m$ votes and Mr. Lim receives $n$ votes, where $m, n \\in \\mathbf{N}$ with $m > n$. Find the number of ways that the ballots can be arranged in such a way that when they are counted, one at a time, the number of votes for Mr. Chen is always more than that for Mr. Lim.",
    "66": "For $n \\in \\mathbf{N}$, let $a_n$ denote the number of mappings $f : \\mathbf{N}_n \\to \\mathbf{N}_n$ such that if $j \\in f(\\mathbf{N}_n)$, then $i \\in f(\\mathbf{N}_n)$ for all $i$ with $1 \\le i \\le j.\\n(i) Find the values of $a_1, a_2$ and $a_3$ by listing all such mappings $f$.\\n(ii) Show that\\n$a_n = \\sum_{k=1}^n \\binom{n}{k} a_{n-k}.$\\n(iii) Let $A(x)$ be the exponential generating function for $(a_n)$, where $a_0 = 1$.\\nShow that\\n$A(x) = \\frac{1}{2 - e^x}.$\\n(iv) Deduce that\\n$a_n = \\sum_{r=0}^\\infty \\frac{r^n}{2^{r+1}}.$",
    "67": "Define $S_0$ to be 1. For $n \\ge 1$, let $S_n$ be the number of $n \\times n$ matrices whose elements are nonnegative integers with the property that $a_{ij} = a_{ji}$ ($i, j = 1, 2, \\dots, n$) and where $\\sum_{i=1}^n a_{ij} = 1, (j = 1, 2, \\dots, n)$.\\nProve\\n(a) $S_{n+1} = S_n + nS_{n-1}$,\\n(b) $\\sum_{n=0}^\\infty S_n \\frac{x^n}{n!} = e^{x + \\frac{x^2}{2}}$.\\n(Putnam, 1967)",
    "_source_page": 86
  },
  {
    "68": "A sequence $(a_n)$ of numbers satisfies the following conditions:\n(1) $a_1 = \\frac{1}{2}$ and\n(2) $a_1 + a_2 + \\dots + a_n = n^2 a_n, n \\ge 1$.\nDetermine the value of $a_n$.",
    "69": "What is the sum of the greatest odd divisors of the integers $1, 2, 3, \\dots, 2^n$, where $n \\in \\mathbf{N}$? (West German Olympiad, 1982)\n(Hint: Let $a_n$ be the sum of the greatest odd divisors of $1, 2, 3, \\dots, 2^n$.\nShow that $a_n = a_{n-1} + 4^{n-1}$.)",
    "70": "Let $d_n$ be the determinant of the $n \\times n$ matrix in which the element in the $i$th row and the $j$th column is the absolute value of the difference of $i$ and $j$.\nShow that\n$$d_n = (-1)^{n-1}(n-1)2^{n-2}.$$\n(Putnam, 1969)",
    "71": "A sequence $(a_n)$ of natural numbers is defined by $a_1 = 1, a_2 = 3$ and\n$$a_n = (n+1)a_{n-1} - na_{n-2} \\quad (n \\ge 2).$$\nFind all values of $n$ such that $11 | a_n$.",
    "72": "A sequence $(a_n)$ of positive numbers is defined by\n$$a_n = \\frac{1}{16} \\left( 1 + 4a_{n-1} + \\sqrt{1 + 24a_{n-1}} \\right)$$\nwith $a_0 = 1$. Find a general formula for $a_n$.",
    "73": "A sequence $(a_n)$ of numbers is defined by\n$$2a_n = 3a_{n-1} + \\sqrt{5a_{n-1}^2 + 4} \\quad (n \\ge 1)$$\nwith $a_0 = 0$. Show that for all $m \\ge 1, 1992 \\nmid a_{2m+1}$.",
    "74": "Solve the recurrence relation\n$$na_n = (n-2)a_{n-1} + (n+1),$$\ngiven that $a_0 = 0$.",
    "75": "Solve the recurrence relation",
    "_source_page": 87
  },
  {
    "76": "A sequence $(a_n)$ of numbers satisfies the recurrence relation\\n$$(a_n - a_{n-1})f(a_{n-1}) + g(a_{n-1}) = 0$$\\nwith the initial condition $a_0 = 2$, where\\n$$f(x) = 3(x - 1)^2 \\text{ and } g(x) = (x - 1)^3.$$\\nSolve the recurrence relation.",
    "77": "A sequence $(a_n)$ of numbers satisfies the recurrence relation\\n$$n(n - 1)a_n = (n - 1)(n - 2)a_{n-1} - (n - 3)a_{n-2}$$\\nwith the initial conditions $a_0 = 1$ and $a_1 = 2$.\\nFind the value of\\n$$\\sum_{k=0}^{1992} \\frac{a_k}{a_{k+1}}.$$",
    "78": "Let $a(n)$ be the number of representations of the positive integer $n$ as the sums of 1's and 2's taking order into account. For example, since\\n$$4 = 1 + 1 + 2 = 1 + 2 + 1 = 2 + 1 + 1$$\\n$$= 2 + 2 = 1 + 1 + 1 + 1,$$\\nthen $a(4) = 5$. Let $b(n)$ be the number of representations of $n$ as the sum of integers greater than 1, again taking order into account and counting the summand $n$. For example, since $6 = 4 + 2 = 2 + 4 = 3 + 3 = 2 + 2 + 2$, we have $b(6) = 5$. Show that for each $n$, $a(n) = b(n + 2)$. (Putnam, 1957)",
    "79": "Show that the sum of the first $n$ terms in the binomial expansion of $(2 - 1)^{-n}$ is $\\frac{1}{2}$, where $n \\in \\mathbf{N}$. (Putnam, 1967)",
    "80": "Prove that there exists a unique function $f$ from the set $\\mathbf{R}^+$ of positive real numbers to $\\mathbf{R}^+$ such that\\n$$f(f(x)) = 6x - f(x)$$\\nand $f(x) > 0$ for all $x > 0$. (Putnam, 1988)",
    "_source_page": 88
  },
  {
    "88": "In the network illustrated by the figure below, where there are $n$ adjacent squares, what is the number of paths (not necessarily shortest) from $A$ to $B$ which do not pass through any intersection twice?\n(Proposed by P. Andrews and E. T. H. Wang, see CRUX Mathematicorum, 14 (1988), 62–64.)",
    "89": "Let $a_1 = 1$ and $a_{n+1} = a_n + \\lfloor \\sqrt{a_n} \\rfloor$ for $n \\in \\mathbb{N}$. Show that $a_n$ is a square iff $n = 2^k + k - 2$ for some $k \\in \\mathbb{N}$. (Proposed by T. C. Brown, see Amer. Math. Monthly, 85 (1978), 52–53.)",
    "90": "Determine all pairs $(h, s)$ of positive integers with the following property: If one draws $h$ horizontal lines and another $s$ lines which satisfy\n(i) they are not horizontal,\n(ii) no two of them are parallel,\n(iii) no three of the $h + s$ lines are concurrent,\nthen the number of regions formed by these $h + s$ lines is 1992. (APMO, 1992)",
    "91": "Show that\n$S(r, n) = \\sum_{k=n-1}^{r-1} \\binom{r-1}{k} S(k, n-1),$\nwhere $r \\ge n \\ge 2$.",
    "92": "Let $B_0 = 1$ and for $r \\in \\mathbb{N}$, let $B_r = \\sum_{n=1}^r S(r, n)$ denote the $r$th Bell number (see Section 1.7). Show that\n$B_r = \\sum_{k=0}^{r-1} \\binom{r-1}{k} B_k,$",
    "_source_page": 90
  },
  {
    "93": "Two sequences $P(m, n)$ and $Q(m, n)$ are defined as follows ($m, n$ are integers). $P(m, 0) = 1$ for $m \\ge 0$, $P(0, n) = 0$ for $n \\ge 1$, $P(m, n) = 0$ for $m, n < 0$. $P(m, n) = \\sum_{j=0}^n P(m - 1, j)$ for $m \\ge 1$. $Q(m, n) = P(m - 1, n) + P(m - 1, n - 1) + P(m - 1, n - 2)$ for $m \\ge 1$. Express $Q(m, n)$ in terms of $m$ and $n$ for $m \\ge 1$. (Proposed by L. Kuipers, see Amer. Math. Monthly, 76 (1969), 97-98.)",
    "94": "For $n, k \\in \\mathbf{N}$, let $S_k(n) = \\sum_{j=1}^n j^k$ (see Problem 2.85). Show that\\n(i) $S_k(n) = n^{k+1} - \\sum_{r=0}^{k-1} \\binom{k}{r} S_{r+1}(n - 1)$ for $n \\ge 2$,\\n(ii) $(k + 1)S_k(n) = (n + 1)^{k+1} - (n + 1)^k - \\sum_{r=0}^{k-2} \\binom{k}{r} S_{r+1}(n)$.",
    "_source_page": 91
  },
  {
    "exercise": 1,
    "1": "(i) We note that a pair $\\{a, b\\} \\subseteq \\{1, 2, \\dots, 50\\}$ satisfies $|a - b| = 5$ if and only if $\\{a, b\\} = \\{t, t + 5\\}$ where $t \\in \\{1, 2, \\dots, 45\\}$. So the number of ways to choose a pair $\\{a, b\\}$ of distinct numbers such that $|a - b| = 5$ is 45.\\n(ii) By a similar argument as in part (i), we see that the number of ways to choose a pair $\\{a, b\\}$ of distinct numbers such that $|a - b| \\le 5$ is equal to $45 + 46 + 47 + 48 + 49 = 235$.",
    "2": "(i) The number of ways is $12!$.\\n(ii) There are $8!$ ways to permute the 7 boys and the block of girls, and there are $5!$ ways to permute the 5 girls inside the block. By (MP), the number of such ways is equal to $8!5!$.\\n(iii) We can first arrange the boys in $7!$ ways, and then arrange the 5 girls such that no 2 of them are adjacent in $P_5^8$ ways. By (MP), the number of such ways is equal to $7! \\cdot P_5^8$.\\n(iv) First, there are 2 ways to arrange the boys $A$ and $B$. Then there are $P_3^5$ ways to arrange exactly 3 girls between $A$ and $B$. Finally, there are $8!$ ways to arrange the remaining 7 people and the block containing $A, B$ and the 3 girls. By (MP), the number of such ways is equal to $2 \\cdot P_3^5 \\cdot 8! = 120 \\cdot 8!$.",
    "3": "(i) The number of ways is $(m + n)!$.\\n(ii) We can first arrange the girls in $n!$ ways, and then arrange the $m$ boys such that no 2 of them are adjacent in $P_m^{n+1}$ ways. By (MP), the number of such ways is equal to $n! \\cdot P_m^{n+1}$.\\n(iii) There are $(m + 1)!$ ways to permute the $m$ boys and the block of girls, and there are $n!$ ways to permute the $n$ girls inside the block. By (MP), the number of such ways is equal to $(m + 1)!n!$.",
    "_source_page": 92
  },
  {
    "4": "(i) The number of such words is $P^{10}_5$.\\n(ii) There are $P^6_3$ ways to choose the first, third and fifth letters from the letters A, B, C, D, E, F, and $P^4_2$ ways to choose the second and fourth letters from G, H, I, J. By (MP), the number of such words is equal to $P^6_3 \\cdot P^4_2$.",
    "5": "First, there are 2 ways to arrange the letters x and y. Then there are $P^{24}_5$ ways to arrange exactly 5 letters between x and y. Finally, there are 20! ways to arrange the remaining 19 letters and the block containing x, y and the 5 letters. By (MP), the number of such ways is equal to $2 \\cdot P^{24}_5 \\cdot 20!$.",
    "6": "If the thousands digit is even, then there are 2 ways to choose the thousands digit, 5 ways to choose the ones digit, and $P^8_2$ ways to choose the remaining digits. Else, if the thousands digit is odd, then there are 3 ways to choose the thousands digit, 4 ways to choose the ones digit, and $P^8_2$ ways to choose the remaining digits. So the number of odd integers between 3000 and 8000 such that no digit is repeated is $2 \\cdot 5 \\cdot P^8_2 + 3 \\cdot 4 \\cdot P^8_2 = 1232$.",
    "7": "First Solution: We have\\n\\n$1 \\cdot 1! + 2 \\cdot 2! + \\cdots + n \\cdot n!$\\n$= (2 - 1) \\cdot 1! + (3 - 1) \\cdot 2! + \\cdots + (n + 1 - 1) \\cdot n!$\\n$= 2! - 1! + 3! - 2! + \\cdots + (n + 1)! - n!$\\n$= (n + 1)! - 1.$\\n\\nSecond Solution: Let us count the number of permutations $a_1 \\cdots a_{n+1}$ of the set $\\{1, \\dots, n + 1\\}$ that satisfy $(a_1, \\dots, a_{n+1}) \\neq (1, \\dots, n + 1)$ in two different ways. On one hand, the total number of permutations $a_1 a_2 \\cdots a_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ is equal to $(n + 1)!$, so the number of permutations $a_1 a_2 \\cdots a_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ that satisfy $(a_1, a_2, \\dots, a_{n+1}) \\neq (1, 2, \\dots, n + 1)$ is $(n + 1)! - 1$.\\nFor the alternative way of counting, let us count the number of permutations $b_1 b_2 \\cdots b_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ that satisfy $b_i = i$ for",
    "_source_page": 93
  },
  {
    "8": "First Solution: We have\n$$\\frac{1}{(1 + 1)!} + \\frac{2}{(2 + 1)!} + \\dots + \\frac{n}{(n + 1)!}$$\n$$= \\frac{2 - 1}{2!} + \\frac{3 - 1}{3!} + \\dots + \\frac{n + 1 - 1}{(n + 1)!}$$\n$$= \\frac{1}{1!} - \\frac{1}{2!} + \\frac{1}{2!} - \\frac{1}{3!} + \\dots + \\frac{1}{n!} - \\frac{1}{(n + 1)!}$$\n$$= 1 - \\frac{1}{(n + 1)!}.$$\nSecond Solution: Let us calculate the probability that a permutation $a_1a_2 \\dots a_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ satisfies the property that there exists some $i \\in \\{1, 2, \\dots, n\\}$ such that $a_i > a_{i+1}$ in two different ways. On one hand, the only permutation $a_1a_2 \\dots a_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ that do not satisfy the above property is the permutation $123 \\dots n + 1$, so the number of permutations $a_1a_2 \\dots a_{n+1}$ of the set $\\{1, 2, \\dots, n + 1\\}$ that satisfy the above property is equal to $(n + 1)! - 1$. Consequently, the desired probability is equal to $1 - \\frac{1}{(n+1)!}$. For the alternative way of calculating the desired probability, let us count the number of permutations $b_1 \\dots b_{n+1}$ of the set $\\{1, \\dots, n + 1\\}$ that satisfy $b_i < b_{i+1}$ for all $i < k$ and $b_k > b_{k+1}$ for some $k \\in \\{1, 2, \\dots, n\\}$. There are $\\binom{n+1}{k+1}$ choices to choose $k + 1$ numbers out of the set $\\{1, 2, \\dots, n + 1\\}$ for the numbers $b_1, b_2, \\dots, b_{k+1}$. Next, there are $k$ choices for $b_k$ to make it such that the numbers $b_1, b_2, \\dots, b_{k+1}$ satisfy $b_i < b_{i+1}$ for all $i < k$ and $b_k > b_{k+1}$. Finally, there are $(n - k)!$ choices to obtain a permutation $b_{k+2}b_{k+3} \\dots$",
    "_source_page": 94
  },
  {
    "9": "By Example 1.4.4, the number of ways to form $n$ teams from a group of $2n$ people is given by $\\frac{(2n)!}{n! \\cdot 2^n}$, which is an integer. We note that\n\n$$\\frac{(2n)!}{n! \\cdot 2^n} = \\frac{1 \\cdot 2 \\cdot \\dots \\cdot n \\cdot (n+1)(n+2) \\dots (2n)}{1 \\cdot 2 \\cdot \\dots \\cdot n \\cdot 2^n}$$\n$$= \\frac{(n+1)(n+2) \\dots (2n)}{2^n}.$$\n\nThis implies that $\\frac{(n+1)(n+2) \\dots (2n)}{2^n}$ is an integer. Hence\n\n$$(n+1)(n+2) \\dots (2n)$$\n\nis divisible by $2^n$ as desired.",
    "10": "We have $10^{40} = 2^{40} \\cdot 5^{40}$ and $20^{30} = 2^{60} \\cdot 5^{30}$. So the greatest common divisor of $10^{40}$ and $20^{30}$ is equal to $2^{40} \\cdot 5^{30}$. Hence the number of common",
    "_source_page": 95
  },
  {
    "11": "(i) We note that $210 = 2 \\cdot 3 \\cdot 5 \\cdot 7$. So the number of positive divisors of 210 which are multiples of 3 is equal to $2 \\cdot 1 \\cdot 2 \\cdot 2 = 8.\\n(ii) We note that $630 = 2 \\cdot 3^2 \\cdot 5 \\cdot 7$. So the number of positive divisors of 630 which are multiples of 3 is equal to $2 \\cdot 2 \\cdot 2 \\cdot 2 = 16.\\n(iii) We note that $151200 = 2^5 \\cdot 3^3 \\cdot 5^2 \\cdot 7$. So the number of positive divisors of 630 which are multiples of 3 is equal to $6 \\cdot 3 \\cdot 3 \\cdot 2 = 108$.",
    "12": "Let the prime factorisation of $n$ be $p_1^{m_1} \\cdot p_2^{m_2} \\cdots p_k^{m_k}$. Then the prime factorisation of $n^2$ is $p_1^{2m_1} \\cdot p_2^{2m_2} \\cdots p_k^{2m_k}$. So the number of positive divisors of $n^2$ is equal to $(2m_1 + 1)(2m_2 + 1) \\cdots (2m_k + 1)$, which is odd as required.",
    "13": "We note that the sum of digits of $\\underbrace{111 \\cdots 11}_{1992}$ is 1992, which is divisible by 3 but not by 9. Hence, we see that the prime factorisation of $\\underbrace{111 \\cdots 11}_{1992}$ is $3 \\cdot p_1^{m_1} \\cdot p_2^{m_2} \\cdots p_k^{m_k}$, where $p_1, p_2, \\dots, p_k$ are primes larger than 3. Hence the number of positive divisors of $\\underbrace{111 \\cdots 11}_{1992}$ is equal to $2(m_1 + 1)(m_2 + 1) \\cdots (m_k + 1)$, which is even as required.",
    "14": "(i) Let us count the number of ways to arrange $r$ boys in a row from a set of $n$ boys in 2 different ways. On one hand the number of such ways is equal to $P_r^n$ by definition. On the other hand, there are exactly $n$ ways to choose a boy from the set for the leftmost position in the row, and $P_{r-1}^{n-1}$ ways to arrange the remaining $r - 1$ boys in a row. By (MP), the number of such ways is equal to $n \\cdot P_{r-1}^{n-1}$ so we have\\n\\n$P_r^n = n \\cdot P_{r-1}^{n-1}$\\n\\nas desired.\\n(ii) Let us count the number of ways to arrange $r$ boys in a row from a set of $n$ boys in 2 different ways. On one hand the number of such ways is equal to $P_r^n$ by definition. On the other hand, there are exactly $P_{r-1}^n$ ways to arrange $r - 1$ boys in a row from a set of $n$ boys, and there are exactly $n - r + 1$ ways to choose a boy for the last position in the row. By (MP), the number of such ways is equal to $(n - r + 1) \\cdot P_{r-1}^n$ so we have\\n\\n$P_r^n = (n - r + 1) \\cdot P_{r-1}^n$\\n\\nas desired.",
    "_source_page": 96
  },
  {
    "_source_page": 97
  },
  {
    "15": "(i) There are \\binom{5}{3} ways to choose 3 girls out of 5 and there are \\binom{10}{6} ways to choose 6 boys out of 10 to form a committee that satisfies the given conditions. By (MP), the number of ways is equal to \\binom{5}{3} \\binom{10}{6}. \\n(ii) There are 9! ways for the group to take up 9 different posts in the committee. By part (i) and by (MP), we see that the number of ways is equal to \\binom{5}{3} \\binom{10}{6} \\cdot 9!.",
    "16": "Firstly, there are 7! ways to arrange the seven students. Then there are \\binom{8}{3} ways to place the 3 remaining empty chairs together with the 7 occupied chairs, such that no 2 empty chairs are adjacent. By (MP), the number of ways is equal to 7! \\cdot \\binom{8}{3}.",
    "17": "Firstly, there are 5! ways to arrange the five distinct balls. Then there are \\binom{6}{3} ways to place the 3 remaining empty boxes along with the 5 occupied boxes, such that no 2 empty boxes are adjacent. By (MP), the number of ways is equal to 5! \\cdot \\binom{6}{3} = 2400.",
    "18": "Firstly, there are \\binom{13}{7} ways to choose 7 students out of the remaining 13 students to stand in the front row. Then there are 10! ways to arrange the 10 students in the front row, and likewise there are 10! ways to arrange the 10 students in the back row. By (MP), the number of ways is equal to \\binom{13}{7} (10!)^2.",
    "19": "First, there are 7! ways to arrange the 7 boys, and then there are 5 \\times 2 = 10 ways to arrange the 2 girls in such a way that the 2 girls are separated by exactly 3 boys. By (MP), the number of ways is equal to 10 \\cdot 7!.",
    "20": "(i) There are \\binom{15}{7} ways to choose 7 students out of 15 to form a 7-person committee, and there are \\binom{12}{7} ways to choose a 7-person committee, such that all of the committee members are boys. By (CP), the number",
    "_source_page": 98
  },
  {
    "21": "As there are $m$ 0's, it follows that there are $m + 1$ places to place the $n$ 1's in such a way that no two 1's are adjacent. So the number of ways is equal to $\\binom{m+1}{n}$.",
    "22": "There are $\\binom{p}{2}$ ways to choose the 2 horizontal sides of the parallelogram, and there are $\\binom{q}{2}$ ways to choose the 2 vertical sides of the parallelogram. By (MP), the number of ways is equal to $\\binom{p}{2}\\binom{q}{2}$.",
    "23": "By the conditions given in the problem, we deduce that at least 2 of the senior students must be boys. Let us consider these cases:\nCase 1: All senior students are boys. In this case, there must be 4 senior boys, 1 junior boy and 2 junior girls in the committee. There are $\\binom{10}{4}$ ways to choose 4 senior boys out of 10, $\\binom{15}{1}$ ways to choose 1 junior boy out of 15 and $\\binom{10}{2}$ ways to choose 2 junior girls out of 10.\nCase 2: 3 out of the 4 senior students are boys. In this case, there must be 3 senior boys, 1 senior girl, 2 junior boys and 1 junior girl in the committee. There are $\\binom{10}{3}$ ways to choose 3 senior boys out of 10, $\\binom{4}{1}$ ways to choose 1 senior girl out of 4, $\\binom{15}{2}$ ways to choose 2 junior boys out of 15 and $\\binom{10}{1}$ ways to choose 1 junior girl out of 10.\nCase 3: 2 out of the 4 senior students are boys. In this case, there must be 2 senior boys, 2 senior girl and 3 junior boys in the committee. There are $\\binom{10}{2}$ ways to choose 2 senior boys out of 10, $\\binom{4}{2}$ ways to choose 2 senior girls out of 4 and $\\binom{15}{3}$ ways to choose 2 junior boys out of 15.\nBy (AP) and (MP), there are $\\binom{10}{4}\\binom{15}{1}\\binom{10}{2} + \\binom{10}{3}\\binom{4}{1}\\binom{15}{2}\\binom{10}{1} + \\binom{10}{2}\\binom{4}{2}\\binom{15}{3}$ ways to choose a committee that satisfies the conditions.",
    "24": "First, let us find the number of ways to arrange 7 identical white balls and 5 identical black balls, such that the 6-th leftmost ball is white, and the 5 leftmost balls consists of 3 black balls and 2 white balls. There are $\\binom{5}{3}$ ways to arrange the 3 black balls and 2 white balls in the 5 leftmost positions, and there are $\\binom{6}{2}$ ways to arrange the 2 black balls and 4 white balls in the 6 rightmost positions.\nBy the above, we see that the probability that the 6-th ball drawn is white, while before that exactly 3 black balls are drawn, is equal to $\\frac{\\binom{5}{3}\\binom{6}{2}}{\\binom{12}{5}} = \\frac{25}{132}$.",
    "25": "(i) By using a similar argument as in Example 1.5.1, we see that the number of shortest routes from $O$ to $A$ is equal to $\\binom{5}{2}$ and the number of",
    "_source_page": 99
  },
  {
    "26": "(i) The number of ways to choose a group of $2k$ people from $n$ couples, given that there are $k$ couples in such a group, is equal to the number of ways to choose $k$ couples out of $n$, which is equal to $\\binom{n}{k}.\n(ii) Firstly, there are $\\binom{n}{2k}$ ways to choose $2k$ couples out of $n$. Then for each chosen couple, there are 2 ways to choose one person out of the couple. By (MP), the number of ways is equal to $\\binom{n}{2k} \\cdot 2^{2k}.\n(iii) By definition, there are $\\binom{2n}{2k}$ ways to choose $2k$ people out of $n$ couples. By (CP), there are $\\binom{2n}{2k} - \\binom{n}{2k} \\cdot 2^{2k}$ ways to ensure that at least one couple is included in such a group.\n(iv) Firstly, there are $\\binom{n}{2}$ ways to choose 2 couples out of $n$. Then there are $\\binom{n-2}{2k-4}$ ways to choose $2k - 4$ couples out of the remaining $n - 2$ couples. Then for each of the remaining $2k - 4$ couples, there are 2 ways to choose one person out of the couple. By (MP), the number of ways is equal to $\\binom{n}{2} \\binom{n-2}{2k-4} \\cdot 2^{2k-4}$.",
    "27": "First we choose $z$ from $\\{2, 3, \\dots, n + 1\\}$, and write $z$ as $k + 1$ where $k \\in \\{1, 2, \\dots, n\\}$. Then we choose $x, y$ from $\\{1, 2, \\dots, k\\}$ so that $x < z$ and $y < z$, and the number of ways to do so is equal to $k^2$. Hence the number of points $(x, y, z)$ in $S^3$ satisfying $x < z$ and $y < z$ is equal to $\\sum_{k=1}^n k^2$.\nFor the alternative method of counting, let us consider these cases:",
    "_source_page": 100
  },
  {
    "28": "(i) There are \\binom{6}{2} ways to choose the 2 horizontal sides of the rectangle, and there are \\binom{10}{2} ways to choose the 2 vertical sides of the rectangle. By (MP), the number of rectangles whose vertices are in A is equal to \\binom{6}{2} \\binom{10}{2} = 675.\n(ii) For k = 1, 2, 3, 4, 5, we see that the number of squares whose side is of length k is equal to (10 - k) (6 - k). Hence the number of squares whose vertices are in A is equal to 9 \\times 5 + 8 \\times 4 + 7 \\times 3 + 6 \\times 2 + 5 \\times 1 = 115.",
    "29": "(i) Since P_1, P_2, P_3, P_4, P_5 are collinear and no other 3 points are collinear, we see that any two of P_1, P_2, P_3, P_4, P_5 gives rise to the same line. By (CP), the number of such lines is equal to \\binom{15}{2} - \\binom{5}{2} + 1 = 96.\n(ii) Let A, B and C be 3 of the 15 points. We observe that A, B and C form a triangle if and only if A, B and C are not collinear. Also, we see that A, B and C are collinear if and only if A, B and C belong to the set \\{P_1, P_2, P_3, P_4, P_5\\}. By (CP), the number of triangles whose vertices are 3 of the 15 points is equal to \\binom{15}{3} - \\binom{5}{3} = 445.",
    "30": "We shall consider these cases:\nCase 1: There are 3 different digits in the number, and 0 is one of them. Then each digit must appear exactly twice, and there are \\binom{9}{2} to choose the 2 remaining distinct digits. Then the leftmost digit must not be 0, and there are 2 ways to choose the leftmost digit. Subsequently, there are \\binom{5}{2}\\binom{3}{2} ways to arrange the remaining 5 digits. There are \\binom{9}{2} \\times 2 \\times \\binom{5}{2}\\binom{3}{2} such numbers.\nCase 2: There are 3 different digits in the number, and all digits are non-zero. Then each digit must appear exactly twice, and there are \\binom{9}{3} to choose the 3 distinct digits. Then there are \\binom{6}{2}\\binom{4}{2} ways to arrange the 6 digits. There are \\binom{9}{3}\\binom{6}{2}\\binom{4}{2} such numbers.",
    "_source_page": 101
  },
  {
    "31": "We shall consider these cases:\nCase 1: There are 2 different digits in the number, and 0 appears exactly thrice in the number. Then there are 9 ways to choose the other digit. Also, since the leftmost digit must not be 0, it follows that there are $\\binom{6}{3}$ ways to arrange the remaining 6 digits. There are $9 \\times \\binom{6}{3}$ such numbers.\nCase 2: There are 2 different digits in the number, and 0 appears exactly four times in the number. Then there are 9 ways to choose the other digit. Also, since the leftmost digit must not be 0, it follows that there are $\\binom{6}{4}$",
    "_source_page": 102
  },
  {
    "35": "(i) The number of ways is equal to $Q_{11}^{11} = (11 - 1)! = 10!$.\n(ii) Firstly, there are $Q_6^6 = (6 - 1)! = 5!$ ways to arrange the 6 boys around the table. Then there are $P_5^6$ ways to arrange the 5 girls in such a way that no 2 girls are adjacent. By (MP), the total number of ways is equal to $5! P_5^6 = 5! \\times 6!$.\n(iii) Firstly, there are $5!$ ways to arrange the 5 girls within the block. Then there are $Q_7^7 = (7 - 1)! = 6!$ ways to arrange the 6 boys and the block of girls around the table. By (MP), the total number of ways is equal to $5! 6!$.\n(iv) Firstly, there are 2 ways to arrange the boys $B_1$ and $B_2$. Then there are $Q_9^9 = (9 - 1)! = 8!$ ways to arrange the remaining 8 boys and girls, and the block consisting of $B_1$, $B_2$ and $G$ around the table. By (MP), the total number of ways is equal to $2 \\cdot 8!$.",
    "36": "Firstly, there are $\\binom{n}{r} = \\frac{n!}{(n-r)!r!}$ ways to choose $r$ objects out of $n$ distinct objects. Then there are $Q_r^r = (r - 1)!$ ways to arrange the $r$ objects around the circle. By (MP), the number of such circular permutations is equal to\n\n$$\\frac{n!}{(n-r)!r!} \\cdot (r - 1)! = \\frac{n!}{(n-r)!r}.$$",
    "37": "Firstly, there are $\\binom{kn}{n}$ ways to choose $n$ people to seat at the first table. Then, there are $\\binom{(k-1)n}{n}$ ways to choose $n$ people to seat at the second table. In general, there are $\\binom{(k-r)n}{n}$ ways to choose $n$ people to seat at the $(r + 1)$-th table. Then, for each table, there are $Q_n^n = (n - 1)!$ ways to arrange the $n$ people around the table. By (MP), the number of ways is equal to",
    "_source_page": 104
  },
  {
    "38": "We have\\n\\frac{1}{\\binom{9}{r}} - \\frac{1}{\\binom{10}{r}} = \\frac{11}{6\\binom{11}{r}}\\n\\Rightarrow \\frac{r!(9-r)!}{9!} - \\frac{r!(10-r)!}{10!} = \\frac{r!(11-r)!}{6 \\cdot 10!}\\n\\Rightarrow \\frac{r!(9-r)!}{6 \\cdot 10!} (60 - 6(10-r) - (10-r)(11-r)) = 0\\n\\Rightarrow r^2 - 27r + 110 = 0\\n\\Rightarrow (r-5)(r-22) = 0.\\nThis gives us r = 5 or r = 22. Since 0 \\le r \\le 9, we must have r = 5.",
    "39": "(a) Let us count the number of ways to choose r people from a set of n people to form a committee consisting of a chairman and r - 1 members, in 2 different ways. On one hand, we can first choose the r people for the committee in \\binom{n}{r} ways, and then choose the chairman for the committee in r ways. On the other hand, there are exactly n ways to first choose the chairman for the committee, and subsequently there are \\binom{n-1}{r-1} ways to choose the r - 1 members for the committee. Hence, we have r\\binom{n}{r} = n\\binom{n-1}{r-1}, or equivalently,\\n\\binom{n}{r} = \\frac{n}{r}\\binom{n-1}{r-1}\\nas desired.\\n(b) Let us count the number of ways to choose r people from a set of n people to form a committee consisting of a chairman and r - 1 members, in 2 different ways. On one hand, we can first choose the r people for the committee in \\binom{n}{r} ways, and then choose the chairman for the committee in r ways.",
    "_source_page": 105
  },
  {
    "40": "Let $A$ denote the set of binary strings of length $n$ consisting of $r$ 0's and $n - r$ 1's, and let $B$ denote the set of binary strings of length $n$ consisting of $n - r$ 0's and $r$ 1's. Then we have $|A| = \\binom{n}{r}$ and $|B| = \\binom{n}{n-r}$ by definition. Also, it",
    "_source_page": 106
  },
  {
    "41": "It is easy to see that the function $f:A \\to B$ given by $f(A) = X \\setminus A$, is a well-defined bijection. By (BP), we have $|A| = |B|$ as desired.",
    "42": "We have\\n\\n$$\\frac{(n+1)(n+2)\\cdots(n+r)}{r!} = \\frac{n!(n+1)(n+2)\\cdots(n+r)}{n!r!}$$\\n$$= \\frac{(n+r)!}{n!r!}$$\\n$$= \\binom{n+r}{r}$$\\n\\nto be an integer by definition. Hence $(n+1)(n+2)\\cdots(n+r)$ is divisible by $r!$ as desired.",
    "43": "By using a similar argument to that in Example 1.4.4 Solution 3, we see that the number of $k$-groupings of $A$ is equal to $\\frac{(kn)!}{n!(k!)^n}$, since the order in each $k$-element subset of $A$, and the order of the $k$-element subsets of $A$ is immaterial.",
    "44": "First Solution: Let us fix a sitting configuration of the knights. Regarding the 25 knights as the vertices of a 25-sided regular convex polygon $Q$, the given problem is equivalent to finding the probability that a triangle formed by the vertices of the polygon have at least a pair of adjacent vertices in $Q$. Fix a vertex $A$ in $P$. Let us count the number of triangles, containing $A$ as a vertex, whose vertices are in $Q$ and are pairwise non-adjacent. There are $\\binom{22}{2}$ ways to choose vertices $B$ and $C$ in $Q$ such that $B$ and $C$ are both not adjacent to $A$. Out of these $\\binom{22}{2}$ ways, 21 of them have $B$ and $C$ adjacent to each other. As each such triangle is counted exactly 3 times in this process, we see that the number of triangles formed by any 3 vertices of $Q$ such that they are pairwise non-adjacent in $Q$ is equal to $\\frac{25}{3} (\\binom{22}{2} - 21) = 1750$. By (CP), the number of triangles formed by any 3 vertices of $Q$ such that at",
    "_source_page": 107
  },
  {
    "45": "Since the empty set and the whole set are not admissible combinations, the total number of admissible combinations is equal to $2^{10} - 2 = 1022$. By (CP), the number of additional admissible combinations is equal to $1022 - \\binom{10}{5} = 770$.",
    "46": "We can visualize the clay targets as follows: the left chain is a chain of 3 red targets, the middle chain is a chain of 2 white targets, and the right chain is a chain of 3 blue targets. Then each valid shooting order corresponds to an arrangement of the 3 red targets, 2 white targets and 3 blue targets in a row. Hence, the number of valid shooting orders is equal to $P(8; 3, 2, 3) = \\frac{8!}{3!2!3!} = 560$.",
    "47": "For a sequence $a = \\overline{a_1 a_2 \\cdots a_k}$ of distinct digits, where $k = 1, 2, 3, 4, 5$, and $a_i \\in \\{1, 2, 3, 4, 5\\}$ for all $i = 1, 2, \\dots, k$, we see that the number of 5-digit integers that uses the digits 1, 2, 3, 4, 5 exactly once, and begins with the sequence $a$ is equal to $(5 - k)!$.\\n\\n(i) Using the above fact, we see that:\\n12345 is the first number,",
    "_source_page": 108
  },
  {
    "48": "For a sequence a = (a_1, a_2, \\dots, a_k) of distinct digits, where k = 1, 2, 3, a_i \\in \\{1, 2, \\dots 9\\}, we see that the number of 4-permutations of \\{1, 2, \\dots 9\\} that begins with the sequence a is equal to P_{4-k}^{9-k}.\nUsing the above fact, we see that:\n\"1234\" is the first permutation,\n\"4123\" is the (1 + 3 \\cdot P_3^8)-th permutation,\n\"4512\" is the (1 + 3 \\cdot P_3^8 + 3 \\cdot P_2^7)-th permutation,\n\"4561\" is the (1 + 3 \\cdot P_3^8 + 3 \\cdot P_2^7 + 3 \\cdot P_1^6)-th permutation.\nSo \"4567\" is the (1 + 3 \\cdot P_3^8 + 3 \\cdot P_2^7 + 3 \\cdot P_1^6 + 3)-th = 1156-th\npermutation, that is, \"4567\" is in the 1156-th position.\nUsing the above fact, we see that:\n\"1234\" is the first permutation,\n\"5123\" is the (1 + 4 \\cdot P_3^8)-th permutation.\nSo \"5182\" is the (1 + 4 \\cdot P_3^8 + 5 \\cdot P_1^6)-th = 1375-th permutation, that is,\n\"5182\" is in the 1375-th position.",
    "49": "Fix a strictly increasing sequence (a_1, a_2, \\dots, a_k), where k = 1, 2, 3, and a_1 \\ge 1, a_k \\le 10. Let B = \\{b_1, b_2, b_3, b_4\\} be a 4-element subset of \\{1, 2, \\dots, 10\\} with the property that b_1 < b_2 < b_3 < b_4, and b_i = a_i for i = 1, 2, \\dots, k.\nThen we see that the number of such subsets B is equal to \\binom{10-a_k}{4-k}.\nUsing the above fact, we see that:\n\\{1, 2, 3, 4\\} is the first subset, \\{2, 3, 4, 5\\} is the (1 + \\binom{10-1}{4-1})-th subset.\nSo \\{3, 4, 5, 6\\} is the (1 + \\binom{10-1}{4-1} + \\binom{10-2}{4-1})-th = 141-th subset, that is, \\{3, 4, 5, 6\\} is in the 141-th position.\nUsing the above fact, we see that:\n\\{3, 5, 6, 7\\} is the (141 + \\binom{10-4}{4-2})-th subset,\n\\{3, 5, 7, 8\\} is the (141 + \\binom{10-4}{4-2} + \\binom{10-6}{4-3})-th subset.\nSo \\{3, 5, 7, 9\\} is the (141 + \\binom{10-4}{4-2} + \\binom{10-6}{4-3} + 1)-th = 161-th subset, that is,",
    "_source_page": 109
  },
  {
    "50": "Let the scientists be $S_1, S_2, \\dots, S_6$, and let $L$ be the set of locks, and let $S$ be the set of 2-element subsets of $\\{S_1, S_2, \\dots, S_6\\}$. For each element $T = \\{S_a, S_b\\}$ in $S$, let $L_T$ denote the set of locks that cannot be opened by the scientists $S_a, S_b$.\\nWe first note that $L_T$ is non-empty for each element $T$ in $S$; this is because the cabinet can be opened only when 3 or more scientists are present. Furthermore; for any two distinct elements $U, V \\in S$; we must have $L_U \\cap L_V = \\emptyset$. To see that this is the case; we note that if $\\ell \\in L_U \\cap L_V$; then we see that lock $\\ell$ cannot be opened by the set of scientists $U \\cup V$. As the set $U \\cup V$ contains at least 3 scientists, this contradicts the fact that the cabinet can be opened by any group containing at least 3 scientists.\\nNow, let us define a function $f: S \\to L$ by $f(T) = \\ell_T$, where $\\ell_T$ is an element arbitrary chosen from the set $L_T$. Then it is clear from the above that $f$ is a well-defined injection. By (IP), we have $|L| \\ge |S| = \\binom{6}{2} = 15$, so the minimum number of locks required is 15.\\nFor the second part of the problem, let us consider the number of keys that $S_1$ needs to carry. Since the cabinet can be opened by any group containing at least 3 scientists, it follows that for every two-element subset $W$ of $\\{S_2, S_3, \\dots, S_6\\}$, $S_1$ must possess the keys to the locks in $L_W$. Furthermore, we see from the above that $|L_W| \\ge 1$ and $L_U \\cap L_V = \\emptyset$, so the number of keys that $S_1$ must carry is equal to\\n$$\\sum_{V \\subseteq \\{S_2, S_3, \\dots, S_6\\}, |V|=2} |L_V| \\ge \\binom{5}{2} = 10.$$\\nHence, the minimum number of keys that $S_1$ needs to carry is 10. Since $S_1$ is arbitrary, we see that each scientist needs to carry at least 10 keys.",
    "51": "(i) There are $4^{10}$ ways to paint the building.\\n(ii) Firstly, there are 4 ways to paint the first storey. Then for $k = 1, 2, \\dots, 9$, there are 3 ways to paint the $(k + 1)$-th storey since the $(k + 1)$-th storey must be of a different colour from the $k$-th storey. By (MP), the number of ways is equal to $4 \\cdot 3^9$.",
    "52": "We observe that a multi-subset of $\\{r_1 \\cdot a_1, r_2 \\cdot a_2, \\dots, r_n \\cdot a_n\\}$ is of the form",
    "_source_page": 110
  },
  {
    "53": "Let S denote the set of permutations of \\{1, 2, \\dots, 2n\\} without the property P(r), and T denote the set of permutations of \\{1, 2, \\dots, 2n\\} with the property P(r). Without loss of generality, let us assume that S is non-empty. Let us define a function f: S \\to T by f(x_1x_2 \\dots x_{2n}) = x_2x_3 \\dots x_{s-1}x_s x_1 x_{s+1} \\dots x_{2n}, where s is the smallest integer such that |x_{s+1} - x_1| = r. (Note: Depending on the value of r and x_1, there may be more than one integer s satisfying the relation |x_{s+1} - x_1| = r.) Then by a similar argument as in Example 1.5.4, we see that f is an injection but not a bijection, so by (IP) and (BP), we have |S| < |T| as desired.",
    "54": "Let A be a set of kn elements, where k, n are positive integers. Let us define a k-ordering of A to be a sequence (A_1, A_2, \\dots, A_n) of n pairwise disjoint k-element subsets of A, and count the number of such k-orderings of A. Firstly, there are \\binom{kn}{k} ways to choose k elements of A for A_1. Then, there are \\binom{(n-1)k}{k} ways to choose k elements of A \\setminus A_1 for A_2. In general, there are \\binom{(n-r)k}{k} ways to choose k elements of A \\setminus (\\cup_{i=1}^r A_i) for A_{r+1}, where r \\in \\{1, 2, \\dots, n - 1\\}. By (MP), the number of such k-orderings of A is equal to \\n\\n\\binom{kn}{k}\\binom{(n-1)k}{k}\\binom{(n-2)k}{k} \\dots \\binom{k}{k} \\n= \\frac{(kn)!}{((n-1)k)!k!} \\cdot \\frac{((n-1)k)!}{((n-2)k)!k!} \\cdot \\frac{((n-2)k)!}{((n-3)k)!k!} \\dots \\frac{(2k)!}{k!k!} \\cdot \\frac{k!}{k!0!} \\n= \\frac{(kn)!}{(k!)^n}. \\n\\nNow, \\n(i) By setting k = 3, we see that the number of k-orderings of A is equal to \\frac{(kn)!}{(k!)^n} = \\frac{(3n)!}{(3!)^n} = \\frac{(3n)!}{2^n \\cdot 3^n}. Hence \\frac{(3n)!}{2^n \\cdot 3^n} is an integer as desired. \\n(ii) By setting k = 6, we see that the number of k-orderings of A is equal to \\frac{(kn)!}{(k!)^n} = \\frac{(6n)!}{(6!)^n} = \\frac{(3n)!}{2^{4n} \\cdot 3^{2n} \\cdot 5^n}. Hence \\frac{(3n)!}{2^{4n} \\cdot 3^{2n} \\cdot 5^n} is an integer as desired. \\n(iii) By setting k = n, we see that the number of k-orderings of A is equal to \\frac{(kn)!}{(k!)^n} = \\frac{(n^2)!}{(n!)^n}. Hence \\frac{(n^2)!}{(n!)^n} is an integer as desired. \\n\\nFinally, by defining an n-ordering of A to be a sequence (A_1, A_2, \\dots, A_k) of",
    "_source_page": 111
  },
  {
    "55": "Let M be an r-element multi-subset of {1 \\cdot a_1, \\infty \\cdot a_2, \\dots, \\infty \\cdot a_n}. If a_1 \\in M, then there are H_{r-1}^{n-1} = \\binom{r+n-3}{r-1} such sets. Else, if a_1 \\notin M, then there are H_r^{n-1} = \\binom{r+n-2}{r} such sets. By (AP), the number of r-elements multi-subsets of {1 \\cdot a_1, \\infty \\cdot a_2, \\dots, \\infty \\cdot a_n} is equal to \\binom{r+n-3}{r-1} + \\binom{r+n-2}{r}.",
    "56": "Firstly, there are 6! ways to arrange the 6 distinct symbols. Suppose that the order of which the symbols are transmitted is s_1, s_2, s_3, s_4, s_5, s_6. Let b_i denote the number of blanks transmitted between the symbols s_i and s_{i+1} for i = 1, 2, 3, 4, 5. Then we have b_1 + b_2 + b_3 + b_4 + b_5 = 18, with the condition that b_i \\ge 2 for all i = 1, 2, 3, 4, 5. By writing c_i = b_i - 2 for i = 1, 2, 3, 4, 5, we see that the number of ways to insert the blanks is equal to the number of non-negative integer solutions of the equation c_1 + c_2 + c_3 + c_4 + c_5 = 8, which is equal to H_8^5 = \\binom{12}{4}. By (MP), the total number of ways is equal to \\binom{12}{4} \\cdot 6!.",
    "57": "Firstly, by considering the 3 X's and 2 Y's in isolation, we see that there are exactly 3 ways (XYXYX, XYYXX, XXYYX) of arranging the 3 X's and 2 Y's in such a way that every Y lies between 2 X's. Then, we see that there are 6! ways to arrange the letters A, B, C, D, E, F in a row. Finally, by identifying the X's and the Y's, we see that there are H_5^7 = \\binom{11}{5} ways of inserting the letters X's and Y's into the row. By (MP), the number of ways is equal to 3 \\cdot \\binom{11}{5} \\cdot 6!.",
    "58": "(i) The number of pairwise non-equivalent 5-digit integers is equal to the number of 5-element multi-subsets of the multi-set {\\infty \\cdot 0, \\infty \\cdot 1, \\dots, \\infty \\cdot 9}, which is equal to H_5^{10} = \\binom{14}{5}.\n(ii) We shall consider these cases:\nCase 1: All of the digits 5, 7, 9 appear in the 5-digit integer. Then the number of such pairwise non-equivalent 5-digit integers satisfying the conditions is equal to H_2^7 = \\binom{8}{2}.\nCase 2: Exactly two of the digits 5, 7, 9 appear in the 5-digit integer. Then the number of such pairwise non-equivalent 5-digit integers satisfying the conditions is equal to 3 \\cdot H_3^7 = 3\\binom{9}{3}.\nCase 3: Exactly one of the digits 5, 7, 9 appear in the 5-digit integer.",
    "_source_page": 112
  },
  {
    "59": "(i) The number of 10-letter words is equal to $6^{10}$.\n(ii) The number of such 10-letter words is equal to $\\frac{10!}{3!3!}$.\n(iii) The number of such 10-letter words is equal to the number of 10-element multi-subsets of the multi-set $\\{\\infty \\cdot a, \\infty \\cdot b, \\dots, \\infty \\cdot f\\}$, which is equal to $H_{10}^6 = \\binom{15}{5}$.\n(iv) Let $t_\\alpha$ denote the number of times that the letter $\\alpha$ appears in the 10-letter word for $\\alpha = a, b, c, d, e, f$. Then we have $t_a + t_b + t_c + t_d + t_e + t_f = 10$, with the condition that $t_\\alpha \\ge 1$ for all $\\alpha = a, b, c, d, e, f$. This implies that the number of such 10-letter words is equal to the number of non-negative integer solutions of the equation $u_a + u_b + u_c + u_d + u_e + u_f = 4$, which is equal to $H_4^6 = \\binom{9}{5}$.",
    "60": "Label the boxes $B_1, B_2, \\dots, B_n$, and let the number of objects in the box $B_i$ be equal to $a_i$, where $i = 1, 2, \\dots, n$. Then we have $a_1 + a_2 + \\dots + a_n = r$, with the condition that $a_i \\ge k$ for all $i = 1, 2, \\dots, 5$. This implies that the number of ways of distributing is equivalent to the number of non-negative integer solutions of the equation $b_1 + b_2 + \\dots + b_n = r - nk$, which is equal to $H_{r-nk}^n = \\binom{r-n(k-1)-1}{n-1}$.",
    "61": "Firstly, by considering the letters $x, y, z$ in isolation, we see that there are 2 ways of arranging $x, y, z$ such that $y$ always lie between $x$ and $z$. Then, we see that there are 6! ways to arrange the letters $r, s, t, u, v, w$ in a row. Finally, by identifying the letters $x, y, z$, we see that there are $H_3^7 = \\binom{9}{3}$ ways of inserting the letters $x, y$ and $z$ into the row. By (MP), the number of ways is equal to $2 \\cdot \\binom{9}{3} \\cdot 6! = 2 \\cdot \\frac{9!}{3!}$.",
    "62": "Firstly, there are 2 ways to arrange the girls $A, B, C$ in such a way that $B$ must lie between $A$ and $C$. Next, we note that the number of ways to insert 9 identical blanks in the arrangement of the girls $A, B, C$, such that there are exactly 4 blanks between the girls $A$ and $B$, is equal to $H_5^3 = 21$. Finally, there are 9! ways to arrange the 9 boys into the 9 blanks. By (MP), the",
    "_source_page": 113
  },
  {
    "63": "Firstly, let us find the number of ways of inserting 11 blanks in the arrangement of the girls, such that there must be at least 3 blanks between $G_1$ and $G_2$, and there is at most one blank between $G_4$ and $G_5$. We note that the number of ways of inserting 11 blanks in the arrangement of the girls, such that there must be at least 3 blanks between $G_1$ and $G_2$ is equal to $H_8^6 = 1287$, and the number of ways of inserting 11 blanks in the arrangement of the girls, such that there must be at least 3 blanks between $G_1$ and $G_2$, and there must be at least 2 blanks between $G_4$ and $G_5$ is equal to $H_6^6 = 462$. By (CP), the number of ways of inserting 11 blanks in the arrangement of the girls, such that there must be at least 3 blanks between $G_1$ and $G_2$, and there is at most one blank between $G_4$ and $G_5$ is equal to $1287 - 462 = 825$. Next, we see that the number of ways of arranging the 11 boys into the 11 blanks is equal to $11!$. By (MP), the number of ways is equal to $825 \\cdot 11!$.",
    "64": "Let $M(r, n)$ denote the number of ways of distributing $r$ distinct objects into $n$ distinct boxes, such that no box is empty, and the objects in each box are arranged in a row. Let $s_1, s_2, \\dots, s_r, t$ be $r + 1$ distinct symbols. Then we see that $M(r, n)$ is equal to the number of permutations of the multi-set $\\{1 \\cdot s_1, 1 \\cdot s_2, \\dots, 1 \\cdot s_r, (n - 1) \\cdot t\\}$, such that each of the $t$'s must appear in between two of the $s_i$'s. Firstly, we see that there are $r!$ ways to arrange the symbols $s_1, s_2, \\dots, s_r$ in a row, and there are $\\binom{r-1}{n-1}$ ways to place $n - 1$ $t$'s within the arrangement of the $s_i$'s, such that each of the $t$'s appear in between two of the $s_i$'s. By (MP), we see that $M(r, n) = r! \\binom{r-1}{n-1}$. Since the boxes in the case of $L(r, n)$ is identical, we see that $L(r, n) = \\frac{M(r, n)}{n!} = \\frac{r!}{n!} \\binom{r-1}{n-1}$.",
    "65": "(i) By setting $y_i = x_i - (i - 1)$ for $i = 1, 2, 3, 4, 5, 6$, we see that the number of integer solutions to the equation $x_1 + x_2 + x_3 + x_4 + x_5 + x_6 = 60$ that satisfies $x_i \\ge i - 1$ for $i = 1, 2, 3, 4, 5, 6$, is equal to the number of non-negative integer solutions to the equation $y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 45$, which is equal to $H_{45}^6 = \\binom{50}{5}$.\\n(ii) By setting $a_1 = 2, a_2 = 5, a_3 = 2, a_4 = 1, a_5 = 3$ and $a_6 = 2$, we see that the number of integer solutions to the equation $x_1 + x_2 + x_3 + x_4 + x_5 + x_6 = 60$ that satisfies $x_i \\ge a_i$ for $i = 1, 2, 3, 4, 5, 6$, is equal to the number of non-negative integer solutions to the equation $y_1 + y_2 + y_3 + y_4 + y_5$",
    "_source_page": 114
  },
  {
    "66": "(i) The number of non-negative integer solutions to the equation x_1 + x_2 + x_3 + x_4 = 30 is equal to H_{30}^4 = \\binom{33}{3}.\\n(ii) By setting a_1 = 2 and a_2 = a_3 = a_4 = 0, we see that the number of integer solutions to the equation x_1 + x_2 + x_3 + x_4 = 30 satisfying x_i \\ge a_i for i = 1, 2, 3, 4 and x_1 \\le 7 is equal to the number of non-negative integer solutions to the equation y_1 + y_2 + y_3 + y_4 = 28, subject to the additional condition y_1 \\le 5.\\nWe note that the number of non-negative integer solutions to the equation\\ny_1 + y_2 + y_3 + y_4 = 28\\nis equal to H_{28}^4 = \\binom{31}{3}. Also, by setting z_1 = y_1 - 6 and z_i = y_i for i = 2, 3, 4, we see that the number of non-negative integer solutions to the equation y_1 + y_2 + y_3 + y_4 = 28, such that y_1 \\ge 6, is equal to the number of non-negative integer solutions to the equation z_1 + z_2 + z_3 + z_4 = 22, which is then equal to H_{22}^4 = \\binom{25}{3}. By (CP), the number of integer solutions to the equation x_1 + x_2 + x_3 + x_4 = 30 satisfying the conditions given in the problem is equal to \\binom{31}{3} - \\binom{25}{3}.\\n(iii) By setting a_1 = -5, a_2 = -1, a_3 = 1 and a_4 = 2 and y_i = x_i - a_i for i = 1, 2, 3, 4, we see that the number of integer solutions to the equation x_1 +",
    "_source_page": 115
  },
  {
    "67": "We note that a tuple $(w, x, y, z)$ of non-negative integers satisfies $w + x + y + z \\le 1992$ if and only if $w + x + y + z = 1992 - v$ for some non-negative integer $v$. Hence, we see that the number of 4-tuples $(w, x, y, z)$ of non-negative integers that satisfy the inequality $w + x + y + z \\le 1992$ is equal to the number of tuples $(v, w, x, y, z)$ of non-negative integers that satisfy the equation $v + w + x + y + z = 1992$, which is equal to $H_{1992}^5 = \\binom{1996}{4}$.",
    "68": "Clearly, the only values of $x_1$ for which the equation $5x_1 + x_2 + x_3 + x_4 = 14$ of non-negative integers admits a solution are 0, 1 and 2. For $v = 0, 1, 2$, we see that the number of non-negative integer solutions to the equation $5x_1 + x_2 + x_3 + x_4 = 14$ with $x_1 = v$ is equal to the number of non-negative integer solutions to the equation $x_2 + x_3 + x_4 = 14 - 5v$, which is equal to $H_{14-5v}^3 = \\binom{16-5v}{2}$.\\nBy (AP), the total number of solutions to the equation $5x_1 +x_2 + x_3 + x_4 = 14$ is equal to $\\sum_{v=0}^2 \\binom{16-5v}{2} = \\binom{16}{2} + \\binom{11}{2} + \\binom{6}{2}$.",
    "69": "Clearly, the only values of $x_1$ for which the equation $rx_1 + x_2 + \\dots + x_n = kr$ of non-negative integers admits a solution are $0, 1, \\dots, k$. For $i = 0, 1, \\dots, k$, we see that the number of non-negative integer solutions to the equation $rx_1 + x_2 + \\dots + x_n = kr$ with $x_1 = i$ is equal to the number of non-negative integer solutions to the equation $x_2 + \\dots + x_n = r(k - i)$, which is equal to $H_{r(k-i)}^{n-1} = \\binom{r(k-i)+n-2}{n-2}$.\\nBy (AP), the total number of non-negative integer solutions to the equation $rx_1 + x_2 + \\dots + x_n = kr$ is equal to $\\sum_{i=0}^k \\binom{r(k-i)+n-2}{n-2}$.",
    "70": "Clearly, the only values of $(x_1, x_2)$ for which the equation $3x_1 + 5x_2 + x_3 + x_4 = 10$ of non-negative integers admits a solution are $(0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (2, 0)$ and $(3, 0)$. For a pair of integers $(a, b) = (0, 0), (0, 1), (0, 2), (1, 0), (1, 1), (2, 0), (3, 0)$, we see that the number of non-negative integer solutions to the equation\\n\\n$5x_1 + x_2 + x_3 + x_4 = 14$\\n\\nwith $x_1 = a, x_2 = b$ is equal to the number of non-negative integer solutions to the equation $x_3 + x_4 = 10 - 3a - 5b$, which is equal to",
    "_source_page": 116
  },
  {
    "71": "Since all of x_1, x_2, x_3, y_1, y_2, y_3, y_4 are positive, and the only positive factors of 77 are 1, 7, 11, 77, we must have either x_1 + x_2 + x_3 = 7 and y_1 + y_2 + y_3 + y_4 = 11, or x_1 + x_2 + x_3 = 11 and y_1 + y_2 + y_3 + y_4 = 7. We note that for a given equation a_1 + a_2 + \\dots + a_n = r where r \\ge n is a positive integer, we see that by writing b_i = a_i - 1 for i = 1, 2, \\dots, n, the number of positive integer solutions to the equation a_1 + a_2 + \\dots + a_n = r is equal to the number of non-negative integer solutions to the equation b_1 + b_2 + \\dots + b_n = r - n, which is equal to H_{r-n}^n = \\binom{r-1}{n-1}.\\nFor the former case, there are \\binom{7-1}{3-1} = \\binom{6}{2} positive integer solutions to the equation x_1 + x_2 + x_3 = 7 and there are \\binom{11-1}{4-1} = \\binom{10}{3} positive integer solutions to the equation y_1 + y_2 + y_3 + y_4 = 11.\\nFor the latter case, there are \\binom{11-1}{3-1} = \\binom{10}{2} positive integer solutions to the equation x_1 + x_2 + x_3 = 11 and there are \\binom{7-1}{4-1} = \\binom{6}{3} positive integer solutions to the equation y_1 + y_2 + y_3 + y_4 = 7.\\nBy (AP) and (MP), there is a total of \\binom{6}{2}\\binom{10}{3} + \\binom{10}{2}\\binom{6}{3} positive integer solutions to the equation (x_1 + x_2 + x_3)(y_1 + y_2 + y_3 + y_4) = 77.",
    "72": "Since the only positive factors of p are 1 and p, we must have either x_1 + \\dots + x_n = 1 and y_1 + \\dots + y_n = p, or x_1 + \\dots + x_n = p and y_1 + \\dots + y_n = 1.\\nFor the former case, there are H_1^n = \\binom{n}{1} = n non-negative integer solutions to the equation x_1 + \\dots + x_n = 1 and H_p^n = \\binom{p+n-1}{p} non-negative integer solutions to the equation y_1 + \\dots + y_n = p. By (MP), the total number of solutions in this case is equal to n\\binom{p+n-1}{p}. By symmetry, the number of solutions in the latter case is equal to n\\binom{p+n-1}{p}.\\nBy (AP), there are a total of 2n\\binom{p+n-1}{p} non-negative integer solutions to the",
    "_source_page": 117
  },
  {
    "73": "It is easy to see that the number of ways to express $r$ as a sum of $n$ non-negative integers in which the order counts is equal to the number of non-negative integer solutions to the equation $x_1 + \\dots + x_n = r$, which is equal to $H_r^n = \\binom{r+n-1}{r}$.",
    "74": "It is easy to see that the number of ways to express $r$ as a sum of $n$ positive integers in which the order counts is equal to the number of positive integer solutions to the equation $x_1 + \\dots + x_n = r$, which is equal to $H_{r-n}^n = \\binom{r-1}{n-1}$.",
    "75": "For the completeness of the argument here let us also assume that 0 is an ascending integer. Then it is easy to see that the number of non-negative ascending integers lesser than $10^9$ is equal to the number of 9-element multi-subsets of the multi-set\\n\\n$$\\{\\infty \\cdot 0, \\infty \\cdot 1, \\dots, \\infty \\cdot 9\\},$$\\n\\nwhich is equal to $H_9^{10} = \\binom{18}{9}$. Excluding 0, the number of (positive) ascending integers is equal to $\\binom{18}{9} - 1$.",
    "76": "(i) The number of strictly ascending integers lesser than $10^9$ is equal to the number of non-empty subsets of the set $\\{1, 2, \\dots, 9\\}$, which is equal to $2^9 - 1$.\\n(ii) The number of strictly ascending integers lesser than $10^5$ is equal to the number of non-empty subsets of the set $\\{1, 2, \\dots, 9\\}$ with at most 5 elements. We note that the number of $k$-element subsets of $\\{1, 2, \\dots, 9\\}$ is equal to $\\binom{9}{k}$. Therefore, the number of strictly ascending integers lesser than $10^5$ is equal to $\\sum_{k=1}^5 \\binom{9}{k} = 381$.",
    "77": "(i) Let $B \\subseteq A$ in which $k \\in B$ and $k$ is the maximum number amongst the elements in $B$. Then it follows that $B \\setminus \\{k\\}$ must be a subset of $\\{1, 2, \\dots$\\n$, k - 1\\}$ for $k > 1$, or $B = \\{k\\}$ when $k = 1$. For the former case, there are $2^{k-1}$ ways to choose elements for $B \\setminus \\{k\\}$ so the number of such sets $B$ is equal to $2^{k-1}$. For the latter case, there is only $1 = 2^{1-1} = 2^{k-1}$ such set. The desired follows.\\n(ii) We shall count the number of non-empty subsets $C$ of $A$ in two different ways. On one hand, it is clear by (CP) that $|C| = 2^n - 1$, since the empty set is excluded. On the other hand, for $i \\in A$, let $S_i$ denote the set of subsets $B$ of $A$ in which $i \\in B$ and $i$ is the maximum number amongst the elements in $B$. Then it is clear that $S_i$ and $S_j$ are pairwise",
    "_source_page": 118
  },
  {
    "78": "Let $C$ denote the set of chords. For each chord $c \\in C$, let $r_c$ denote the number of line segments that comprise $c$, and let $m_c$ denote the number of points of intersections lying on chord $c$. Then it is clear that $r_c = 1 + m_c$ for all $c \\in C$. Furthermore, we see that since no three chords are concurrent within the interior of the circle, we see that each point of intersection within the interior of the circle is counted exactly twice in the sum $\\sum_{c \\in C} m_c$, and hence $\\sum_{c \\in C} m_c = 2m$. Therefore, we have\\n\\n$r = \\sum_{c \\in C} r_c = \\sum_{c \\in C} (1 + m_c) = \\sum_{c \\in C} 1 + \\sum_{c \\in C} m_c = |C| + 2m = n + 2m$.",
    "79": "(i) The number of such chords is equal to $\\binom{n}{2}$.\\n(ii) Since no three chords are concurrent within the interior of the circle, we see that each point of intersection within the interior of the circle is determined by a unique set of 4 distinct points on the circumference of the circle. Hence the number of points of intersection within the interior is equal to $\\binom{n}{4}$.\\n(iii) By Problem 1.78, we see that the number of line segments is equal to $\\binom{n}{2} + 2\\binom{n}{4}$.\\n(iv) Let us count the number of triangles whose vertices are points of intersection within the interior of the circle, and whose sides lie on chords of the circle. Let $T$ be the set of such triangles, let $P$ denote the set of points on the circumference of the circle, and let $S$ denote the set of 6-element subsets of $P$.\\nFor a given triangle $XYZ$ in $T$, the sides $XY$, $YZ$ and $ZX$ must lie on some chords $AB$, $CD$ and $EF$ respectively. Furthermore, it is easy to see that the points $A, B, C, D, E, F$ must be pairwise distinct. This gives rise to a function $f: T \\to S$ given by $f(XYZ) = \\{A, B, C, D, E, F\\}$ for every triangle $XYZ$ in $T$. It is easy to check that $f$ is a bijection, so by (BP), we have $|T| = |S| = \\binom{n}{6}$.",
    "80": "Firstly, there are $\\binom{n+1}{2}$ ways to choose 2 prizes out of $n + 1$. Then there are",
    "_source_page": 119
  },
  {
    "81": "(a) (i) The number of mappings from $N_n$ to $N_m$ is equal to $m^n$.\\n(ii) Let $f$ be a $1 - 1$ mapping from $N_n$ to $N_m$. Then there are $m$ choices for $f(1)$, $m - 1$ choices for $f(2)$ after choosing $f(1)$, and in general, $m - r$ choices for $f(r + 1)$ after choosing $f(1), \\dots, f(r)$ for $r = 1, \\dots, n - 1$. By (MP), the number of $1 - 1$ mappings from $N_n$ to $N_m$ is equal to\\n$$m(m - 1) \\cdots (m - (n - 1)) = P^m_n.$$\\n(b) The number of strictly increasing mappings from $N_n$ to $N_m$ is equal to the number of $n$-element subsets of $N_m$, which is equal to $\\binom{m}{n}$.\\n(c) First, we note from definition that there are $S(n, m)$ ways to partition $N_n$ into $m$ non-empty subsets. Then there are $m!$ ways to assign a number from $N_m$ to each of the $m$ subsets. By (MP), there are $m! S(n, m)$ mappings from $N_n$ onto $N_m$.",
    "82": "(i) $s(r, 1)$ is equal to the number of ways to arrange $r$ objects around a single circle, which is equal to $Q^r_r = (r - 1)!$.\\n(ii) Fix an object $x$, and suppose that the number of objects that are in the same circle as $x$ is equal to $k + 1$, where $k \\in \\{0, 1, \\dots, r - 2\\}$. There are $\\binom{r-1}{k}$ ways to choose $k$ objects out of the remaining $r - 1$ objects, $Q^{k+1}_{k+1} = k!$ ways of arranging $x$ and the $k$ objects around in the first circle, and $Q^{r-(k+1)}_{r-(k+1)} = (r - k - 2)!$ ways of arranging the remaining $r - (k + 1)$ objects around in the second circle. By (MP), there are $\\binom{r-1}{k} k! (r - k - 2)! = \\frac{(r-1)!}{k!(r-k-1)!} \\cdot k! (r - k - 2)! = \\frac{(r-1)!}{r-k-1}$ ways in this case, when the number of objects that are in the same circle as $x$ is equal to $k + 1$. By (AP), we have\\n$$s(r, 2) = \\sum_{k=0}^{r-2} \\frac{(r-1)!}{r-k-1} = (r-1)! \\left( \\sum_{k=0}^{r-2} \\frac{1}{r-k-1} \\right) = (r-1)! \\left( 1 + \\frac{1}{2} + \\dots + \\frac{1}{r-1} \\right).$$",
    "_source_page": 120
  },
  {
    "_source_page": 121
  },
  {
    "83": "We shall proceed by induction on $r$ to show that $x(x+1)\\cdots(x+r-1) = \\sum_{n=0}^r s(r,n)x^n$ for all $r \\ge 1$, with the base case $r = 1$ being trivial. For $r = 2, x(x + 1) = x + x^2, s(2, 1) = 1$ and $s(2, 2) = 1$. That is the result holds for $r = 2$. Assume that the assertion holds for some $r = k$ where $k \\ge 2$. By induction hypothesis, we have\\n\\n$x(x+1)\\cdots(x+k-1) = \\sum_{n=0}^k s(k,n)x^n$.\\n\\nOn the other hand, let us consider the product $x(x + 1) \\cdots (x + k)$. Since\\n\\n$x(x+1)\\cdots(x+k) = x(x+1)\\cdots(x+k-1)x + x(x+1)\\cdots(x+k-1)k,$\\n\\nwe have\\n\\ncoefficient of $x^n$ in $x(x+1)\\cdots(x+k)$\\n= coefficient of $x^{n-1}$ in $x(x+1)\\cdots(x+k-1)$\\n+ $k \\times$ coefficient of $x^n$ in $x(x+1)\\cdots(x+k-1)$\\n= $s(k, n - 1) + ks(k, n)$.\\n\\nOn the other hand, we assert that $s(k + 1, n) = s(k, n - 1) + ks(k, n)$. Indeed, let us consider an arrangement of objects $a_1, a_2, \\dots, a_{k+1}$ in $n$ identical circles. Fix an arrangement $A$, and let us consider these cases:\\nCase 1: $a_{k+1}$ is the only object in some circle. Then the objects $a_1, a_2, \\dots, a_k$ must be arranged in the remaining $n - 1$ circles, and there are $s(k, n - 1)$ such arrangements by definition.",
    "_source_page": 122
  },
  {
    "84": "(i) Let the $r$ objects be $a_1, a_2, \\dots, a_r$. Let the box that contains $a_r$ be denoted $B$, and let $A = \\{a_i \\mid a_i \\in B\\}$. Since no box can be empty, we must have $A - \\{a_r\\} \\subseteq \\{a_1, a_2, \\dots, a_{r-1}\\}$. There are $2^{r-1} - 1$ valid possibilities for $A - \\{a_r\\}$, and hence $S(r, 2) = 2^{r-1} - 1.\\n(ii) Let us first consider the distribution of $r$ objects into three distinct boxes $X, Y, Z$. If there are no restrictions, then there are $3^r$ ways to do so. Of these $3^r$ ways, 3 of them involve leaving exactly two of those boxes empty. Also, let us count the number of ways of distributing $r$ objects into three distinct boxes $X, Y, Z$, where exactly one of those boxes are empty. We note that there are exactly 3 ways of choosing one box to be empty, and there are $2! \\cdot S(r, 2)$ ways to distribute $r$ distinct objects into the other 2 distinct boxes, such that none of them is empty. By (CP), the number of ways to distribute $r$ objects into three distinct boxes $X, Y, Z$, such that none of them are empty, is equal to\\n\\n$3^r - 3 - 3 \\cdot 2! \\cdot S(r, 2) = 3(3^{r-1} - 1) - 6(2^{r-1} - 1),$\\n\\nby part (i) above. Therefore, the number of ways to distribute $r$ objects into three distinct boxes $X, Y, Z$, such that none of them are empty, is equal to\\n\\n$\\frac{3(3^{r-1} - 1) - 6(2^{r-1} - 1)}{3!} = \\frac{1}{2}(3^{r-1} + 1) - 2^{r-1}.$\\n\\n(iii) In this case, one of the boxes must contain exactly 2 distinct objects, and the other $r - 2$ boxes must contain one object. Hence, we have $S(r, r - 1) = \\binom{r}{2}$.",
    "_source_page": 123
  },
  {
    "85": "We shall proceed by induction on $r$. Clearly the assertion holds for $r = 0$ and $r = 1$. The examples in the problem show that the result holds for $r = 2, 3, 4$ as well. Now, let us assume that the assertion holds for some $r = k \\ge 4$. By induction hypothesis, we have $x^k = \\sum_{n=0}^k S(k, n)(x)_n$. Noting from equation (1.7.2) that\n\nS(r, n) = S(r - 1, n - 1) + nS(r - 1, n),\n\nwe have",
    "_source_page": 124
  },
  {
    "86": "Let us denote the $m$ chords $\\ell_1, \\ell_2, \\dots, \\ell_m$. We shall count the number of new regions formed as the chords are drawn in succession, and without loss of generality, let us assume that the order is $\\ell_1, \\ell_2, \\dots, \\ell_m$. Firstly, we note that whenever a new chord is drawn, a new region will be created. Also, for each of new intersection points that is created by drawing the new chord, we note that there will be an extra region created. Thus, by defining $n_i$ to be the number of new intersection points of the chord $\\ell_i$ with $\\ell_1, \\ell_2, \\dots, \\ell_{i-1}$ for $i = 2, 3, \\dots, m$, we see that the additional number of regions formed by drawing the new chord $\\ell_i$ is equal to $1 + n_i$.\\nHence, the number of regions divided by the chords in the circle is equal to\\n2 + \\sum_{i=2}^m (1 + n_i) = 1 + m + \\sum_{i=2}^m n_i,",
    "_source_page": 125
  },
  {
    "87": "First Solution: We shall proceed by induction on $n$. Clearly the assertion holds for $n = 4$ as we have $\\binom{4}{4} + \\binom{4-1}{2} = 1 + 3 = 4 = r(4)$. Now, let us assume that the assertion holds for some $k \\ge 4$. By induction hypothesis, we have $r(k) = \\binom{k}{4} + \\binom{k-1}{2}$. Let us take a polygon with $(k + 1)$ sides, and label its vertices $v_1, v_2, \\dots, v_{k+1}$ in the counter-clockwise direction. By induction hypothesis, the $k$-gon with vertices $v_1, v_2, \\dots, v_k$ has $r(k) = \\binom{k}{4} + \\binom{k-1}{2}$ interior regions divided by all of its diagonals. Now, by drawing the sides $v_1v_{k+1}$ and $v_kv_{k+1}$, we see that one extra region is created.\nFirstly, we see that there will be an extra region created for each of the diagonals $v_2v_{k+1}, v_3v_{k+1}, \\dots, v_{k-1}v_{k+1}$ drawn. Also, it is easy to see that none of the diagonals $v_2v_{k+1}, v_3v_{k+1}, \\dots, v_{k-1}v_{k+1}$ taken pairwise would intersect inside the polygon. Finally, for $2 \\le \\ell \\le k - 1$, we note that a diagonal $v_iv_j$ with $1 \\le i < j < k + 1$, $\\{i, j\\} \\cap \\{\\ell, k + 1\\} = \\emptyset$, would intersect with the diagonal $v_\\ell v_{k+1}$ if and only if the vertices $v_i$ and $v_j$ are on the different sides of the diagonal $v_\\ell v_{k+1}$, that is, $1 \\le i < \\ell$ and $\\ell < j < k + 1$. Now, there are $\\ell - 1$ choices for $i$ and $k - \\ell$ choices for $j$. Hence, there are $(\\ell - 1)(k - \\ell)$ new intersection points created when the diagonal $v_\\ell v_{k+1}$ is drawn. Since a new region is created whenever there is a new intersection point created, the total number of new regions created is equal to $k - 2 + \\sum_{\\ell=2}^{k-1} (\\ell - 1)(k - \\ell)$. Therefore, we have",
    "_source_page": 126
  },
  {
    "88": "Let the prime factorisation of $n$ be $p_1^{a_1} \\cdot p_2^{a_2} \\cdots p_k^{a_k}$, where $p_1, p_2, \\dots, p_k$ are pairwise distinct primes and $a_1, a_2, \\dots, a_k$ are positive integers. Then the prime factorisation of $n^2$ is $p_1^{2a_1} \\cdot p_2^{2a_2} \\cdots p_k^{2a_k}$. Let $(x, y)$ be one such solution to the equation",
    "_source_page": 127
  },
  {
    "89": "(i) For k = 0, 1, 2, define the set [k] to be {x \\in S | x \\equiv k (mod 3)}. Then we have |[0]| = |[1]| = |[2]| = \\frac{1992}{3} = 664. Without loss of generality, let us assume that a \\in [p], b \\in [q] and c \\in [r], where 0 \\le p \\le q \\le r \\le 2, such that 3|a + b + c. We need to have p + q + r \\equiv 0 (mod 3). There are two cases to consider:\nCase 1: p = q = r = k, 0 \\le k \\le 2. There are 3 choices for k, and \\binom{664}{3} ways to choose a, b, c from [k]. There are 3\\binom{664}{3} 3-element subsets in this case.\nCase 2: p = 0, q = 1, r = 2. There are 664 choices each for a, b and c. There are 664^3 3-element subsets in this case.\nSo the total number of such 3-element subsets {a, b, c} is equal to 3\\binom{664}{3} + 664^3.\n(ii) For k = 0, 1, 2, 3, define the set [k] to be {x \\in S | x \\equiv k (mod 4)}. Then we have |[0]| = |[1]| = |[2]| = |[3]| = \\frac{1992}{4} = 498. Without loss of",
    "_source_page": 128
  },
  {
    "90": "There are 6 choices where we could draw the letter $U$ (and subsequently the whole block $UNIVERSITY$) , namely the first, second, third, fourth, fifth and sixth draws, and subsequently there are 26 choices each for the remaining 5 draws. Hence the probability where $UNIVERSITY$ comes out as a block in the sequence of 15 random draws is equal to $\\frac{6 \\cdot 26^5}{26^{15}} = \\frac{6}{26^{10}}$.",
    "91": "Let $U$ be the set of $r$-element subsets of $X$ which are $m$-separated, and $V$ be the set of $r$-element subsets of $\\{1, 2, \\dots, n - (m - 1)(r - 1)\\}$. Define the function $f: U \\to V$ by\\n\\n$$\\{a_1, a_2, \\dots, a_r\\} \\mapsto \\{a_i - (i - 1)(m - 1) \\mid i = 1, 2, \\dots, r\\}$$\\n\\nfor all $r$-element subsets $\\{a_1, a_2, \\dots, a_r\\}$ of $U$ such that $a_1 < a_2 < \\dots < a_r$. To show that $f$ is a well-defined function, it suffices to show that $f(\\{a_1, a_2, \\dots, a_r\\})$ has $r$ elements for all $\\{a_1, a_2, \\dots, a_r\\} \\in U$ such that $a_1 < a_2 < \\dots < a_r$. Indeed, we have for $i = 1, 2, \\dots, r$, we have",
    "_source_page": 129
  },
  {
    "92": "We note that the number of terms in S_k is equal to \\binom{n}{k} and the number of terms in S_{n-k} is equal to \\binom{n}{n-k}. Therefore, the number of terms in S_k S_{n-k} is equal to \\binom{n}{k} \\binom{n}{n-k} = \\binom{n}{k}^2. Next, for each i = 1, 2, \\dots, n, let us count the number of terms in S_k S_{n-k} containing a_i. We notice that the number of terms w in S_k containing a_i is equal to \\binom{n-1}{k-1}, the number of terms x in S_{n-k} containing a_i is equal to \\binom{n-1}{n-k-1}, the number of terms y in S_k not containing a_i is equal to \\binom{n}{k} - \\binom{n-1}{k-1}, and the number of terms z in S_{n-k} not containing a_i is equal to \\binom{n}{n-k} - \\binom{n-1}{n-k-1}. Therefore,\\n\\nThe number of terms in S_k S_{n-k} containing a_i but not a_i^2\\nin their product\\n= wz + xy\\n= \\binom{n-1}{k-1} \\left[ \\binom{n}{n-k} - \\binom{n-1}{n-k-1} \\right] + \\binom{n-1}{n-k-1} \\left[ \\binom{n}{k} - \\binom{n-1}{k-1} \\right],\\nThe number of terms in S_k S_{n-k} containing a_i^2 in their product\\n= wy\\n= \\binom{n-1}{k-1} \\binom{n-1}{n-k-1}.\\n\\nTherefore, the power of a_i in the product of all the terms in S_k S_{n-k} is equal\\nto",
    "_source_page": 130
  },
  {
    "93": "For completeness, let us define the alternating sum of an empty set to be equal to 0. Let $S$ denote the set of subsets of $\\{1, 2, 3, 4, 5, 6\\}$, and let $T$ denote the set of subsets of $\\{1, 2, 3, 4, 5, 6, 7\\}$ that contains the element 7. Then it is easily seen that the function $f: S \\to T, f(A) = A \\cup \\{7\\}$ is bijective.",
    "_source_page": 131
  },
  {
    "94": "We note that the total number of possible arrangements is equal to $\\frac{12!}{3!4!5!} =$\\n27720. Let us count the number of ways to arrange the trees such that no\\ntwo birch trees are adjacent to each other. There are $\\binom{3+4}{3} = 35$ ways to\\narrange the 3 maple and 4 oak trees, and then there are $\\binom{8}{5} = 56$ ways to\\nplace the 5 birch trees in the 8 slots created by the 3 maple threes and 4 oak\\ntrees, so that no two birch trees are adjacent. Hence the probability is $\\frac{35 \\cdot 56}{27720}$\\n$= \\frac{7}{99}$, so $m + n = 7 + 99 = 106$.",
    "95": "Let $A$ denote the set of the players with $|A| = n$ and let $L$ denote the set of\\nthe 10 lowest scoring players. For every $x \\in A$, let $x_L$ denote the total points\\nscored by $x$ against the players in $L$, and $x_{A \\setminus L}$ denote the total points scored\\nby $x$ against the players in $A \\setminus L$. We note that $x_L = x_{A \\setminus L}$, and the total points\\nearned by $x$ is equal to $x_L + x_{A \\setminus L}$. Now, let us count the total scores of the\\nplayers in 2 different ways. Firstly, we note that the total scores of the\\nplayers is equal to the total number of games played, which is $\\binom{n}{2}$. On the\\nother hand, it is also the sum of the players' individual scores, which is\\nequal to\\n$$\\sum_{x \\in A} (x_L + x_{A \\setminus L}) = \\sum_{x \\in L} (x_L + x_{A \\setminus L}) + \\sum_{y \\in A \\setminus L} (y_L + y_{A \\setminus L})$$\\n$$= 2 \\sum_{x \\in L} x_L + 2 \\sum_{y \\in A \\setminus L} y_{A \\setminus L}$$\\n$$= 2 \\binom{10}{2} + 2 \\binom{n-10}{2},$$\\nwhere the last inequality holds by the fact that $\\sum_{x \\in L} x_L$ is equal to the total\\nnumber of games played amongst the players in $L$, which is equal to $\\binom{10}{2}$.\\nThe same argument applies for $\\sum_{y \\in A \\setminus L} y_{A \\setminus L}$. This gives us",
    "_source_page": 132
  },
  {
    "96": "We observe that $1000000 = 2^6 \\cdot 5^6$, and the divisors of $1000000$ are of the form $2^x 5^y$ where $0 \\le x, y \\le 6$ and $x, y$ are integers. Thus, we have\n$S = \\sum_{0 \\le x, y \\le 6} \\log(2^x 5^y) - \\log 1000000 - \\log 1$\n$= \\sum_{x=0}^6 \\sum_{y=0}^6 (x \\log 2 + y \\log 5) - 6$\n$= \\sum_{x=0}^6 \\sum_{y=0}^6 x \\log 2 + \\sum_{x=0}^6 \\sum_{y=0}^6 y \\log 5 - 6$\n$= \\sum_{x=0}^6 7x \\log 2 + \\sum_{y=0}^6 7y \\log 5 - 6$\n$= 147 \\log 2 + 147 \\log 5 - 6$\n$= 147 \\log 10 - 6$\n$= 141,$\nso the nearest integer nearest to $S$ is 141.",
    "97": "Let us consider each of the subsequences of two coin tosses as an operation instead; this operation takes a sequence and appends the second coin toss of the subsequence to the end of the old sequence. We shall first consider the case where the subsequence in question is $HT$ or $TH$. We observe that by performing the operation $HT$ or $TH$, the next coin toss of the newly obtained sequence would be different from the last coin toss of the old sequence. We note from the problem that there are three $HT$ operations and",
    "_source_page": 133
  },
  {
    "98": "(i) Since no carrying over is required, the range of possible values of any digit of $m$ is from 0 to the corresponding digit in 1492 (and the corresponding digit of $n$ would be fixed accordingly depending on $m$). Thus, the number of simple ordered pairs $(m, n)$ of non-negative integers that sum up to 1492 is $(1 + 1)(4 + 1)(9 + 1)(2 + 1) = 300.\\n(ii) By a similar reasoning as in part (i), we deduce that the number of such pairs is equal to $(1 + 1)(9 + 1)(9 + 1)(2 + 1) = 600$.",
    "99": "We note that $10^{99} = 2^{99} \\cdot 5^{99}$ and $10^{88} = 2^{88} \\cdot 5^{88}$. A divisor of $10^{99}$ must be of the form $2^x 5^y$ where $0 \\le x, y \\le 99$ and $x, y$ are integers. Also, an integer multiple of $10^{88}$ that is also a divisor of $10^{99}$ must be of the form $2^x 5^y$ where $88 \\le x, y \\le 99$ and $x, y$ are integers. Hence the probability that a divisor of $10^{99}$ is also an integer multiple of $10^{88}$ is equal to $\\frac{(99-88+1)(99-88+1)}{(99-0+1)(99-0+1)} = \\frac{9}{625}$, so we have $m + n = 9 + 625 = 634$.",
    "100": "We note that a vertex of the polyhedron is also a vertex of a square, a hexagon and an octagon. Let the total number of vertices of the squares, hexagons and octagons be $A, B$ and $C$ respectively. Then it follows that the number of vertices in the polyhedron is equal to $\\frac{1}{3}(A + B + C) = \\frac{1}{3}(12 \\cdot 4 + 8 \\cdot 6 + 6 \\cdot 8) = 48$, since each vertex in the polyhedron is the vertex of one square, one hexagon and one octagon. Also, we note that an edge of the polyhedron is also an edge of a square or a hexagon, or an octagon, and vice versa. Let the total number of edges of the squares, hexagons and octagons be $D, E$ and $F$ respectively. Then it follows that the number of edges in the polyhedron is equal to $\\frac{1}{2}(D + E + F) = \\frac{1}{2}(12 \\cdot 4 + 8 \\cdot 6 + 6 \\cdot 8) = 72$, since each edge in the polyhedron is the edge of 2 faces in the polyhedron.",
    "_source_page": 134
  },
  {
    "101": "Let $\\ell \\in \\mathbf{Z}, n \\geq 6$ be such that $n! = (\\ell + 4)(\\ell + 5) \\cdots (\\ell + n)$. Then $n \\geq 6$ implies that $\\ell \\geq 1$ and\n$$\\frac{n!}{(n - 3)!} = \\frac{(\\ell + 4)(\\ell + 5) \\cdots (\\ell + n)}{(n - 3)!}$$\n$$= \\frac{(\\ell + n)!}{(\\ell + 3)!(n - 3)!}$$\n$$= \\frac{(n + \\ell)(n + \\ell - 1) \\cdots (n + 1)}{(3 + \\ell)(2 + \\ell) \\cdots 4} \\cdot \\frac{n!}{3!(n - 3)!},$$\nthat is,\n$$\\frac{\\ell + n}{3 + \\ell} \\cdot \\frac{\\ell + n - 1}{2 + \\ell} \\cdots \\frac{2 + n}{5} \\cdot \\frac{n + 1}{4!} = 1.$$\nSince $n \\geq 6$, it implies that $\\frac{n + i}{3 + i} > 1$ for $i = 2, 3, \\dots, \\ell$. If $n > 23$, then we have $\\frac{n + 1}{4!} > 1$, so there are no solutions for $\\ell$ if $n > 23$. One easily checks that the only solution $(\\ell, n)$ to the equation is $(1, 23)$.",
    "102": "Let us pick any $d$. Since $|A| \\geq 2$, this would imply that $a + d \\leq n$, that is, $a \\leq n - d$. Also, since $A$ is maximal, we must have $1 \\leq a \\leq d$. Hence, for a given $d$, there exists a unique $A$ for every $a = 1, \\dots, \\min(n - d, d)$. Therefore, for every $d = 1, 2, \\dots, n - 1$, the number of $A$'s with common difference $d$ is $\\min(n - d, d)$. Let us consider these cases:\nCase 1: $n$ is even, that is, $n = 2m$ for some positive integer $m$. Then the number of such sets $A$ is equal to",
    "_source_page": 135
  },
  {
    "_source_page": 136
  },
  {
    "103": "It is easy to verify that $(m, n) = (3, 2), (6, 3), (10, 4)$ are solutions to the equation $1!3! \\cdots (2n - 1)! = m!$. We shall show that there are no solutions for $n \\ge 5$. Firstly, we shall prove by induction that $1!3! \\cdots (2n - 1)! > (4n)!$ for all integers $n \\ge 7$. For $n = 7$, it is straightforward to verify that the inequality holds. Assume that the assertion holds for some integer $k \\ge 7$. By induction hypothesis, we have $1!3! \\cdots (2k - 1)! > (4k)!$. As we have $k \\ge 7$, it follows that inequality\\n\\n$(j + 2)(2k - 3 + j) > 4k + j$\\n\\nholds for $j = 1, 2, 3, 4$. This implies that",
    "_source_page": 137
  },
  {
    "104": "By definition, we have e = \\sum_{i=0}^{\\infty} \\frac{1}{i!}. Then we have",
    "_source_page": 138
  },
  {
    "105": "For $k = 0, 1, \\dots, 4$, let us define\\n$[k] = \\left\\{ A \\subset S \\mid |A| = 31 \\text{ and } \\sum_{a \\in A} a \\equiv k \\pmod{5} \\right\\}\\nand $[5] = [0]$. Furthermore, for each $k = 0, 1, 2, 3, 4$ and $A = \\{a_1, a_2, \\dots, a_{31}\\} \\in [k]$ such that $a_i < a_j$ for all $i < j$, let us define $f_k(A)$ as follows:\\n$f_k(A) = \\begin{cases} \\{a_1 + 1, a_2 + 1, \\dots, a_{31} + 1\\} & \\text{if } a_{31} \\neq 1990, \\\\ \\{1, a_1 + 1, a_2 + 1, \\dots, a_{30} + 1\\} & \\text{if } a_{31} = 1990. \\end{cases}$\\nFirstly, we shall show that for each $k = 0, 1, 2, 3, 4$ and $A = \\{a_1, a_2, \\dots, a_{31}\\} \\in [k]$ such that $a_i < a_j$ for all $i < j$, we have $f_k(A) \\in [k + 1]$. If $a_{31} \\neq 1990$, then we have\\n$1 \\le a_1 < a_2 < \\dots < a_{31} < 1990.$\\nThus, we have\\n$2 \\le a_1 + 1 < a_2 + 1 < \\dots < a_{31} + 1 \\le 1990$\\nand $\\sum_{n=1}^{31} (a_n + 1) \\equiv k + 1 \\pmod{5}$. Else, we have",
    "_source_page": 139
  },
  {
    "106": "We shall count the total number of appearances of the ordered pairs in $P$. Let us take any $(a_1, a_2, \\dots, a_{100}) \\in P$. As the $a_i$'s are distinct, this sequence contributes a total of $\\binom{100}{2}$ appearances. Also, as every ordered pair of elements of $S$ appears in at most 1 member of $P$, $P$ contributes a total of $|P| \\cdot \\binom{100}{2}$ appearances, and this total is less than or equal to the number of appearances that can be formed from $S$. Hence, we have $|P| \\cdot \\binom{100}{2} \\le 2 \\binom{1990}{2}$, which would imply that $|P| \\le 799 \\frac{34}{55} \\le 800$ as desired.",
    "107": "For each $i = 1, \\dots, n$, denote $b_i$ to be the number of $r$-permutations of $M$ with $a_i$ as the first element of the permutation, and $c_i$ to be the number of $(r - 1)$-permutations of $M_i$ where $M_i = \\{r_1 \\cdot a_1, \\dots, (r_i - 1) \\cdot a_i, \\dots, r_n \\cdot a_n\\}$. Then we have $b_i = c_i$ for all $i$. By (AP), the number of $r$-permutations of $M$ (which is equal to $\\sum_{i=1}^n b_i$) must be equal to the number of $(r - 1)$-permutations of $M$ (which is equal to $\\sum_{i=1}^n c_i$).",
    "108": "Suppose on the contrary that it is possible for such a configuration to occur. Let the 7 lines be $\\ell_1, \\ell_2, \\dots, \\ell_7$. We shall count the number of pairs of lines $\\{\\ell_i, \\ell_j\\}, i \\neq j$ in 2 different ways. Firstly, the number of pairs is equal to the number of ways to choose 2 lines out of 7, which is equal to $\\binom{7}{2} = 21$. On the other hand, each of the 6 points where exactly 3 of the lines intersect contributes $\\binom{3}{2} = 3$ pairs. Hence, these 6 points contribute a total of $6 \\binom{3}{2} = 18$ pairs. Also, each of the 4 points where exactly 2 of the lines intersect contributes 1 pair of line. Hence, these 4 points contribute a total of 4 pairs. Hence, the total number of pairs is at least $18 + 4 = 22 > 21$, which is a contradiction. Hence it is not possible to achieve such a configuration.",
    "109": "We first note that the largest possible value of $|x_k - k|$ is $n - 1$, and is",
    "_source_page": 140
  },
  {
    "_source_page": 141
  },
  {
    "_source_page": 142
  },
  {
    "110": "Let $f(n, m)$ denote the number of ways of choosing a team $A$ of $m$ boys and a team $B$ of $m$ girls from a group of $n$ boys and $n$ girls respectively, and let $g(n, m)$ denote the number of ways of choosing a team $A$ of $m$ boys and a team $B$ of $m$ girls from a group of $n$ boys and $n$ girls respectively, along with a team leader from each of the 2 teams. We shall prove that $d(n, m) = f(n, m)$, thereby showing that $d(n, m)$ is an integer. Clearly $f(n, 0) = f(n, n) = 1$.\nWe shall count $g(n, m)$, where $0 < m \\le n$, in 2 different ways. On one hand, there are $f(n, m)$ ways to choose a team of $m$ boys and a team of $m$ girls from a group of $n$ boys and $n$ girls respectively, and then that there are $m$ choices each to choose a team leader for both teams. By (MP), we have $g(n, m) = m^2 f(n, m)$. On the other hand, let us fix a particular boy $a$ and a particular girl $b$, and consider the cases where either $a \\in A$ and/or $b \\in B$:\nCase 1: $a \\in A, b \\in B$. Then by definition, there are $f(n - 1, m - 1)$ ways of choosing a sub-team $A'$ of the remaining $m - 1$ boys and a sub-team $B'$ of the remaining $m - 1$ girls from a group of $n - 1$ boys and $n - 1$ girls respectively, and there are $m$ choices each to choose a team leader for both teams. The number of ways in this case is $m^2 f(n - 1, m - 1)$.\nCase 2: $a \\notin A, b \\notin B$. Then by definition, there are $f(n - 1, m)$ ways of choosing a team $A$ of $m$ boys and a team $B$ of $m$ girls from a group of $n - 1$ boys and $n - 1$ girls respectively, and there are $m$ choices each to choose a team leader for both teams. The number of ways in this case is $m^2 f(n - 1, m)$.\nCase 3: $a \\in A, b \\notin B$. Firstly, by definition, there are $f(n - 1, m - 1)$ ways of choosing a sub-team $A'$ of the remaining $m - 1$ boys and a sub-team $B'$ of the remaining $m - 1$ girls from a group of $n - 1$ boys and $n - 1$ girls respectively, that does not include both $a$ and $b$. Next, let us choose a team leader for both $A$ and $B$. Since $A'$ along with $a$ would have formed a team $A$",
    "_source_page": 143
  },
  {
    "111": "Each pupil attempts 7 questions and hence \\binom{7}{2} = 21 pairs of questions. There are \\binom{28}{2} = 378 pairs of questions in total and each pair of questions is attempted by 2 pupils, so there must be \\frac{378 \\cdot 2}{21} = 36 pupils. Now, suppose n pupils solved question 1. Each pupil who solved question 1 solved 7 - 1 = 6 pairs involving question 1, so there must be \\frac{n \\cdot 6}{2} = 3n pairs of questions involving question 1. But there are 28 - 1 = 27 pairs of questions involving question 1, so n = 9. As the same argument applies to any other question, we see that each question was solved by 9 pupils. Suppose that all contestants solved either 1, 2 or 3 questions in part I. Let the number of questions in part I be m, and the number of pupils solving 1, 2, 3 questions in part I be a, b and c respectively. Then we have a + b + c = 36 and a + 2b + 3c = 9m. Now consider the number of pairs of questions in part I. There are \\binom{m}{2} = \\frac{m(m-1)}{2} such pairs. We note that the pupils solving just 1 question in part I solve no pairs of questions in part I, pupils solving",
    "_source_page": 144
  },
  {
    "112": "Consider any of the 5 given points. The number of perpendiculars from the chosen point to the lines joining any 2 of the other 4 points is equal to $\\binom{4}{2} = 6$. Hence, the total number of perpendiculars is equal to $5 \\cdot 6 = 30$. Also, since no 2 distinct lines joining any two of the 5 given points are parallel, it follows that there is at most one point of intersection between any 2 distinct perpendiculars. This implies that the maximum number of intersection points between any of the 2 perpendiculars is equal to $\\binom{30}{2} = 435$.\nFirstly, fix any 2 of the 5 given points, and consider the line $\\ell$ joining them. As no 2 lines joining the 5 points are perpendicular, we see that the $5 - 2 = 3$ perpendiculars to $\\ell$ do not intersect. As there are $\\binom{5}{2} = 10$ possibilities for $\\ell$ and hence a total of $10 \\cdot 3 = 30$ such perpendiculars, we see that this reduces the maximum number of intersection points between any of the 2 perpendiculars to $435 - 30 = 405$.\nSecondly, let us consider the perpendiculars from a fixed point chosen from the 5 given points to the lines joining any two of the other 4 points. We note that there are $\\binom{4}{2} = 6$ such lines. Since these perpendiculars only intersect at this fixed point, and this point of intersection has been counted $\\binom{6}{2} = 15$ times in the counting of the number of intersection points, we see that each intersection point has been counted an extra $15 - 1 = 14$ times. Since there are 5 such intersection points, we see that this reduces the",
    "_source_page": 145
  },
  {
    "113": "Label the points $a_1, a_2, \\dots, a_n$, and let the number of points that are of unit\ndistance from point $a_i$ be $m_i$. Then the problem is equivalent to showing\nthat $\\sum_{i=1}^n m_i < 2 \\cdot 2n^{\\frac{3}{2}} = 4n^{\\frac{3}{2}}$ (since each such pair is double counted). We shall\nfirst prove the assertion for the case where $m_i \\ge 2$ for all $i \\in \\{1, 2, \\dots, n\\}$.\nWe note that the $m_i$ points of unit distance from $a_i$ must all lie on the\ncircumference of $C_i$, where $C_i$ denotes the circle of unit radius centered at\n$a_i$. We note that there are at most 2 points of intersection between any pair\nof distinct circles. Since there are $\\binom{n}{2} = \\frac{n(n-1)}{2}$ such pairs of circles, we see\nthat the total number of such intersection points, counting multiplicity, is at\nmost $2 \\cdot \\frac{n(n-1)}{2} = n(n - 1)$. We also observe that point $a_i$ lies on $m_i$ such\n$C_j$'s, so as a point of intersection, it is counted $\\binom{m_i}{2} = \\frac{m_i(m_i-1)}{2}$ times. Thus,\nall the points together are counted a total of $\\sum_{i=1}^n \\frac{m_i(m_i-1)}{2}$ times. Hence, we\nhave $\\sum_{i=1}^n \\frac{m_i(m_i-1)}{2} \\le n(n - 1)$, that is, $\\sum_{i=1}^n m_i(m_i - 1) \\le 2n(n - 1)$. Since $m_i \\ge 2$,\nwe have $m_i \\le 2(m_i - 1)$, so this implies that\n\n$$\\sum_{i=1}^n m_i^2 \\le 2 \\sum_{i=1}^n m_i(m_i - 1) \\le 4n(n - 1) < 4n^2.$$\n\nBy the Cauchy-Schwarz inequality, we have $(\\sum_{i=1}^n m_i)^2 \\le n \\sum_{i=1}^n m_i^2 < 4n^3$, and\nthe desired result follows.\nNow, let us deal with the general case. Without loss of generality, let us\nassume that $m_i \\neq 0$ for all $i \\in \\{1, 2, \\dots, n\\}$. If $m_i = 1$ for all $i \\in \\{1, 2, \\dots,$\n$n\\}$ then the result is immediate. Else, let us assume without loss of",
    "_source_page": 146
  },
  {
    "114": "First Solution: Let $S(c, m)$ denote the set of ordered $c$-tuples $(n_1, \\dots, n_c)$ satisfying $n_i \\in \\{1, \\dots, m\\}$ for all $i \\in \\{1, 2, \\dots, c\\}, n_1 > n_2$ and $n_2 \\le n_3 \\le \\dots \\le n_c$. Let $P(c, m)$ denote the set of permutations of the multiset $\\{c \\cdot x, (m - 2) \\cdot y, 1 \\cdot z\\}$ satisfying the following conditions: 1. $z$ must lie between 2 (not necessarily adjacent) $x$'s, and not be preceded immediately by any $y$'s. We shall construct a function from $S(c, m)$ to $P(c, m)$, and show that the function is bijective.\\nFirstly, for each $i \\in \\{1, \\dots, m\\}$, let us define $f_i: S(c, m) \\to \\mathbf{N}$ by $f_i((n_1, \\dots, n_c)) = a_i$, where $a_i = |\\{j \\mid n_j = i\\}|$. Also, let us define $g: S(c, m) \\to \\mathbf{N}$ as follows: $g((n_1, n_2, \\dots, n_c)) = N$, where $N = \\max\\{i \\mid i < n_1, a_i \\neq 0\\}$. Finally, let us define $f: S(c, m) \\to P(c, m)$ by $f((n_1, n_2, \\dots, n_c)) = k_1 k_2 \\dots k_{c+m-1}$, where\\n\\n$$k_p = \\begin{cases} y, & \\text{if } p = j + \\sum_{i=1}^j a_i, j \\in \\{1, 2, \\dots, m-1\\} \\setminus \\{N\\}, \\\\ z, & \\text{if } p = N + \\sum_{i=1}^N a_i \\\\ x, & \\text{otherwise.} \\end{cases}$$",
    "_source_page": 147
  },
  {
    "_source_page": 148
  },
  {
    "_source_page": 149
  },
  {
    "115": "(i) We note that $A(x_i, \\cdot)$ and $A(x_j, \\cdot)$ are pairwise disjoint for all $i \\neq j$ by definition. As we have\n$$\\bigcup_{i=1}^m A(x_i, \\cdot) = \\bigcup_{i=1}^m ((\\{x_i\\} \\times Y) \\cap A)$$\n$$= \\left( \\bigcup_{i=1}^m (\\{x_i\\} \\times Y) \\right) \\cap A$$\n$$= (X \\times Y) \\cap A$$\n$$= A,$$\nit follows that we have\n$$\\sum_{i=1}^m |A(x_i, \\cdot)| = \\left| \\bigcup_{i=1}^m A(x_i, \\cdot) \\right| = |A|.$$\nSimilarly, we have $\\sum_{j=1}^n |A(\\cdot, y_j)| = |A|.$\n(ii) Denote the set of $n$ given points by $A$, and let $a$ and $b$ be two distinct points in $A$ for which the distance between $a$ and $b$ is minimal. Denote $\\ell$ to be the line joining points $a$ and $b$, and let us fix the $x$- and $y$-axes of the plane in such a way that the $x$-axis is parallel to $\\ell$. Let $X$ be the set of all possible $x$-coordinates of the points in $A$, and let $Y$ be the set of all possible $y$-coordinates of the points in $A$. Then we have $A \\subseteq X \\times Y$. Since any 3 distinct points in $A$ form a non-degenerate triangle, it follows that no 3 distinct points in $A$ are collinear, and hence we have $|A(x_i, \\cdot)| \\le 2$ for all $x_i \\in X$. Furthermore, let $\\ell_a$ and $\\ell_b$ be lines passing through $a$ and $b$ respectively that are perpendicular to the $x$-axis, and without loss of generality, let us assume that $\\ell_a$ is on the left of $\\ell_b$. Since all triangles formed by any 3 distinct points in $A$ are right-angled, it follows that each triangle must contain one right angle and two acute angles. In particular, this implies that no point in $A$ can lie to the right of $\\ell_b$ or to the left of $\\ell_a$. Indeed, if there exists some point $d$ that lies on the right of $\\ell_b$, then it is visibly seen that the triangle formed by the vertices $a, b$ and $d$ has an obtuse angle at the vertex $b$, which is a contradiction. The same argument applies when $d$ lies on the left of $\\ell_a$ instead. Now, let $c$ be a point in $A$ distinct from $a$ and $b$, and let $\\ell_c$ be the line passing through $c$ perpendicular to the $x$-axis. By the above",
    "_source_page": 150
  },
  {
    "_source_page": 151
  },
  {
    "exercise": 2,
    "1": "We note that the number of ways to write $n$ as a sum of $r$ positive integers with the order being taken into account is equal to the number of positive integer solutions to the equation $x_1 + x_2 + \\dots + x_r = n$, which is equal to $H_{n-r}^r = \\binom{n-r+r-1}{n-r} = \\binom{n-1}{r-1}$. Since the possible values of $r$ are $1, 2, \\dots, n$, we see that the total number of ways that $n$ can be expressed is equal to\\n$$\\sum_{r=1}^n \\binom{n-1}{r-1} = \\sum_{r=0}^{n-1} \\binom{n-1}{r} = 2^{n-1}.$$",
    "2": "Let $A$ be a $2n$-digit binary sequence such that the number of $0$'s in the first $n$ digits is equal to the number of $1$'s in the last $n$ digits. Let the number of $0$'s in the first $n$ digits of $A$ be $m$. Then the number of $1$'s in the last $n$ digits of $A$ is equal to $m$, and hence the number of $0$'s in the last $n$ digits of $A$ is equal to $n - m$. Hence, the number of $0$'s in the binary representation of $A$ is equal to $n$.\\nConversely, if $B$ is a $2n$-digit binary sequence whose number of $0$'s in the binary representation is equal to $n$, then let the number of $0$'s in the first $n$ digits of $B$ be $p$. Then the number of $0$'s in the last $n$ digits of $B$ is equal to $n - p$, and hence the number of $1$'s in the last $n$ digits of $B$ is equal to $p$. Hence, the number of $0$'s in the first $n$ digits of $B$ is equal to the number of $1$'s in the last $n$ digits of $B$.\\nTherefore, we see that the number of $2n$-digit binary sequences whose the number of $0$'s in the first $n$ digits is equal to the number of $1$'s in the last $n$ digits, is equal to the number of $2n$-digit binary sequences whose number of $0$'s in the binary representation is equal to $n$, which is then equal to $\\binom{2n}{n}$.",
    "3": "(i) Let $N$ be an $r$-element multi-subset of $M$, and let $p = |\\{i \\mid a_i \\in N\\}|$.\\nSince $p \\le r$, $r \\le m$ and $r \\le n$ it follows that the set of possible values of $p$ is $\\{0, 1, \\dots, r\\}$. For each $j \\in \\{0, 1, \\dots, r\\}$, there are $\\binom{n}{j}$ such $r$-",
    "_source_page": 152
  },
  {
    "4": "We note that for each $n \\in \\{3, 4, \\dots, 10\\}$, and any $n$-element subset of the ten vertices, there is exactly one convex polygon that can be drawn using all of the elements in the subset as vertices. As the number of distinct convex $n$-sided polygons that can be drawn using some, or all of the ten points as vertices is equal to $\\binom{10}{n}$, we see that the number of distinct convex polygons of three or more sides that can be drawn using some, or all of the ten points as vertices is equal to\\n\\n\\sum_{n=3}^{10} \\binom{10}{n} = \\sum_{n=0}^{10} \\binom{10}{n} - \\sum_{n=0}^2 \\binom{10}{n} = 2^{10} - 1 - 10 - 45 = 968.",
    "5": "We note that a term in the expansion of $(1 + x + x^2)^8$ is of the form $1^a x^b (x^2)^c = x^{b+2c}$, where $a, b$ and $c$ are non-negative integers satisfying $a + b + c = 8$. Also, we see that the coefficient of the term $x^{b+2c}$ in the expansion of $(1 + x + x^2)^8$ is equal to $\\binom{8}{8-b-c, b, c}$. Finally, we see that the pairs $(b, c)$ of non-negative integers satisfying $b + c \\le 8$ and $b + 2c = 5$ are $(1, 2), (3, 1)$ and $(5, 0)$. Therefore, the coefficient of $x^5$ in the expansion of $(1 + x + x^2)^8$ is",
    "_source_page": 153
  },
  {
    "6": "We note that a term in the expansion of $(1 + x + x^2)^9$ is of the form $1^a x^b (x^2)^c = x^{b+2c}$, where $a, b$ and $c$ are non-negative integers satisfying $a + b + c = 9$. Also, we see that the coefficient of the term $x^{b+2c}$ in the expansion of $(1 + x + x^2)^9$ is equal to $\\binom{9}{9-b-c, b, c}$. Finally, we see that the pairs $(b, c)$ of non-negative integers satisfying $b + c \\le 9$ and $b + 2c = 6$ are $(0, 3), (2, 2), (4, 1)$ and $(6, 0)$. Therefore, the coefficient of $x^6$ in the expansion of $(1 + x + x^2)^9$ is equal to\\n\\binom{9}{9-0-3, 0, 3} + \\binom{9}{9-2-2, 2, 2} + \\binom{9}{9-4-1, 4, 1} + \\binom{9}{9-6-0, 6, 0}\\n= \\binom{9}{6, 0, 3} + \\binom{9}{5, 2, 2} + \\binom{9}{4, 4, 1} + \\binom{9}{3, 6, 0}\\n= \\frac{9!}{6!0!3!} + \\frac{9!}{5!2!2!} + \\frac{9!}{4!4!1!} + \\frac{9!}{3!6!0!}\\n= 1554.",
    "7": "We note that a term in the expansion of $(1 + x^3 + x^5 + x^7)^{100}$ is of the form $x^{3a+5b+7c}$, where $a, b$ and $c$ are non-negative integers satisfying $a + b + c \\le 100$. Also, we see that the coefficient of the term $x^{3a+5b+7c}$ in the expansion of $(1 + x^3 + x^5 + x^7)^{100}$ is equal to $\\binom{100}{100-a-b-c, a, b, c}$. Finally, we see that the triples $(a, b, c)$ of non-negative integers satisfying $a + b + c \\le 100$ and $3a + 5b + 7c = 18$ are $(6, 0, 0), (2, 1, 1)$ and $(1, 3, 0)$. Therefore, the coefficient of $x^{18}$ in the expansion of $(1 + x^3 + x^5 + x^7)^{100}$ is",
    "_source_page": 154
  },
  {
    "8": "We note that a term in the expansion of $(1 + x^5 + x^7 + x^9)^{1000}$ is of the form $x^{5a+7b+9c}$, where $a, b$ and $c$ are non-negative integers satisfying $a + b + c \\le 1000$. Also, we see that the coefficient of the term $x^{5a+7b+9c}$ in the expansion of $(1 + x^5 + x^7 + x^9)^{1000}$ is equal to $\\binom{1000}{1000-a-b-c, a, b, c}$. Finally, we see that the triples $(a, b, c)$ of non-negative integers satisfying $a + b + c \\le 100$ and $5a + 7b + 9c = 29$ are $(3, 2, 0)$ and $(4, 0, 1)$. Therefore, the coefficient of $x^{29}$ in the expansion of $(1 + x^5 + x^7 + x^9)^{1000}$ is equal to\\n\\binom{1000}{995, 3, 2} + \\binom{1000}{995, 4, 1}\\n= \\frac{1000 \\cdot 999 \\cdot 998 \\cdot 997 \\cdot 996}{3!2!} + \\frac{1000 \\cdot 999 \\cdot 998 \\cdot 997 \\cdot 996}{4!1!}\\n= \\frac{1000 \\cdot 999 \\cdot 998}{3!} \\cdot \\frac{997 \\cdot 996}{2!} + \\frac{1000 \\cdot 999 \\cdot 998 \\cdot 997}{4!} \\cdot \\frac{996}{1!}\\n= \\binom{1000}{3}\\binom{997}{2} + \\binom{1000}{4}\\binom{996}{1}.",
    "9": "We note that a term in the expansion of $(\\sum_{i=0}^{10} x^i)^3$ is of the form $x^{n_1+2n_2+\\dots+10n_{10}}$, where $n_1, n_2, \\dots, n_{10}$ are non-negative integers satisfying $\\sum_{i=1}^{10} n_i \\le 3$. Also, we see that the coefficient of the term $x^{n_1+2n_2+\\dots+10n_{10}}$ in the expansion of $(\\sum_{i=0}^{10} x^i)^3$ is equal to $\\binom{3}{3-\\sum_{i=1}^{10} n_i, n_1, n_2, \\dots, n_{10}}$.\\n(i) We see that the 10-tuples $(n_1, n_2, \\dots, n_{10})$ of non-negative integers satisfying $\\sum_{i=1}^{10} n_i \\le 3$ and $\\sum_{i=1}^{10} i n_i = 5$ are",
    "_source_page": 155
  },
  {
    "10": "Fix an element $x \\in X$. Define a function $f: \\mathcal{O} \\to \\mathcal{E}$ as follows: $f(A) = A - \\{x\\}$ if $x \\in A$, and $f(A) = A \\cup \\{x\\}$ if $x \\notin A$. Then it is easily verified that $f$ is a bijection. Hence $|\\mathcal{O}| = |\\mathcal{E}|$.",
    "11": "Let $M_r$ be a $(m + r)$-permutation of the multi-set $\\{m \\cdot 1, n \\cdot 2\\}$ that contains the $m$ 1's, where $0 \\le r \\le n$. We note that there are $\\binom{m+r}{m}$ such permutations $M_r$. By (AP), the number of permutations of the multi-set $\\{m \\cdot 1, n \\cdot 2\\}$ that contains the $m$ 1's is equal to $\\sum_{r=0}^{n} \\binom{m+r}{m} = \\binom{m+n+1}{m+1} = \\binom{m+n+1}{n}$ by (2.5.1).",
    "12": "Let $A_m$ be an $r$-element subset of the set $\\{1, 2, \\dots, n\\}$ with largest member $m$, where $r \\le m \\le n$. Then it follows that $A_m - \\{m\\} \\subseteq \\{1, 2, \\dots, m - 1\\}$, and hence there are $\\binom{m-1}{r-1}$ such sets $A_m$. Since there are $\\binom{n}{r}$ $r$-element subsets of $\\{1, 2, \\dots, n\\}$, we have",
    "_source_page": 156
  },
  {
    "13": "Let us denote the $n + 1$ lines obtained from the $n$-th subdivision that are parallel to the side $BC$, and whose two endpoints lie on the sides $AB$ and $AC$ be denoted $\\ell_1, \\ell_2, \\dots, \\ell_{n+1}$, from the top to the bottom. Without loss of generality, we may assume that vertex $Y$ is on the left of vertex $Z$. Firstly, we note that for $i \\in \\{1, 2, \\dots, n + 1\\}$, there are $i + 1$ points on the line $\\ell_i$, and hence there are $\\binom{i+1}{2}$ ways to choose two points on $\\ell_i$ to form the side $YZ$ such that the vertices of the side $YZ$ lies on $\\ell_i$. Furthermore, we see that after fixing the vertices $Y$ and $Z$ of the triangle $XYZ$, we see that by the condition that $X$ and $A$ must be on the same side of $YZ$ that we must have the side $XY$ to be parallel to $AB$ and the side $XZ$ to be parallel to $AC$. This implies that the vertex $X$ is uniquely determined by the vertices $Y$ and $Z$. Therefore, by (2.5.1), we have\\n\\Delta(n) = \\sum_{i=1}^{n+1} \\binom{i+1}{2} = \\binom{n+3}{3}.",
    "14": "For $i \\in \\{0, 1, \\dots, n\\}$, we note that the coefficient of $x^{n-i}$ in the binomial expansion of $(1 + x)^{2n-i}$ is equal to $\\binom{2n-i}{n-i} = \\binom{2n-i}{n}$. Hence, the coefficient of $x^n$ in the expansion of $\\sum_{i=0}^{n} x^i(1 + x)^{2n-i}$ is equal to\\n\\sum_{i=0}^{n} \\binom{2n-i}{n} = \\sum_{i=n}^{2n} \\binom{i}{n} = \\binom{2n+1}{n+1} = \\binom{2n+1}{n},\\nwhere the second equality follows from (2.5.1). Similarly, we see that the",
    "_source_page": 157
  },
  {
    "15": "For $i \\in \\{1, 2, \\dots, n\\}$, we note that the coefficient of $x^{n+i}$ in the expansion of $(\\sum_{r=1}^n rx^r)^2$ is equal to\\n$$\\sum_{r=i}^n r(n+i-r)$$\\n$$= \\sum_{r=1}^n r(n+i-r) - \\sum_{r=1}^{i-1} r(n+i-r)$$\\n$$= (n+i) \\sum_{r=1}^n r - \\sum_{r=1}^n r^2 - (n+i) \\sum_{r=1}^{i-1} r + \\sum_{r=1}^{i-1} r^2$$\\n$$= \\frac{n(n+1)(n+i)}{2} - \\frac{n(n+1)(2n+1)}{6} - \\frac{i(i-1)(n+i)}{2} + \\frac{i(i-1)(2i-1)}{6}$$\\n$$= \\frac{n(n+1)(n+3i-1)}{6} - \\frac{i(i-1)(3n+i+1)}{6}.$$\\nThis implies that $a_{n+i} = \\frac{n(n+1)(n+3i-1)}{6} - \\frac{i(i-1)(3n+i+1)}{6}$, and therefore we have",
    "_source_page": 158
  },
  {
    "16": "We have\n\n$P_r^r + P_r^{r+1} + \\dots + P_r^{2r} = \\sum_{i=r}^{2r} P_r^i$\n$= \\sum_{i=r}^{2r} r! \\binom{i}{r}$\n$= r! \\sum_{i=r}^{2r} \\binom{i}{r}$\n$= r! \\binom{2r+1}{r+1} \\text{ (by (2.5.1))}$\n$= r! \\binom{2r+1}{r}$\n$= P_r^{2r+1}.$",
    "17": "We have",
    "_source_page": 159
  },
  {
    "18": "Let r and n be non-negative integers such that n > 0 and r \\le n. We note that\n\\frac{\\binom{n}{r-1}}{\\binom{n}{r}} = \\frac{n!}{(r-1)!(n-r+1)!} \\cdot \\frac{r!(n-r)!}{n!} = \\frac{r}{n-r+1}.\nThen it is clear that \\frac{\\binom{n}{r-1}}{\\binom{n}{r}} < 1 if and only if r < \\frac{n+1}{2}.\n(i) If n is even, then we see from the above that \\binom{n}{r-1} < \\binom{n}{r} if and only if r \\le \\frac{n}{2}. This implies that \\binom{n}{i} < \\binom{n}{j} if 0 \\le i < j \\le \\frac{n}{2}. Also, if \\frac{n}{2} \\le i < j \\le n, then this implies that 0 \\le n-j < n-i \\le \\frac{n}{2}, and hence we have\n\\binom{n}{i} = \\binom{n}{n-i} > \\binom{n}{n-j} = \\binom{n}{j}.\n(ii) If n is odd, then we see from the above that \\binom{n}{r-1} < \\binom{n}{r} if and only if r \\le \\frac{n-1}{2}. This implies that \\binom{n}{i} < \\binom{n}{j} if 0 \\le i < j \\le \\frac{n-1}{2}. Also, if \\frac{n+1}{2} \\le i < j \\le n, then this implies that 0 \\le n-j < n-i \\le \\frac{n-1}{2}, and hence we have",
    "_source_page": 160
  },
  {
    "19": "(i) First Solution: We have\\n$\\binom{2n}{n+1} + 2\\binom{2n}{n} + \\binom{2n}{n-1} = \\frac{2(2n)!}{(n+1)!(n-1)!} + \\frac{2 \\cdot (2n)!}{(n!)^2}$\\n$= \\frac{2(2n)!}{((n+1)!)^2}(n(n+1) + (n+1)^2)$\\n$= \\frac{(2n)!}{((n+1)!)^2}(n+n+1)(2(n+1))$\\n$= \\frac{(2n)!}{((n+1)!)^2}(2n+1)(2n+2)$\\n$= \\frac{(2n+2)!}{((n+1)!)^2}$\\n$= \\binom{2(n+1)}{n+1}$.\\n\\nSecond Solution: We have\\n$\\binom{2(n+1)}{n+1} = \\binom{2n+1}{n} + \\binom{2n+1}{n+1}$ (by (2.1.4))\\n$= \\binom{2n}{n-1} + \\binom{2n}{n} + \\binom{2n}{n} + \\binom{2n}{n+1}$ (by (2.1.4))\\n$= \\binom{2n}{n+1} + 2\\binom{2n}{n} + \\binom{2n}{n-1}$.\\n\\nThird Solution: The identity holds trivially for the case where $n = 0$, so let us assume that $n > 0$. We shall count the number of ways to choose a team of $n + 1$ people from a group of $2(n + 1)$ people in two different ways. On one hand, the number of ways is equal to $\\binom{2(n+1)}{n+1}$ by definition. On the other hand, let us fix persons $A$ and $B$ from the group of $2(n + 1)$ people, and let us consider these cases:\\nCase 1: Both $A$ and $B$ are chosen for the team. There are $\\binom{2n}{n-1}$ ways to choose the remaining $n - 1$ people for the team out of the remaining $2n$ people in the group.\\nCase 2: Exactly one of $A$ and $B$ is chosen for the team. Then there are two ways to choose a person out of $A$ and $B$, and then there are $\\binom{2n}{n}$ ways to choose the remaining $n$ people for the team out of the remaining $2n$ people in the group.",
    "_source_page": 161
  },
  {
    "_source_page": 162
  },
  {
    "20": "Let us count the number of ways to choose $m$ people from a set of $n$ people\nto form a committee consisting of $r$ normal members and $m - r$ executive\nmembers, in 2 different ways. On one hand, we can first choose $m$ people\nfor the committee in $\\binom{n}{m}$ ways, and choose $r$ normal members from the $m$\ncommittee members in $\\binom{m}{r}$ ways.\nOn the other hand, we can first choose $r$ normal members for the\ncommittee in $\\binom{n}{r}$ ways, and choose $m - r$ executive members for the\ncommittee in $\\binom{n-r}{m-r}$ ways. Hence, we have\n$$\\binom{n}{m}\\binom{m}{r} = \\binom{n}{r}\\binom{n-r}{m-r}$$\nas desired.",
    "21": "We have\n$$\\sum_{r=0}^n \\frac{(2n)!}{(r!)^2((n-r)!)^2} = \\sum_{r=0}^n \\left( \\frac{(2n)!}{(n!)^2} \\cdot \\frac{(n!)^2}{(r!)^2((n-r)!)^2} \\right)$$\n$$= \\binom{2n}{n} \\sum_{r=0}^n \\binom{n}{r}^2$$\n$$= \\binom{2n}{n} \\binom{2n}{n} \\text{ (by (2.3.6))}$$\n$$= \\binom{2n}{n}^2.$$",
    "22": "Let us find the coefficient of $x^{2m}$ in the expansion of $(1 - x^2)^n = (1 + x)^n(1\n- x)^n$ in two different ways. On one hand, we see that the coefficient of $x^{2m}$",
    "_source_page": 163
  },
  {
    "_source_page": 164
  },
  {
    "23": "We have\nS = m! + \\frac{(m + 1)!}{1!} + \\frac{(m + 2)!}{2!} + \\dots + \\frac{(m + n)!}{n!}\n= \\sum_{i=0}^{n} \\frac{(m + i)!}{i!}\n= m! \\sum_{i=0}^{n} \\frac{(m + i)!}{i!m!}\n= m! \\sum_{i=0}^{n} \\binom{m + i}{m}\n= m! \\binom{m + n + 1}{m + 1} (by (2.5.1))\n= m! \\binom{m + n + 1}{n}.",
    "24": "By setting x = 1 and y = 3 in the Binomial Theorem, we get\n\\sum_{r=0}^{n} 3^{r} \\binom{n}{r} = (1 + 3)^{n} = 4^{n}.",
    "25": "We have\n\\sum_{r=0}^{n}(r + 1)\\binom{n}{r} = \\sum_{r=0}^{n} r\\binom{n}{r} + \\sum_{r=0}^{n}\\binom{n}{r}\n= n \\cdot 2^{n-1} + 2^{n} (by (2.3.1) and (2.3.4))\n= (n + 2)2^{n-1}.",
    "26": "We have",
    "_source_page": 165
  },
  {
    "27": "We have\n\\sum_{r=0}^{n} \\frac{(-1)^r}{r+1} \\binom{n}{r} = -\\sum_{r=0}^{n} \\frac{(-1)^{r+1}}{n+1} \\binom{n+1}{r+1} \\text{ (by (2.1.2))}\n= -\\frac{1}{n+1} \\left( \\sum_{r=0}^{n+1} (-1)^r \\binom{n+1}{r} - \\sum_{r=0}^{0} (-1)^r \\binom{n+1}{r} \\right)\n= -\\frac{1}{n+1} (0 - 1) \\text{ (by (2.3.2))}\n= \\frac{1}{n+1}.",
    "28": "We have\n\\sum_{r=m}^{n} \\binom{n}{r} \\binom{r}{m} = \\sum_{r=m}^{n} \\binom{n}{m} \\binom{n-m}{r-m} \\text{ (by (2.1.5))}\n= \\binom{n}{m} \\sum_{r=m}^{n} \\binom{n-m}{r-m}\n= \\binom{n}{m} \\sum_{r=0}^{n-m} \\binom{n-m}{r}\n= \\binom{n}{m} 2^{n-m} \\text{ (by (2.3.1)).}",
    "29": "The result follows immediately from (2.3.2) when $m = n$, so let us assume that $m < n$. Then we have",
    "_source_page": 166
  },
  {
    "30": "We have\\n\\sum_{r=0}^{m}(-1)^{m-r}\\binom{n}{r} = (-1)^{m}\\sum_{r=0}^{m}(-1)^{-r}\\binom{n}{r}\\n= (-1)^{m}\\sum_{r=0}^{m}(-1)^{r}\\binom{n}{r}\\n= (-1)^{m} \\cdot (-1)^{m}\\binom{n-1}{m} \\text{ (by Problem 2.29)}\\n= \\binom{n-1}{m}.",
    "31": "We have\\n\\sum_{r=0}^{n}(-1)^{r}r\\binom{n}{r} = \\sum_{r=1}^{n}(-1)^{r}n\\binom{n-1}{r-1} \\text{ (by (2.1.2))}\\n= -n\\sum_{r=0}^{n-1}(-1)^{r}\\binom{n-1}{r}\\n= 0 \\text{ (by (2.3.2))}.",
    "32": "Since \\binom{2n-1}{r} = \\binom{2n-1}{2n-1-r} for all r \\in \\{0, 1, \\dots, n-1\\}, we have\\n\\sum_{r=0}^{n-1}\\binom{2n-1}{r} = \\sum_{r=0}^{n-1}\\binom{2n-1}{2n-1-r} = \\sum_{r=n}^{2n-1}\\binom{2n-1}{r}.\\nBy (2.3.1), we have",
    "_source_page": 167
  },
  {
    "33": "Since \\binom{2n}{r} = \\binom{2n}{2n-r} for all r \\in \\{0, 1, \\dots, n-1\\}, we have\\n\\sum_{r=0}^{n-1} \\binom{2n}{r} = \\sum_{r=0}^{n-1} \\binom{2n}{2n-r} = \\sum_{r=n+1}^{2n} \\binom{2n}{r}.\\nBy (2.3.1), we have\\n2^{2n} = \\sum_{r=0}^{2n} \\binom{2n}{r}\\n= \\sum_{r=0}^{n-1} \\binom{2n}{r} + \\sum_{r=n+1}^{2n} \\binom{2n}{r} + \\binom{2n}{n}\\n= 2 \\sum_{r=0}^{n-1} \\binom{2n}{r} + \\binom{2n}{n},\\nso by the previous equation, we have\\n\\sum_{r=0}^{n} \\binom{2n}{r} = \\sum_{r=0}^{n-1} \\binom{2n}{r} + \\binom{2n}{n}\\n= \\frac{1}{2} \\left[ 2^{2n} - \\binom{2n}{n} \\right] + \\binom{2n}{n}\\n= \\frac{1}{2} \\left[ 2^{2n} + \\binom{2n}{n} \\right].",
    "34": "We have",
    "_source_page": 168
  },
  {
    "35": "By (2.5.1), we have \\n \\sum_{r=k}^{m} \\binom{n+r}{n} = \\sum_{r=0}^{m} \\binom{n+r}{n} - \\sum_{r=0}^{k-1} \\binom{n+r}{n} = \\binom{n+m+1}{n+1} - \\binom{n+k}{n+1}.",
    "36": "By (2.3.5), we have \\n \\sum_{r=1}^{n} \\binom{n}{r} \\binom{n-1}{r-1} = \\sum_{r=0}^{n-1} \\binom{n}{r+1} \\binom{n-1}{r} \\n = \\sum_{r=0}^{n-1} \\binom{n}{n-r-1} \\binom{n-1}{r} \\n = \\binom{2n-1}{n-1}.",
    "37": "If $m = n$, then the sum is equal to $(-1)^m \\binom{n}{m} \\binom{m}{m} = (-1)^m$. Else, if $m < n$, then we have \\n \\sum_{r=m}^{n} (-1)^r \\binom{n}{r} \\binom{r}{m} = \\sum_{r=m}^{n} (-1)^r \\binom{n}{m} \\binom{n-m}{r-m} \\text{ (by (2.1.5))} \\n = \\binom{n}{m} \\sum_{r=m}^{n} (-1)^r \\binom{n-m}{r-m} \\n = \\binom{n}{m} \\sum_{r=0}^{n-m} (-1)^{r+m} \\binom{n-m}{r} \\n = (-1)^m \\binom{n}{m} \\sum_{r=0}^{n-m} (-1)^r \\binom{n-m}{r} \\n = 0 \\text{ (by (2.3.2))}.",
    "_source_page": 169
  },
  {
    "38": "We have\\n\\sum_{r=1}^{n-1} (n-r)^2 \\binom{n-1}{n-r}\\n= \\sum_{k=1}^{n-1} k^2 \\binom{n-1}{k}\\n= \\sum_{k=1}^{n-1} k(n-1) \\binom{n-2}{k-1} (by (2.1.2))\\n= (n-1) \\left[ \\sum_{k=1}^{n-1} (k-1) \\binom{n-2}{k-1} + \\sum_{k=1}^{n-1} \\binom{n-2}{k-1} \\right]\\n= (n-1) \\left[ \\sum_{k=2}^{n-1} (k-1) \\binom{n-2}{k-1} + \\sum_{k=0}^{n-2} \\binom{n-2}{k} \\right]\\n= (n-1) \\left[ \\sum_{k=2}^{n-1} (n-2) \\binom{n-3}{k-2} + \\sum_{k=0}^{n-2} \\binom{n-2}{k} \\right] (by (2.1.2))\\n= (n-1) \\left[ (n-2) \\sum_{k=2}^{n-1} \\binom{n-3}{k-2} + 2^{n-2} \\right] (by (2.3.2))\\n= (n-1) \\left[ (n-2) \\sum_{k=0}^{n-3} \\binom{n-3}{k} + 2^{n-2} \\right]\\n= (n-1) [(n-2) 2^{n-3} + 2^{n-2}] (by (2.3.2))\\n= n(n-1) 2^{n-3}.",
    "39": "Since \\binom{2n}{r} = \\binom{2n}{2n-r} for all r \\in \\{0, 1, \\dots, n-1\\}, we have\\n\\sum_{r=0}^{n-1} \\binom{2n}{r}^2 = \\sum_{r=0}^{n-1} \\binom{2n}{2n-r}^2 = \\sum_{r=n+1}^{2n} \\binom{2n}{r}^2.\\nBy (2.3.6), we have",
    "_source_page": 170
  },
  {
    "40": "We have\\n\\sum_{r=0}^{n} \\binom{n}{r}^2 \\binom{r}{n-k} = \\sum_{r=0}^{n} \\binom{n}{r} \\binom{n}{n-k} \\binom{k}{r-n+k} (by (2.1.5))\\n= \\binom{n}{n-k} \\sum_{r=0}^{n} \\binom{n}{r} \\binom{k}{n-r}\\n= \\binom{n}{k} \\binom{n+k}{n} (by (2.3.5)).",
    "41": "We have",
    "_source_page": 171
  },
  {
    "42": "We have\\n\\sum_{r=0}^{m} \\binom{m}{r} \\binom{n}{r} \\binom{p+r}{m+n}\\n= \\sum_{r=0}^{m} \\binom{m}{r} \\binom{n}{r} \\sum_{s=0}^{m+n} \\binom{p}{m+n-s} \\binom{r}{s} (by (2.3.5))\\n= \\sum_{r=0}^{m} \\sum_{s=0}^{m+n} \\binom{n}{r} \\binom{p}{m+n-s} \\binom{m}{s} \\binom{m-s}{r-s} (by (2.1.5))\\n= \\sum_{s=0}^{m+n} \\binom{p}{m+n-s} \\binom{m}{s} \\sum_{r=0}^{m} \\binom{n}{r} \\binom{m-s}{r-s}\\n= \\sum_{s=0}^{m+n} \\binom{p}{m+n-s} \\binom{m}{s} \\binom{n+m-s}{m} (by (2.3.5))\\n= \\sum_{s=0}^{m+n} \\binom{m}{s} \\binom{p}{m} \\binom{p-m}{n-s} (by (2.1.5))\\n= \\binom{p}{m} \\sum_{s=0}^{n} \\binom{m}{s} \\binom{p-m}{n-s} (since n - s < 0 for all s > n)\\n= \\binom{p}{m} \\binom{p}{n} (by (2.3.5)).",
    "_source_page": 172
  },
  {
    "43": "We have\n\\sum_{r=0}^{m} \\binom{m}{r} \\binom{n}{r} \\binom{p+m+n-r}{m+n}\n= \\sum_{r=0}^{m} \\binom{m}{r} \\binom{n}{r} \\sum_{s=0}^{m+n} \\binom{p+m}{m+n-s} \\binom{n-r}{s} (by (2.3.5))\n= \\sum_{r=0}^{m} \\sum_{s=0}^{m+n} \\binom{m}{r} \\binom{p+m}{m+n-s} \\binom{n}{r} \\binom{n-r}{s}\n= \\sum_{r=0}^{m} \\sum_{s=0}^{m+n} \\binom{m}{r} \\binom{p+m}{m+n-s} \\binom{n}{s} \\binom{n-s}{r} (by (2.1.5))\n= \\sum_{s=0}^{m+n} \\binom{p+m}{m+n-s} \\binom{n}{s} \\sum_{r=0}^{m} \\binom{m}{r} \\binom{n-s}{r}\n= \\sum_{s=0}^{m+n} \\binom{p+m}{m+n-s} \\binom{n}{s} \\binom{m+n-s}{m} (by (2.3.5))\n= \\sum_{s=0}^{m+n} \\binom{n}{s} \\binom{p+m}{m} \\binom{p}{n-s} (by (2.1.5))\n= \\binom{p+m}{m} \\sum_{s=0}^{n} \\binom{n}{s} \\binom{p}{n-s} (since n - s < 0 for all s > n)\n= \\binom{p+m}{m} \\binom{p+n}{n} (by (2.3.5)).",
    "44": "(i) Let $\\ell$ denote the straight line in the $x - y$ plane whose endpoints are $(0, n)$ and $(n, 0)$. Let us count the number of shortest routes from the origin $O$ to any lattice point on the line $\\ell$.\nOn one hand, we note that any lattice point on the line $\\ell$ must be of the form $(r, n - r)$ where $r$ is an integer and $0 \\le r \\le n$. Furthermore, the number of shortest routes from the origin $O$ to $(r, n - r)$ for any integer $r$ such that $0 \\le r \\le n$ must be equal to $\\binom{n}{r}$. This implies that the number of such routes is equal to $\\sum_{r=0}^{n} \\binom{n}{r}$.\nOn the other hand, by using a '0' to denote a path from $(x, y)$ to $(x + 1, y)$ and '1' to denote a path from $(x, y)$ to $(x, y + 1)$ for any integers $x$ and $y$, we see that any shortest route from the origin $O$ to any lattice point on the line $\\ell$ can be uniquely represented as a binary sequence of length $n$. Thus the number of such routes is equal to $2^n$, and therefore",
    "_source_page": 173
  },
  {
    "45": "Let us count the number of shortest routes from $O$ to $(p - q + r + 1, q)$ in two different ways. On one hand, the number of such routes is equal to $\\binom{p+r+1}{q}$ by definition. On the other hand, for any integer $i$ such that $0 \\le i \\le q$, the number of such routes passing through both $(r, i)$ and $(r + 1, i)$ is equal to $\\binom{r+i}{i}\\binom{p-i}{q-i}$ by definition. We note that every shortest route from $O$ to $(p - q + r + 1, q)$ must pass through exactly one of the segments joining $(r, i)$ and $(r + 1, i)$ for some $i = 0, 1, \\dots, q$. By (MP) and (AP), the number of such routes is equal to $\\sum_{i=0}^q \\binom{r+i}{i}\\binom{p-i}{q-i}$, and therefore we have\n$$\\sum_{i=0}^q \\binom{r+i}{i}\\binom{p-i}{q-i} = \\binom{p+r+1}{q}$$\nas desired.",
    "46": "We shall count the number of ways to choose a team consisting of at least one member, along with a team leader, from a group of $n$ people in two different ways. On one hand, for any integer $r$ such that $1 \\le r \\le n$, there are $\\binom{n}{r}$ ways to choose a team consisting of $r$ members, and subsequently there",
    "_source_page": 174
  },
  {
    "47": "(i) The equation clearly holds for $n = 1$, so let's us assume that $n > 1$. We have\\n\\n$$\\sum_{r=1}^{n} r^2 \\binom{n}{r} = \\sum_{r=1}^{n} rn \\binom{n-1}{r-1} \\quad \\text{(by (2.1.2))}$$\\n$$= n \\sum_{r=1}^{n} (r-1+1) \\binom{n-1}{r-1}$$\\n$$= n \\left( \\sum_{r=2}^{n} (r-1) \\binom{n-1}{r-1} + \\sum_{r=1}^{n} \\binom{n-1}{r-1} \\right)$$\\n$$= n \\left( \\sum_{r=1}^{n-1} r \\binom{n-1}{r} + \\sum_{r=0}^{n-1} \\binom{n-1}{r} \\right)$$\\n$$= n ((n-1)2^{n-2} + 2^{n-1}) \\quad \\text{(by (2.3.1) and (2.3.4))}$$\\n$$= n(n+1)2^{n-2}.$$\\n\\n(ii) The equation clearly holds for $n = 1$, so let's us assume that $n > 1$. We have",
    "_source_page": 175
  },
  {
    "48": "(i) We have",
    "_source_page": 176
  },
  {
    "49": "We have",
    "_source_page": 177
  },
  {
    "50": "First Solution: We have\\n\\sum_{r=1}^{n} r \\binom{n}{r}^2 = \\sum_{r=1}^{n} r \\binom{n}{r} \\binom{n}{r}\\n= \\sum_{r=1}^{n} n \\binom{n-1}{r-1} \\binom{n}{r} \\quad \\text{(by (2.1.2))}\\n= n \\cdot \\sum_{r=0}^{n-1} \\binom{n-1}{r} \\binom{n}{r+1}\\n= n \\cdot \\sum_{r=0}^{n-1} \\binom{n-1}{r} \\binom{n}{n-1-r}\\n= n \\binom{2n-1}{n-1} \\quad \\text{(by (2.3.5)).}\\nSecond Solution: Let us count the number of ways to choose a team of n members, inclusive of a team leader, out of a group of n men and n women, such that the team leader is a male. On one hand, there are n ways to choose a male team leader, and \\binom{2n-1}{n-1} ways to choose the remaining n - 1 team members out of the remaining 2n - 1 people. By (MP), the total number of such ways is equal to n \\binom{2n-1}{n-1}. On the other hand, suppose that",
    "_source_page": 178
  },
  {
    "51": "By (2.1.2), we have $\\binom{p}{r} = \\frac{p}{r} \\binom{p-1}{r-1}$, or equivalently, $r \\binom{p}{r} = p \\binom{p-1}{r-1}$. As $1 \\le r \\le p - 1$, we must have $(p, r) = 1$, and hence $r$ must divide $\\binom{p-1}{r-1}$. Therefore, $\\frac{1}{r} \\binom{p-1}{r-1}$ is necessarily an integer, which implies that $\\binom{p}{r} = p \\cdot \\frac{1}{r} \\binom{p-1}{r-1}$ is a multiple of $p$, or equivalently, $\\binom{p}{r} \\equiv 0 \\pmod{p}$ as desired. Consequently, we have\\n\\n$(1+x)^p - (1+x^p) = \\sum_{r=0}^p \\binom{p}{r} x^r - \\binom{p}{0} - \\binom{p}{p} x^p$\\n$= \\sum_{r=1}^{p-1} \\binom{p}{r} x^r$\\n$\\equiv 0 \\pmod{p}$,\\n\\nor equivalently, $(1+x)^p \\equiv (1+x^p) \\pmod{p}$ as desired.\\nRemark. Let $f(x) = a_n x^n + a_{n-1} x^{n-1} + \\dots + a_0$ and $g(x) = b_n x^n + b_{n-1} x^{n-1} + \\dots + b_0$ be two polynomials with integer coefficients. We say that $f(x)$ and $g(x)$ are congruent to each other modulo $p$ (and write $f(x) \\equiv g(x) \\pmod{p}$) if $p$ divides $a_i - b_i$ for all $i = 0, 1, \\dots, n$. Equivalently, $f(x) \\equiv g(x) \\pmod{p}$ if there exists a polynomial $h(x)$ with integer coefficients, such that $f(x) - g(x) = ph(x)$. We note that this congruence relation is an equivalence relation, and this definition extends easily for polynomials in more than one variable.",
    "52": "By (2.3.6), we have $\\binom{2p}{p} = \\sum_{r=0}^p \\binom{p}{r}^2$, and by the previous problem, we have\\n\\n$\\binom{2p}{p} - 2 = \\sum_{r=0}^p \\binom{p}{r}^2 - \\binom{p}{0}^2 - \\binom{p}{p}^2 = \\sum_{r=1}^{p-1} \\binom{p}{r}^2 \\equiv 0 \\pmod{p}$,\\n\\nor equivalently, $\\binom{2p}{p} \\equiv 2 \\pmod{p}$ as desired.",
    "_source_page": 179
  },
  {
    "53": "(i) Let $f(\\mathbf{N}_n) = X$. Firstly, there are $S(n, p)$ $p$-partitions of $\\mathbf{N}_n$ by definition. Next, there are $\\binom{m}{p}$ choices for $X$ such that $|X| = p$, and subsequently there are $p!$ ways to assign a unique integer $n_A \\in X$ to each subset $A$ of $\\mathcal{P}$ for each $p$-partition $\\mathcal{P}$ of $\\mathbf{N}_n$, such that $f(x) = n_A$ for all $x \\in A$, and $f(y) \\neq n_A$ for all $y \\notin A$. By (MP), the number of mappings $f: \\mathbf{N}_n \\to \\mathbf{N}_m$ such that $|f(\\mathbf{N}_n)| = p$ is equal to $\\binom{m}{p} \\cdot p! \\cdot S(n, p)$.\\n(ii) Let $f(\\mathbf{N}_n) = X$ and $|X| = k$. As $\\mathbf{N}_p \\subseteq X \\subseteq \\mathbf{N}_m$, we must have $p \\le k \\le m$. Firstly, there are $S(n, k)$ $k$-partitions of $\\mathbf{N}_n$ by definition. Next, there are $\\binom{m-p}{k-p}$ choices for $X$ such that $\\mathbf{N}_p \\subseteq X$, and subsequently there are $k!$ ways to assign a unique integer $n_A \\in X$ to each subset $A$ of $\\mathcal{P}$ for each $k$-partition $\\mathcal{P}$ of $\\mathbf{N}_n$, such that $f(x) = n_A$ for all $x \\in A$, and $f(y) \\neq n_A$ for all $y \\notin A$. By (MP) and (AP), the number of mappings $f: \\mathbf{N}_n \\to \\mathbf{N}_m$ such that $\\mathbf{N}_p \\subseteq f(\\mathbf{N}_n)$ is equal to $\\sum_{k=p}^m \\binom{m-p}{k-p} \\cdot k! \\cdot S(n, k)$.",
    "54": "(a) By (2.1.3), we have\\n$H_r^n = \\binom{r+n-1}{r} = \\frac{(r+n-1)-r+1}{r} \\binom{r+n-1}{r-1} = \\frac{n}{r} H_{r-1}^{n+1}$.\\n(b) By (2.1.2), we have\\n$H_r^n = \\binom{r+n-1}{r} = \\frac{r+n-1}{r} \\binom{r+n-2}{r-1} = \\frac{n+r-1}{r} H_{r-1}^n$.\\n(c) By (2.1.4), we have\\n$H_r^n = \\binom{r+n-1}{r} = \\binom{r+n-2}{r} + \\binom{r+n-2}{r-1} = H_r^{n-1} + H_{r-1}^n$.\\n(d) By (2.5.2), we have\\n$\\sum_{k=0}^r H_k^n = \\sum_{k=0}^r \\binom{k+n-1}{k} = \\binom{r+n}{r} = H_r^{n+1}$.\\n(e) By parts (a) and (d), we have",
    "_source_page": 180
  },
  {
    "55": "(i) It is easy to see that d_{\\min}(n) \\ge 0 for all n \\ge 2 by definition. By (2.1.3), we have for all k \\in \\{1, 2, \\dots, n\\} that\n\nd_k(n) = \\left| \\binom{n}{k} - \\binom{n}{k-1} \\right|\n= \\left| \\frac{n-k+1}{k} \\binom{n}{k-1} - \\binom{n}{k-1} \\right|\n= \\left| \\frac{n-2k+1}{k} \\right| \\binom{n}{k-1}.\n\nThis implies that\n\nd_{\\min}(n) = 0\n\\iff d_k(n) = 0 for some k \\in \\{1, 2, \\dots, n\\}\n\\iff \\left| \\frac{n-2k+1}{k} \\right| \\binom{n}{k-1} = 0 for some k \\in \\{1, 2, \\dots, n\\}\n\\iff \\frac{n-2k+1}{k} = 0 for some k \\in \\{1, 2, \\dots, n\\}\n\\iff n - 2k + 1 = 0 for some k \\in \\{1, 2, \\dots, n\\}\n\\iff n = 2k - 1 for some k \\in \\{1, 2, \\dots, n\\}\n\\iff n is odd.\n\n(ii) By the proof of part (i), we see that d_k(n) = 0 if and only if n - 2k + 1",
    "_source_page": 181
  },
  {
    "_source_page": 182
  },
  {
    "56": "(i) We have\\n\\n$\\binom{\\binom{n}{2}}{2} = \\frac{\\binom{n}{2} (\\binom{n}{2} - 1)}{2}$\\n$= \\frac{\\frac{n(n-1)}{2} (\\frac{n(n-1)}{2} - 1)}{2}$\\n$= \\frac{n(n-1)(n^2 - n - 2)}{8}$\\n$= 3 \\cdot \\frac{n(n-1)(n+1)(n-2)}{24}$\\n$= 3 \\binom{n+1}{4}.$\\n\\n(ii) We have",
    "_source_page": 183
  },
  {
    "_source_page": 184
  },
  {
    "_source_page": 185
  },
  {
    "_source_page": 186
  },
  {
    "57": "For all positive integers n, we have",
    "_source_page": 187
  },
  {
    "58": "Let $T = \\{a_0, a_1, a_2, \\dots\\}$ denote the set of all non-negative integers which are either powers of 3, sums of distinct powers of 3 or zero, where $a_i < a_j$ for all $i < j$. Then it follows that all integers in $T$ are of the form $\\sum_{n \\in S} 3^n$ where $S$ is a finite subset of $\\mathbf{N}^*$. When $S$ is the empty subset, the sum is taken to be 0. We note that the first few elements are $a_0 = 0, a_1 = 1, a_2 = 3, a_3 = 4$. Furthermore, for each positive integer $m$, let us define $T_m := \\{a_n \\mid a_n < 3^m\\}$. Let us first show that $T_m = \\{a_0, a_1, \\dots, a_{2^m-1}\\}$ for all positive integers $m$. Indeed, we have $\\sum_{i=0}^{m-1} 3^i = \\frac{3^m-1}{3-1} < 3^m$. This implies that for all subsets $U$ of $\\{0, 1, \\dots, m - 1\\}$, we have $\\sum_{i \\in U} 3^i \\le \\sum_{i=0}^{m-1} 3^i < 3^m$ (noting that an empty sum is equal to 0). As there are $2^m$ subsets of $U$, we see that $|T_m| \\ge",
    "_source_page": 188
  },
  {
    "59": "As $x = y - 1$, we have\n$1 - x + x^2 - x^3 + \\dots + x^{16} - x^{17}$\n$= 1 - (y - 1) + (y - 1)^2 - (y - 1)^3 + \\dots + (y - 1)^{16} - (y - 1)^{17}$\n$= 1 + (1 - y) + (1 - y)^2 + \\dots + (1 - y)^{17}$\n$= a_0 + a_1y + a_2y^2 + \\dots + a_{17}y^{17}.$\nFor all $n = 2, 3, \\dots, 17$, we note from the Binomial Theorem that the coefficient of $y^2$ in the expansion of $(1 - y)^n$ is equal to $\\binom{n}{2}1^{n-2}(-1)^2 = \\binom{n}{2}$. Hence, by (2.5.1), we have\n$a_2 = \\binom{2}{2} + \\binom{3}{2} + \\dots + \\binom{17}{2} = \\binom{18}{3} = 816.$",
    "60": "Let us consider these cases:\nCase 1: Letter 9 has been typed by the secretary before lunch. In this case, for each $i = 1, 2, 3, 4, 5, 6, 7$, letter $i$ may or may not have been typed before lunch. Hence, the number of after-lunch typing orders in this case is equal to the number of subsets of the set $\\{1, 2, 3, 4, 5, 6, 7\\}$ which is $2^7 = 128$. We note that if there are $r$ letters to be typed after lunch, say letters, $i_1, i_2, \\dots, i_r$ with $i_1 < i_2 < \\dots < i_r$, then these letters must be in the order $i_1, i_2, \\dots, i_r$ with $i_1$ at the bottom and $i_r$ at the top.\nCase 2: Letter 9 has yet to be typed by the secretary before lunch. Without loss of generality, we may assume that letter 9 would only be delivered to the secretary after lunch, Let $S$ be the set of letters amongst letters 1, 2, 3,",
    "_source_page": 189
  },
  {
    "61": "By (2.1.3), we have\\n\\n$$A_k = \\binom{1000}{k} (0.2)^k$$\\n$$= \\frac{1000 - k + 1}{k} \\cdot \\binom{1000}{k-1} \\cdot 0.2 \\cdot (0.2)^{k-1}$$\\n$$= \\frac{1001 - k}{5k} A_{k-1}.$$\\n\\nThis implies that $\\frac{A_{k-1}}{A_k} = \\frac{5k}{1001-k}$ for all $k \\in \\{1, 2, \\dots, 1, 000\\}$. Now, we have\\n\\n$$A_{k-1} < A_k \\iff \\frac{5k}{1001 - k} < 1$$\\n$$\\iff 5k < 1001 - k$$\\n$$\\iff 6k < 1001$$\\n$$\\iff k < 166 \\frac{5}{6},$$\\n\\nand equality holds if and only if $k = 166 \\frac{5}{6}$. This implies that\\n\\n$$A_0 < A_1 < \\dots < A_{165} < A_{166} > A_{167} > \\dots > A_{1000}.$$\\n\\nSo the desired value of $k$ is 166.",
    "62": "We note that all terms in the expansion of $(x_1 + x_2 + \\dots + x_m)^n$ are of the form $x_1^{n_1} x_2^{n_2} \\dots x_m^{n_m}$ where $n_1, n_2, \\dots, n_m$ are non-negative integers and $n_1 +$",
    "_source_page": 190
  },
  {
    "63": "First Solution: We have\n$$\\begin{aligned} \\binom{n}{n_1, n_2, \\dots, n_m} &= \\frac{n!}{n_1! n_2! \\dots n_m!} \\\\ &= \\frac{n(n-1)!}{n_1! n_2! \\dots n_m!} \\\\ &= \\frac{(n-1)!}{n_1! n_2! \\dots n_m!} (n_1 + n_2 + \\dots + n_m) \\\\ &= \\sum_{i=1}^m \\frac{(n-1)!}{n_1! \\dots n_{i-1}! (n_i-1)! n_{i+1}! \\dots n_m!} \\\\ &= \\sum_{i=1}^m \\binom{n-1}{n_1, \\dots, n_{i-1}, n_i-1, n_{i+1}, \\dots, n_m} \\end{aligned}$$\nSecond Solution: Let us count the number of ways to distribute $n$ distinct objects into $m$ boxes $B_1, B_2, \\dots, B_m$, such that there are $n_i$ objects in box $B_i$ for $i = 1, 2, \\dots, m$, and $n = n_1 + n_2 + \\dots + n_m$ in two different ways. On one hand, the number of ways is equal to $\\binom{n}{n_1, n_2, \\dots, n_m}$ by definition. On the other hand, let us fix an object $O$, and consider the box that it is placed in. If $O$ is placed in box $B_i$, then there are $\\binom{n-1}{n_1, \\dots, n_{i-1}, n_i-1, n_{i+1}, \\dots, n_m}$ ways to distribute the remaining $n - 1$ objects into the boxes $B_1, B_2, \\dots, B_m$ such that there are $n_i$ objects in box $B_i$ for $i = 1, 2, \\dots, m$. By (AP), the number of ways is equal to $\\sum_{i=1}^m \\binom{n-1}{n_1, \\dots, n_{i-1}, n_i-1, n_{i+1}, \\dots, n_m}$, and hence we must have\n$$\\binom{n}{n_1, n_2, \\dots, n_m} = \\sum_{i=1}^m \\binom{n-1}{n_1, \\dots, n_{i-1}, n_i-1, n_{i+1}, \\dots, n_m}$$\nas desired.",
    "64": "Let us count the number of surjective functions $f: \\mathbf{N}_n \\to \\mathbf{N}_m$ in two different ways.\nFor the first method of counting, we first note that there are $S(n, m)$ $m$-partitions of $\\mathbf{N}_n$ by definition. Next, there are $m!$ ways to assign a unique integer $n_A \\in \\mathbf{N}_m$ to each subset $A$ of $\\mathcal{P}$ for each $m$-partition $\\mathcal{P}$ of $\\mathbf{N}_n$, such that $f(x) = n_A$ for all $x \\in A$, and $f(y) \\neq n_A$ for all $y \\notin A$. By (MP), the number",
    "_source_page": 191
  },
  {
    "65": "Let $T$ denote the set of all $m$-tuples $(n_1, \\dots, n_m)$ of non-negative integers such that $\\sum_{i=1}^m n_i = n$. By the Multinomial Theorem, we have\\n\\n$$(x_1 + x_2 + \\dots + x_m)^n = \\sum_{(n_1, \\dots, n_m) \\in T} \\binom{n}{n_1, \\dots, n_m} x_1^{n_1} x_2^{n_2} \\dots x_m^{n_m}.$$\\n\\nThe desired conclusion follows by setting $x_i = 1$ for all odd integers $i$ and $x_j = -1$ for all even integers $j$.",
    "66": "Let us count the number of ways to assign $p$ boys and $q$ girls into $m$ rooms $R_1, R_2, \\dots, R_m$, such that there are $k_i$ people in room $R_i$ for $i = 1, 2, \\dots, m$, and $p + q = k_1 + k_2 + \\dots + k_m$ in two different ways. On one hand, the number of ways is equal to $\\binom{p+q}{k_1, k_2, \\dots, k_m}$ by definition. On the other hand, let $T$ denote the set of all $m$-tuples $(j_1, \\dots, j_m)$ of non-negative integers such that $\\sum_{i=1}^m j_i = p$. For each tuple $(j_1, \\dots, j_m) \\in T$, we note that there are $\\binom{p}{j_1, j_2, \\dots, j_m}$ ways to assign the $p$ boys into the rooms $R_1, R_2, \\dots, R_m$, such that there are $j_i$ boys in room $R_i$ for $i = 1, 2, \\dots, m$, and consequently, there",
    "_source_page": 192
  },
  {
    "67": "By (2.8.7), we may assume without loss of generality that $p > n_1 \\ge 1$. By (2.8.4) and Problem 2.51, we have\\n\\n$$\\binom{p}{n_1, n_2, \\dots, n_m} = \\binom{p}{n_1} \\binom{p-n_1}{n_2} \\dots \\binom{p-(n_1+n_2+\\dots+n_{m-1})}{n_m} \\equiv 0 \\pmod{p}.$$\\n\\nNow, let $T$ denote the set of all $m$-tuples $(n_1, \\dots, n_m)$ of non-negative integers such that $\\sum_{i=1}^m n_i = p$, and $S$ to be the subset of $T$ consisting of all $m$-tuples $(n_1, \\dots, n_m)$ satisfying $n_i \\neq p$ for $i = 1, 2, \\dots, m$. As a consequence, we have\\n\\n$$\\left(\\sum_{i=1}^m x_i\\right)^p - \\sum_{i=1}^m x_i^p = \\sum_{(n_1, \\dots, n_m) \\in T} \\binom{p}{n_1, n_2, \\dots, n_m} x_1^{n_1} x_2^{n_2} \\dots x_m^{n_m} - \\sum_{i=1}^m x_i^p = \\sum_{(n_1, \\dots, n_m) \\in S} \\binom{p}{n_1, n_2, \\dots, n_m} x_1^{n_1} x_2^{n_2} \\dots x_m^{n_m} \\equiv 0 \\pmod{p},$$\\n\\nor equivalently, $\\left(\\sum_{i=1}^m x_i\\right)^p \\equiv \\sum_{i=1}^m x_i^p \\pmod{p}$ as desired.",
    "_source_page": 193
  },
  {
    "68": "It is easy to see that if $f(x_1, \\dots, x_n)$ and $g(x_1, \\dots, x_n)$ are polynomials in $x_1, \\dots, x_n$ with integer coefficients such that $f(x_1, \\dots, x_n) \\equiv g(x_1, \\dots, x_n) \\pmod p$, then the number of terms of $f(x_1, \\dots, x_n)$ whose coefficients are not divisible by $p$ is equal to the number of terms of $g(x_1, \\dots, x_n)$ whose coefficients are not divisible by $p$. For each $i = 0, 1, \\dots, k$, let $T_i$ denote the set of all $m$-tuples $(n_{i,1}, \\dots, n_{i,m})$ of non-negative integers such that $\\sum_{j=1}^m n_{i,j} = n_i$. By Problem 2.67, we have\n\n$(x_1 + \\dots + x_m)^n$\n$= (x_1 + \\dots + x_m)^{n_0} \\dots (x_1 + \\dots + x_m)^{n_k p^k}$\n$\\equiv (x_1 + \\dots + x_m)^{n_0} \\dots (x_1^{p^k} + \\dots + x_m^{p^k})^{n_k} \\pmod p$\n$\\equiv \\prod_{i=0}^k \\sum_{(n_{i,1}, \\dots, n_{i,m}) \\in T_i} \\binom{n_i}{n_{i,1}, \\dots, n_{i,m}} x_1^{n_{i,1} p^i} \\dots x_m^{n_{i,m} p^i} \\pmod p$\n$\\equiv \\sum_{\\substack{(n_{i,1}, \\dots, n_{i,m}) \\in T_i \\\\ i=0, 1, \\dots, k}} \\left[ \\prod_{i=0}^k \\binom{n_i}{n_{i,1}, \\dots, n_{i,m}} \\right] x_1^{n_{0,1} + \\dots + n_{k,1} p^k} \\dots x_m^{n_{0,m} + \\dots + n_{k,m} p^k} \\pmod p$.\n\nBy noting that\n\n$m_0 + m_1 p + \\dots + m_s p^s \\le (p-1)(1 + p + \\dots + p^s) = (p-1) \\cdot \\frac{p^{s+1}-1}{p-1} < p^{s+1}$\n\nfor all $m_0, m_1, \\dots, m_s \\in \\{0, 1, \\dots, p-1\\}$, it follows that the two terms\n\n$x_1^{n_{0,1} + \\dots + n_{k,1} p^k} \\dots x_m^{n_{0,m} + \\dots + n_{k,m} p^k}$\n\nand\n\n$x_1^{n'_{0,1} + \\dots + n'_{k,1} p^k} \\dots x_m^{n'_{0,m} + \\dots + n'_{k,m} p^k}$\n\nare the same if and only if $n_{i,j} = n'_{i,j}$ for all $i = 0, 1, \\dots, k$ and $j = 1, 2, \\dots, m$. As there are $H_{n_i}^m = \\binom{n_i+m-1}{m-1}$ elements in the set $T_i$ for all $i = 0, 1, \\dots, k$, it follows that the number of terms in the polynomial",
    "_source_page": 194
  },
  {
    "69": "By Problem 2.43, we have\n\\sum_{r=0}^n \\binom{n}{r} \\binom{q}{r} \\binom{m + n + q - r}{n + q} = \\binom{m + n}{n} \\binom{m + q}{q}.\nThe desired equation then follows by setting $q = n$.",
    "70": "We have",
    "_source_page": 195
  },
  {
    "71": "For any positive integer $n$, let us define $u_n = \\frac{1}{(n+r-1)(n+r-2)\\cdots n}$ and $v_n = \\frac{1}{(n+r-2)\\cdots n}$. Then it is easy to see that $v_{n+1} - v_n = (1 - r)u_n$ and $\\lim_{n \\to \\infty} v_{n-r+2} = \\lim_{n \\to \\infty} \\frac{1}{n \\cdots (n-r+2)} = 0$ for all positive integers $n$. Now, for all integers $m \\ge r$, we have\\n\\sum_{n=r}^m \\frac{1}{\\binom{n}{r}} = \\sum_{n=r}^m \\frac{r!}{n(n-1)\\cdots(n-r+1)}\\n= \\sum_{n=r}^m r! u_{n-r+1}\\n= r! \\sum_{n=r}^m \\left( \\frac{v_{n-r+2} - v_{n-r+1}}{1-r} \\right)\\n= \\frac{r!}{1-r} (v_{m-r+2} - v_1)\\n= \\frac{r!}{1-r} \\left( v_{m-r+2} - \\frac{1}{(r-1)!} \\right).\\nHence, we have",
    "_source_page": 196
  },
  {
    "72": "Fix an $r \\in \\{1, 2, \\dots, n\\}$. We note that $M(A) = r$ if and only if $r \\in A$ and $A \\subseteq \\{1, 2, \\dots, r\\}$. Hence, the number of subsets $S$ of $\\{1, 2, \\dots, n\\}$ such that $M(S) = r$ is equal to $2^{r-1}$. Also, we note that $m(A) = n - r + 1$ if and only if $n - r + 1 \\in A$ and $A \\subseteq \\{n - r + 1, n - r + 2, \\dots, n\\}$. Hence, the number of subsets $T$ of $\\{1, 2, \\dots, n\\}$ such that $m(T) = n - r + 1$ is equal to $2^{r-1}$. Hence, the desired arithmetic mean is equal to\n\n\\frac{1}{2^n - 1} \\sum_{\\substack{A \\in \\mathbb{N}_n \\\\ A \\neq \\emptyset}} \\alpha(A) = \\frac{1}{2^n - 1} \\left( \\sum_{\\substack{A \\in \\mathbb{N}_n \\\\ A \\neq \\emptyset}} M(A) + \\sum_{\\substack{A \\in \\mathbb{N}_n \\\\ A \\neq \\emptyset}} m(A) \\right)\n= \\frac{1}{2^n - 1} \\left( \\sum_{r=1}^{n} r 2^{r-1} + \\sum_{r=1}^{n} (n - r + 1) 2^{r-1} \\right)\n= \\frac{n+1}{2^n - 1} \\left( \\sum_{r=1}^{n} 2^{r-1} \\right)\n= \\frac{n+1}{2^n - 1} \\cdot (2^n - 1)\n= n + 1.",
    "73": "Firstly, it is easy to see that $a_n \\geq \\binom{n}{0}^{-1} + \\binom{n}{n}^{-1} = 2$ for all positive integers $n$. Next, we shall that for all positive integers $n \\geq 4$ and all positive integers $k \\in \\{2, 3, \\dots, n - 2\\}$, we have $\\binom{n}{k} \\geq \\binom{n}{2}$. If $2 \\leq k \\leq \\frac{n}{2}$, then we must have $\\binom{n}{k} \\geq \\binom{n}{2}$ by Problem 2.18. Else, we must have $\\frac{n}{2} < k \\leq n - 2$, and by Problem 2.18 again we have $\\binom{n}{k} \\geq \\binom{n}{n-2} = \\binom{n}{2}$. Hence, for all positive integers $n \\geq 4$, we have",
    "_source_page": 197
  },
  {
    "74": "We shall prove by induction that (x + y)_n = \\sum_{i=0}^n \\binom{n}{i}(x)_i(y)_{n-i} for all positive integers n, with the base case n = 1 being trivial. Suppose that the equation holds true for some positive integer m. By induction hypothesis, we have (x + y)_m = \\sum_{i=0}^m \\binom{m}{i}(x)_i(y)_{m-i}. This implies that",
    "_source_page": 198
  },
  {
    "75": "Let $a_1 \\dots a_n$ be a permutation of $\\{1, \\dots, n\\}$, and for each $k = 1, \\dots, n$, let $b_k$ be the unique integer such that $a_{b_k} = k$. We shall show that $a_1 \\dots a_n$ satisfies the condition that for each integer $i$ with $2 \\le i \\le n$, there exists some $j < i$, such that $|a_i - a_j| = 1$, if and only if for all integers $p, q \\in \\{1, \\dots, n\\}$ such that $a_1 \\le p < q$ or $q < p \\le a_1$, we have $b_p < b_q$.\\nFirstly, let us suppose that for all integers $p, q \\in \\{1, 2, \\dots, n\\}$ such that $a_1 \\le p < q$ or $q < p \\le a_1$, we have $b_p < b_q$. We name this property $P$. Let us take any $i \\in \\{2, 3, \\dots, n\\}$, and show that there exists some $j < i$, such that $|a_i - a_j| = 1$. We consider the following cases.\\nCase 1: We suppose that $a_i > a_1$. If $a_i = a_1 + 1$, then $a_1$ is to the left of $a_i$",
    "_source_page": 199
  },
  {
    "76": "We have",
    "_source_page": 200
  },
  {
    "_source_page": 201
  },
  {
    "_source_page": 202
  },
  {
    "77": "We have\n\n\\sum_{r=1}^n \\sqrt{r \\binom{n}{r}}\n= \\sum_{r=1}^n \\sqrt{r \\frac{n}{r} \\binom{n-1}{r-1}} \\text{ (by (2.1.2))}\n= \\sqrt{n} \\sum_{r=1}^n \\sqrt{r} \\sqrt{\\binom{n-1}{r-1}}\n\\le \\sqrt{n} \\sqrt{\\sum_{r=1}^n r} \\sqrt{\\sum_{r=1}^n \\binom{n-1}{r-1}} \\text{ (by Cauchy-Schwarz inequality)}\n= \\sqrt{n} \\sqrt{\\frac{n(n+1)}{2}} \\sqrt{\\sum_{r=0}^{n-1} \\binom{n-1}{r}}\n< \\sqrt{n} \\sqrt{n^2} \\sqrt{2^{n-1}} \\text{ (since } n > 1\\text{)}\n= \\sqrt{2^{n-1} n^3}.",
    "78": "By (2.3.5), we have for all $j = 0, 1, \\dots, r$ that",
    "_source_page": 203
  },
  {
    "79": "Arguing by contradiction, suppose on the contrary that there exist four consecutive binomial coefficients $\\binom{n}{r}, \\binom{n}{r+1}, \\binom{n}{r+2}, \\binom{n}{r+3}$ which are in an arithmetic progression. As $\\binom{n}{r}, \\binom{n}{r+1}, \\binom{n}{r+2}$ are in an arithmetic progression, we must have $\\binom{n}{r} + \\binom{n}{r+2} = 2\\binom{n}{r+1}$. By (2.1.3), we have $\\binom{n}{r+2} = \\frac{n-r-1}{r+2} \\binom{n}{r+1}$ and $\\binom{n}{r+1} = \\frac{n-r}{r+1} \\binom{n}{r}$. This implies that\n\\binom{n}{r} + \\binom{n}{r+2} = 2\\binom{n}{r+1}\n\\Rightarrow \\frac{r+1}{n-r} \\binom{n}{r+1} + \\frac{n-r-1}{r+2} \\binom{n}{r+1} = 2\\binom{n}{r+1}\n\\Rightarrow (r+1)(r+2) + (n-r-1)(n-r) = 2(n-r)(r+2)\n\\Rightarrow r^2 - (n-2)r + \\frac{n^2 - 5n + 2}{4} = 0.\nLikewise, since $\\binom{n}{r+1}, \\binom{n}{r+2}, \\binom{n}{r+3}$ are in an arithmetic progression, we must have $\\binom{n}{r+1} + \\binom{n}{r+3} = 2\\binom{n}{r+2}$. This also implies that",
    "_source_page": 204
  },
  {
    "80": "We have \n$$\\sum_{i=0}^{n-1} \\binom{2n}{2i+1} = \\sum_{i=0}^{n-1} \\left[ \\binom{2n-1}{2i+1} + \\binom{2n-1}{2i} \\right] \\text{ (by (2.1.4))}$$ \n$$= \\sum_{i=0}^{n-1} \\binom{2n-1}{2i+1} + \\sum_{i=0}^{n-1} \\binom{2n-1}{2i}$$ \n$$= \\sum_{i=0}^{2n-1} \\binom{2n-1}{i}$$ \n$$= 2^{2n-1} \\text{ (by (2.3.1)).}$$ \nLet $d$ be the greatest common divisor of $\\binom{2n}{1}, \\binom{2n}{3}, \\dots, \\binom{2n}{2n-1}$. We write $n = 2^k \\cdot p$, where $k$ and $p$ are integers and $p$ is odd. As $\\sum_{i=0}^{n-1} \\binom{2n}{2i+1} = 2^{2n-1}$, it follows that $d | 2^{2n-1}$. For all $i = 0, 1, \\dots, n - 1$, we have by (2.1.2) that \n$$(2i+1) \\binom{2n}{2i+1} = 2n \\binom{2n-1}{2i} = 2^{k+1} p \\binom{2n-1}{2i}.$$",
    "_source_page": 205
  },
  {
    "81": "Firstly, let us suppose that $\\binom{n}{r}$ is odd for all $r \\in \\{0, 1, \\dots, n\\}$. Let $k$ be the smallest positive integer for which $n < 2^k$. This would imply that $2^{k-1} \\le n$. By (2.1.3), we have $2^{k-1} \\binom{n}{2^{k-1}} = (n - 2^{k-1} + 1) \\binom{n}{2^{k-1}-1}$. As $\\binom{n}{2^{k-1}-1}$ is odd, we must have $2^{k-1}$ and $\\binom{n}{2^{k-1}-1}$ to be coprime, and hence we must have $2^{k-1} | (n - 2^{k-1} + 1)$. This implies that $n - 2^{k-1} + 1 \\ge 2^{k-1}$, or equivalently, $n \\ge 2^k - 1$. As $n < 2^k$, we must have $n = 2^k - 1$.\nConversely, suppose that $n = 2^k - 1$ for some positive integer $k$. We shall prove by induction that $\\binom{n}{r}$ is odd for all $r \\in \\{0, 1, \\dots, n\\}$, with the base cases $r = 0$ and $r = 1$ being trivial. Suppose that $\\binom{n}{k}$ is odd for some $k \\ge 0$. We note that $\\binom{n}{k+1} = \\frac{n-k}{k+1} \\binom{n}{k}$ by (2.1.3). If $k$ is even, that is, $k = 2m$ for some non-negative integer $m$, then we have $\\binom{n}{k+1} = \\frac{n-2m}{2m+1} \\binom{n}{k} = \\frac{2^k-1-2m}{2m+1} \\binom{n}{k}$. As $2^k - 1 - 2m$ and $2m + 1$ are both odd integers, $\\binom{n}{k+1}$ is necessarily odd as well. Else, if $k$ is odd, that is, $k = 2m - 1$ for some positive integer $m$, then let us write $m = 2^p \\cdot r$ where $r$ is odd. If $k = n$, then there is nothing to show, so let us assume that $k < n$. We first note that\n$$2m - 1 < n \\Rightarrow 2m < n + 1 = 2^k$$\n$$\\Rightarrow 2^{p+1}r < 2^k$$\n$$\\Rightarrow 1 \\le r < 2^{k-p-1}.$$\nThis implies that\n$$\\binom{n}{k+1} = \\frac{n - 2m + 1}{2m} \\binom{n}{k} = \\frac{2^k - 2^{p+1}r}{2^{p+1}r} \\binom{n}{k} = \\frac{2^{k-p-1} - r}{r} \\binom{n}{k}.$$\nAs $2^{k-p-1} > 1$, we must have $2^{k-p-1}$ to be even, so $2^{k-p-1} - r$ is odd, and hence $\\binom{n}{k+1}$ is necessarily odd as well. This completes the inductive step and we are done.",
    "82": "We have",
    "_source_page": 206
  },
  {
    "83": "We shall prove by induction on a that \\binom{pa}{pb} \\equiv \\binom{a}{b} \\pmod p for all non-negative integers a and non-negative integers b such that b \\le a, with the base cases a = 0, 1 being clear. Suppose that the proposition holds for some non-negative integer a = n. By induction hypothesis, we have \\binom{pn}{pb} \\equiv \\binom{n}{b} \\pmod p for all non-negative integers b such that b \\le n. Let y be a non-negative integer satisfying y \\le n + 1. We have",
    "_source_page": 207
  },
  {
    "84": "Let $S = \\{a_1, a_2, \\dots, a_n\\}$, and for each non-empty subset $A$ of $S$, let us denote the geometric mean of the elements in $A$ by $g(A)$. Let us fix an $i \\in \\{1, 2, \\dots, n\\}$. For each $k = 1, 2, \\dots, n$, we note that there are $\\binom{n-1}{k-1}$ subsets $B$ of $S$ that contains $a_i$ and $|B| = k$. Furthermore, we note that for each subset $C$ of $S$ that contains $a_i$ and $|C| = k$, the power of $a_i$ in the geometric mean $g(C)$ of the elements in $C$ is equal to $\\frac{1}{k}$ by definition. Hence, the power of $a_i$ in the product $\\prod_{\\substack{A \\subseteq S, \\\\ A \\neq \\emptyset}} g(A)$ is equal to\n\n\\sum_{k=1}^{n} \\frac{1}{k} \\binom{n-1}{k-1} = \\sum_{k=1}^{n} \\frac{1}{n} \\binom{n}{k} \\text{ (by (2.1.2))}\n= \\frac{1}{n} \\left( \\sum_{k=0}^{n} \\binom{n}{k} - \\binom{n}{0} \\right)\n= \\frac{2^n - 1}{n} \\text{ (by (2.3.1)).}\n\nThis implies that $\\prod_{\\substack{A \\subseteq S, \\\\ A \\neq \\emptyset}} g(A) = (a_1 a_2 \\dots a_n)^{\\frac{2^n - 1}{n}}$. Consequently, the geometric mean of all of the $g(A)$'s, where $A$ is a non-empty subset of $S$, is equal to\n\n\\left( (a_1 a_2 \\dots a_n)^{\\frac{2^n - 1}{n}} \\right)^{\\frac{1}{2^n - 1}} = (a_1 a_2 \\dots a_n)^{\\frac{1}{n}},\n\nwhich is the geometric mean of all the elements in $S$. We are done.",
    "_source_page": 208
  },
  {
    "85": "(i) We have\\n\\sum_{k=0}^{m-1} \\binom{m}{k} S_k(n) = \\sum_{k=0}^{m-1} \\binom{m}{k} \\sum_{j=1}^n j^k\\n= \\sum_{k=0}^{m-1} \\sum_{j=1}^n \\binom{m}{k} j^k\\n= \\sum_{j=1}^n \\sum_{k=0}^{m-1} \\binom{m}{k} j^k\\n= \\sum_{j=1}^n \\left[ \\sum_{k=0}^m \\binom{m}{k} j^k - j^m \\right]\\n= \\sum_{j=1}^n [(1+j)^m - j^m]\\n= (n+1)^m - 1.\\n\\n(ii) We have\\nS_m(n) - \\sum_{k=0}^m (-1)^{m-k} \\binom{m}{k} S_k(n)\\n= \\sum_{j=1}^n j^m - \\sum_{k=0}^m (-1)^m (-1)^{-k} \\binom{m}{k} \\sum_{j=1}^n j^k\\n= \\sum_{j=1}^n j^m - \\sum_{k=0}^m (-1)^m \\sum_{j=1}^n (-1)^k \\binom{m}{k} j^k\\n= \\sum_{j=1}^n j^m - \\sum_{j=1}^n (-1)^m \\sum_{k=0}^m \\binom{m}{k} (-j)^k\\n= \\sum_{j=1}^n j^m - \\sum_{j=1}^n (-1)^m (1-j)^m\\n= \\sum_{j=1}^n j^m - \\sum_{j=1}^n (j-1)^m\\n= n^m.",
    "86": "We first recall that if $f(x)$ is a real polynomial of degree $n$, and there exist pairwise distinct real numbers $x_1, \\dots, x_{n+1}$ such that $f(x_i) = 0$ for all $i = 1, \\dots, n+1$, then we must have $f(x) = 0$ for all real numbers $x$. As an immediate corollary, it follows that if $f(x)$ and $g(x)$ are polynomials of",
    "_source_page": 209
  },
  {
    "87": "Let $\\mathcal{B} = \\{B \\subseteq X \\mid |B| = 5\\}$ and $\\mathcal{C} = \\{A \\in \\mathcal{A} \\mid f(A) \\notin A\\}$. Furthermore, let $\\mathcal{F}$ denote the collection all subsets $F$ of $X$ that is of the form $A \\cup \\{f(A)\\}$, where $A \\in \\mathcal{C}$. We first note that $\\mathcal{F} \\subseteq \\mathcal{B}$, and $|\\mathcal{F}| = |\\mathcal{C}| \\le |\\mathcal{A}| = \\binom{10}{4} = 210$. As $|\\mathcal{B}| = \\binom{10}{5} = 252 > 210 = |\\mathcal{F}|$, it follows that there exists some element $S \\in$",
    "_source_page": 210
  },
  {
    "88": "(i) By the AM-GM inequality, we have\\n\\n$\\frac{1}{n} \\sum_{r=1}^{n} \\binom{n+1}{r} \\geq \\left( \\prod_{r=1}^{n} \\binom{n+1}{r} \\right)^{\\frac{1}{n}}$\\n$\\Rightarrow \\sum_{r=0}^{n+1} \\binom{n+1}{r} - \\binom{n+1}{0} - \\binom{n+1}{n+1} \\geq n \\left( \\prod_{r=1}^{n} \\binom{n+1}{r} \\right)^{\\frac{1}{n}}$\\n$\\Rightarrow 2^{n+1} - 2 \\geq n \\left( \\prod_{r=1}^{n} \\binom{n+1}{r} \\right)^{\\frac{1}{n}}$\\n$\\Rightarrow (2^{n+1} - 2)^n \\geq n^n \\prod_{r=1}^{n} \\binom{n+1}{r}$.\\n\\n(ii) Let us first prove by induction that $\\prod_{r=1}^{n} r^{n+1-r} = \\prod_{r=1}^{n} r!$ for all positive integers $n$, with the base case $n = 1$ being trivial. Suppose that the equation holds for some positive integer $n = m$. By induction hypothesis, we have\\n\\n$\\prod_{r=1}^{m+1} r^{m+2-r} = \\left( \\prod_{r=1}^{m+1} r \\right) \\left( \\prod_{r=1}^{m+1} r^{m+1-r} \\right)$\\n$= (m+1)! \\cdot \\prod_{r=1}^{m} r!$\\n$= \\prod_{r=1}^{m+1} r!$,\\n\\nthereby completing the inductive step. Hence, we have\\n\\n$(n!)^{n+1} = \\prod_{r=1}^{n} r^{n+1} = \\left( \\prod_{r=1}^{n} r^r \\right) \\left( \\prod_{r=1}^{n} r^{n+1-r} \\right) = \\left( \\prod_{r=1}^{n} r^r \\right) \\left( \\prod_{r=1}^{n} r! \\right)$.\\n\\n(iii) We have",
    "_source_page": 211
  },
  {
    "89": "Let $a$ be a positive integer whose base-$n$ representation consists of distinct digits with the property that, except for the leftmost digit, every digit differs by $\\pm 1$ from some digit further to the left. Let the base $n$-representation of $a$ be $a_1 a_2 \\dots a_m$, and let $a_{\\min} = \\min\\{a_i \\mid i = 1, 2, \\dots, m\\}$ and $a_{\\max} = \\max\\{a_i \\mid i = 1, 2, \\dots, m\\}$. We note that we must have $a_i \\in \\{0, 1, \\dots, n - 1\\}$ for all $i = 1, 2, \\dots, m$, and $a_1 \\neq 0$. Also, by assumption, it follows that for each integer $i$ that satisfies $2 \\leq i \\leq m$ there exists some integer $j$ with $1 \\leq j < i$ such that $|a_i - a_j| = 1$. Let us show that for each integer $r$ such that $a_1 < r \\leq a_{\\max}$, there exists",
    "_source_page": 212
  },
  {
    "_source_page": 213
  },
  {
    "90": "We note that $S_n = \\sum_{k=0}^n \\binom{3n}{3k} \\le \\sum_{k=0}^{3n} \\binom{3n}{k} = 2^{3n}$, which implies that $(S_n)^{\\frac{1}{3n}} \\le 2$ for all $n \\in \\mathbf{N}$. On the other hand, let us show that $S_n \\ge \\frac{1}{8n} 2^{3n}$ for all $n \\ge 5$. To this end, let us consider these cases:\nCase 1: $n$ is even. By the unimodal property of the binomial coefficients, it follows that $\\binom{3n}{\\frac{3n}{2}} \\ge \\binom{3n}{j}$ for all $j \\in \\{0, 1, \\dots, 3n\\}$. In particular, we have $\\binom{3n}{\\frac{3n}{2}} \\ge \\binom{3n}{3k}$ for all $k \\in \\{0, 1, \\dots, n\\}$. Hence, we have\n$8n S_n = 8n \\sum_{k=0}^n \\binom{3n}{3k} \\ge 8n \\binom{3n}{\\frac{3n}{2}} \\ge (3n+1) \\binom{3n}{\\frac{3n}{2}} \\ge \\sum_{k=0}^{3n} \\binom{3n}{k} = 2^{3n}$,\nor equivalently, $S_n \\ge \\frac{1}{8n} 2^{3n}$ for all positive even integers $n \\ge 2$.\nCase 2: $n$ is odd, that is, $n = 2m + 1$ for some positive integer $m \\ge 2$. By the unimodal property of the binomial coefficients, it follows that $\\binom{3n}{\\frac{3n-1}{2}} \\ge \\binom{3n}{j}$ for all $j \\in \\{0, 1, \\dots, 3n\\}$. In particular, we have $\\binom{3n}{\\frac{3n-1}{2}} \\ge \\binom{3n}{3k}$ for all $k \\in \\{0, 1, \\dots, n\\}$. Furthermore, we note from identity (2.1.3) that $\\binom{2j+1}{j} = \\frac{2j+1-j+1}{j} \\binom{2j+1}{j-1} = \\frac{j+2}{j} \\binom{2j+1}{j-1}$ for all positive integers $j$. As we have $\\frac{j+2}{j} \\le 2$ for all positive integers $j \\ge 2$, it follows that we have $2 \\binom{2j+1}{j-1} \\ge \\frac{j+2}{j} \\binom{2j+1}{j-1} = \\binom{2j+1}{j}$ for all positive integers $j \\ge 2$. Hence, for all integers $n \\ge 5$ (or equivalently, $m \\ge 2$), we have",
    "_source_page": 214
  },
  {
    "91": "(i) Firstly, let us count the number of $n$-digit numbers that contains exactly $k$ 0's. We note that there are $\\binom{n-1}{k}$ ways to place $k$ 0's in the rightmost $n - 1$ digits, and there are 9 choices for each of the remaining $n - k$ non-zero digits. This implies that there are $\\binom{n-1}{k} 9^{n-k}$ $n$-digit numbers that contains exactly $k$ 0's. Furthermore, each number that has $k$ 0's contributes $2^k$ to the sum $S$. Hence, we have",
    "_source_page": 215
  },
  {
    "92": "Let $S$ denote the set of all binary sequences of length $n + 2$ that contain exactly $m$ occurrences of “01” and $m + 1$ occurrences of “10”, and let $T$ denote the set of all binary sequences of length $n$ that contain exactly $m$ occurrences of “01”. We shall construction a bijection from $S$ to $T$. To this end, let us define a function $f: S \\to T$ by $f(a_1 a_2 \\dots a_{n+2}) = a_2 a_3 \\dots a_{n+1}$. Let",
    "_source_page": 216
  },
  {
    "_source_page": 217
  },
  {
    "93": "It is easy to verify that the result holds for $n = 1$ and $n = 2$, and the assumptions cannot be satisfied for $n = 3$. Henceforth, we assume $n \\geq 4$. We label the given assumptions as follows:\\nAssumption A: Every 2 strangers have exactly 2 common friends.\\nAssumption B: Every 2 acquaintances have no common friends.\\nLet the $n$ people be $a_1, a_2, \\dots, a_n$. For each $i = 1, 2, \\dots, n$, let $A_i$ denote the set of acquaintances of $a_i$. As every 2 acquaintances have no acquaintances in common, it follows that for each $i = 1, 2, \\dots, m$, there must exist some $j_i \\in \\{1, 2, \\dots, m\\} \\setminus \\{i\\}$ such that $a_{j_i} \\notin A_i$. This implies that $a_i$ and $a_{j_i}$ must have exactly two acquaintances in common, so we must have $|A_i| \\geq 2$ for all $i = 1, 2, \\dots, n$.\\nLet us first show that if $a_m$ and $a_p$ are acquainted, then $|A_m| = |A_p|$. Firstly, we note that $a_p \\in A_m$ and $a_m \\in A_p$, and let us define $N_m = A_m \\setminus \\{a_p\\}$ and $N_p = A_p \\setminus \\{a_m\\}$. Next, let us take any $a_i \\in N_m$. Then $a_i$ and $a_p$ are not acquainted to each other by assumption B, so $a_i$ and $a_p$ must have exactly two acquaintances in common, of which one of them must be $a_m$, and the other, say $a_q$, must be in $N_p$. We note that $a_q$ is unique in that if there is another person, say $a_r \\in N_p \\setminus \\{a_q\\}$ that is acquainted to $a_i$, we have a violation of Assumption A as $a_i$ and $a_p$ who are strangers now have at least three common friends, $a_m, a_q, a_r$. We also note that $a_q$ is unique to $a_i \\in N_m$ in",
    "_source_page": 218
  },
  {
    "94": "Suppose that $n$ is odd, that is, $n = 2m + 1$ for some non-negative integer $m$. Let us first compute the coefficient of $x^{n+1} = x^{2m+2}$ in the expansion of $(1 - x^2)^n$ in two different ways. On one hand, the coefficient of $x^{n+1} = (x^2)^{m+1}$ in the expansion of $(1 - x^2)^n$ is equal to $(-1)^{m+1} \\binom{n}{m+1} = (-1)^{m+1} \\binom{2m+1}{m+1}$ by definition. On the other hand, we first observe that we have $(1 - x^2)^n = (1 - x)^n(1 + x)^n$. For each $k = 1, \\dots, n$, we note that the coefficient of $x^k$ in the expansion of $(1 - x)^n$ is equal to $(-1)^k \\binom{n}{k}$, and the coefficient of $x^{n+1-k}$ in the expansion of $(1 + x)^n$ is equal to $\\binom{n}{n+1-k} = \\binom{n}{k-1}$. Thus, we have $\\sum_{k=1}^n (-1)^k \\binom{n}{k} \\binom{n}{k-1} = (-1)^{m+1} \\binom{2m+1}{m+1}$, or equivalently,\n\n\\sum_{k=1}^{2m+1} (-1)^k \\binom{2m+1}{k} \\binom{2m+1}{k-1} = (-1)^{m+1} \\binom{2m+1}{m+1}.\n\nThis implies that",
    "_source_page": 219
  },
  {
    "_source_page": 220
  },
  {
    "_source_page": 221
  },
  {
    "95": "Let us consider these cases.\nCase 1: n is even, that is, n = 2m for some positive integer m. Then we have",
    "_source_page": 222
  },
  {
    "_source_page": 223
  },
  {
    "96": "(i) We have",
    "_source_page": 224
  },
  {
    "_source_page": 225
  },
  {
    "_source_page": 226
  },
  {
    "97": "We claim that the double sum is equal to $2^\\ell \\binom{m-n}{\\ell}$. To see that this is indeed the case, we suppose that there are $m$ students in the department, of which $n$ of them are male, and all $m$ students wish to take a combinatorics class that is limited to $\\ell$ students, and each student is graded pass or fail. Then it is easy to see that if the class is restricted to female students only, then there are a total of $2^\\ell \\binom{m-n}{\\ell}$ possible grade reports; indeed, there are $\\binom{m-n}{\\ell}$ to choose $\\ell$ females out of $m - n$ total female students in the department, and for each student in the class, there are 2 ways to grade the student.\nOn the other hand, we note that the term $\\binom{m-i}{m-\\ell} \\binom{n}{j} \\binom{m-n}{i-j}$ refers to the number of grade reports in which $i$ students pass the class, of which $j$ of them are male; indeed, there are $\\binom{n}{j}$ ways to choose $j$ male students out of $n$ total male students to pass the class, there are $\\binom{m-n}{i-j}$ ways to choose $i - j$ female students out of $m - n$ total female students to pass the class, and there are $\\binom{m-i}{\\ell-i} = \\binom{m-i}{m-\\ell}$ ways to choose the remaining $\\ell - i$ students out of $m - i$ remaining students to fail the class.\nLet us denote the set of score reports in which there are an even number of",
    "_source_page": 227
  },
  {
    "98": "Let us consider the number of distinct committees consisting of $m + n$ men and $s + n$ women that can be formed from $n$ married couples, $q$ single men and $p$ single women, under the restriction that no couples are allowed on any committee.\\nFirstly, we note that for each committee, there must be $r$ married women that are not on the committee, where $r = 0, 1, \\dots, n$. In the case where there are $r$ married women that are not on the committee, we note that the $m + n$ men can be chosen from the $q$ single men and the $r$ married men whose wives are not on the committee, of which there are $\\binom{q+r}{m+n}$ ways to do so. Next, we note that the $n - r$ married women on the committee can be chosen in $\\binom{n}{n-r} = \\binom{n}{r}$ ways, and the remaining $(n + s) - (n - r) = r + s$ single women on the committee can be chosen in $\\binom{p}{r+s}$ ways. By (MP) and (AP), the total number of such committees is equal to",
    "_source_page": 228
  },
  {
    "_source_page": 229
  },
  {
    "exercise": 3,
    "1": "Let $ABC$ be an equilateral triangle of unit side length, and let $S$ be any set of 5 points that lie in triangle $ABC$. Furthermore, let $D, E, F$ be the midpoints of $AB, BC$ and $CA$ respectively. Then it follows that the triangles $ADF, BDE, CEF$ and $DEF$ are all equilateral triangles, each of $\\frac{1}{2}$ unit side length. As each point in $S$ is contained in one of the equilateral triangles $ADF, BDE, CEF$ and $DEF$, it follows from (PP) that there is a equilateral triangle of $\\frac{1}{2}$ unit side length, say triangle $DEF$, that contains at least two points of $S$. Let these two points be $P_1$ and $P_2$. Now, it is easy to verify that the distance between $P_1$ and $P_2$ does not exceed the length of any side of triangle $DEF$, which is equal to $\\frac{1}{2}$ units.",
    "2": "It is easy to see that the statement holds for $n = 2$, so let's assume that $n > 2$. Let $\\Gamma$ be a unit circle with centre $O$, and let $P_1, \\dots, P_n$ be distinct points lying on the circumference of $\\Gamma$ satisfying $\\angle P_i O P_{i+1} = \\angle P_1 O P_n$ for all $i = 1, \\dots, n - 1$. This implies that $\\angle P_1 O P_n = \\frac{2\\pi}{n}$. As each point in $C$ lies on one of the arcs $\\overset{\\frown}{P_1 P_2}, \\overset{\\frown}{P_2 P_3}, \\dots, \\overset{\\frown}{P_{n-1} P_n}, \\overset{\\frown}{P_n P_1}$, it follows from (PP) that there is an arc, say $\\overset{\\frown}{P_n P_1}$, that contains at least two points of $C$, say $A$ and $B$. Necessarily, we have $\\theta = \\angle AOB \\le \\angle P_1 O P_n = \\frac{2\\pi}{n}$, so that we have $\\frac{\\theta}{2} \\le \\frac{\\pi}{n} \\le \\frac{\\pi}{2}$. It remains to show that $AB \\le 2 \\sin \\frac{\\pi}{n}$. Let $M$ be the mid-point of $AB$; then $OM$ is perpendicular to $AB$, and\n\n$$AB = 2AM = 2OA \\sin \\angle AOM = 2 \\sin \\frac{\\theta}{2} \\le 2 \\sin \\frac{\\pi}{n},$$\n\nwhere the last inequality follows from the fact that the sine function is strictly increasing on $[0, \\frac{\\pi}{2}]$. We are done.",
    "3": "Let us first show that the largest possible area of a triangle contained in a square $ABCD$ of side length $d$ is equal to $\\frac{1}{2} d^2$. Let $XYZ$ be a triangle with",
    "_source_page": 230
  },
  {
    "4": "Let $S$ be any set of 5 numbers. For each $i = 0, 1, 2$, let us define\n\n$A_i = \\{s \\in S \\mid s \\equiv i \\pmod 3\\}.$\n\nIf $A_i$ is non-empty for all $i = 0, 1, 2$, then let us pick some $a_i \\in A_i$ for all $i = 0, 1, 2$. Then we have",
    "_source_page": 231
  },
  {
    "5": "For each i = 0, 1, \\dots, n - 1, let us define A_i = \\{a \\in A \\mid a \\equiv i \\pmod n\\}. As each element of A is contained in A_i for some i \\in \\{0, 1, \\dots, n - 1\\}, it follows from (PP) that there must exist some k \\in \\{0, 1, \\dots, n - 1\\}, such that A_k contains at least two (distinct) elements of A. Let these two numbers be a and b. Now, we have\n\na - b \\equiv k - k \\pmod n \\equiv 0 \\pmod n,\n\nwhich implies that n|a - b.",
    "6": "By (PP), there must exist k + 1 elements of A, say a_1, a_2, \\dots, a_{k+1}, that are of the same parity. Observe that we must have \\{a_1, a_2, \\dots, a_{k+1}\\} \\cap \\{a_{i_1}, a_{i_2}, \\dots, a_{i_{k+1}}\\} \\neq \\emptyset; else this would imply that |\\{a_1, a_2, \\dots, a_{k+1}\\} \\cup \\{a_{i_1}, a_{i_2}, \\dots, a_{i_{k+1}}\\}| = 2k + 2, a contradiction. Hence, there must exist some m, n \\in \\{1, 2, \\dots, k + 1\\}, such that a_{i_n} = a_m. This implies that a_{i_n} - a_n = a_m - a_n is even (since a_m and a_n have the same parity). The desired statement follows.",
    "7": "For each k = 1, 2, \\dots, n, we let A_k = \\{2^i(2k - 1) \\mid i \\in \\mathbb{N}, 2^i(2k - 1) \\le 2n\\}. As each element of A is contained in A_k for some k \\in \\{1, 2, \\dots, n\\}, it follows from (PP) that there must exist some m \\in \\{1, 2, \\dots, n\\}, such that A_m contains at least two (distinct) elements of A. Let these two numbers be a and b. Then we must have a = 2^q(2m - 1) and b = 2^r(2m - 1) for some positive integers q and r. As a and b are distinct, we must have q \\neq r. Without loss of generality, let us assume that q < r. Then we have b = 2^r(2m - 1) = 2^{r-q} 2^q(2m - 1) = 2^{r-q} a, which implies that a|b as desired.",
    "8": "For each k = 1, 2, \\dots, n, let us define A_k = \\{2k - 1, 2k\\}. As each element of A is contained in A_k for some k \\in \\{1, 2, \\dots, n\\}, it follows from (PP)",
    "_source_page": 232
  },
  {
    "9": "Let $A = \\{a_1, a_2, \\dots, a_n\\}$ be a group of $n$ people, and for each $i = 1, 2, \\dots, n$, let us denote the number of people that $a_i$ knows by $f(i)$. Then it is clear that $0 \\le f(i) \\le n - 1$ for all $i = 1, 2, \\dots, n$. We consider the following cases.\\nCase 1: There exist distinct $i, j \\in \\{1, 2, \\dots, n\\}$ such that $f(i) = f(j) = 0$. The result holds trivially in this case.\\nCase 2: There is exactly one $i \\in \\{1, 2, \\dots, n\\}$ such that $f(i) = 0$. In this case, we have $1 \\le f(j) \\le n - 2$ for all $j \\in \\{1, 2, \\dots, n\\} \\setminus \\{i\\}$. By (PP), we have distinct $j, k \\in \\{1, 2, \\dots, n\\} \\setminus \\{i\\}$ such that $f(j) = f(k)$.\\nCase 3: We have $f(i) > 0$ for all $i = 1, 2, \\dots, n$. In this case, we have $1 \\le f(i) \\le n - 1$ for all $i = 1, 2, \\dots, n$, and the (PP) shows that there are distinct $i, j \\in \\{1, 2, \\dots, n\\}$ such that $f(i) = f(j)$.\\nThis completes the proof.",
    "10": "For $i = 1, \\dots, n$, we set $I_i = [\\frac{i-1}{n}, \\frac{i}{n})$. Then it is clear that each element of $C$ is contained in $I_i$ for some $i \\in \\{1, \\dots, n\\}$. We have $n + 1$ points in $C$ and $n$ intervals $I_i$. By (PP), there exists an interval $I_k$ where $k \\in \\{1, \\dots, n\\}$ that contains at least two points, say $r_p$ and $r_q$. Since the length of $I_k$ is less than $\\frac{1}{n}$, we have $|r_p - r_q| < \\frac{1}{n}$.",
    "11": "Firstly, we note that $\\tan \\frac{\\pi}{6} = \\frac{\\sqrt{3}}{3}$. Let us show that $\\alpha := \\tan \\frac{\\pi}{12} = 2 - \\sqrt{3}$. To this end, we first note from the tangent double angle formula that $\\tan 2x = \\frac{2 \\tan x}{1 - \\tan^2 x}$ for all real numbers $x$. This implies that\\n$$\\frac{\\sqrt{3}}{3} = \\tan \\frac{\\pi}{6} = \\frac{2\\alpha}{1 - \\alpha^2},$$\\nor equivalently, $\\alpha^2 + 2\\sqrt{3}\\alpha - 1 = 0$. Solving for the roots of this quadratic equation yields $\\alpha = 2 - \\sqrt{3}$ or $\\alpha = -2 - \\sqrt{3}$. As $\\alpha > 0$, we must have $\\alpha = 2 - \\sqrt{3}$ as desired.\\nNow, for each $a \\in A$, let $\\theta_a$ denote the unique real number in $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$ that satisfy $\\tan \\theta_a = a$ (note that such a $\\theta_a$ exists since the tangent function is strictly increasing on $(-\\frac{\\pi}{2}, \\frac{\\pi}{2})$ and $\\tan((-\\frac{\\pi}{2}, \\frac{\\pi}{2})) = (-\\infty, \\infty)$). Then it is clear that for each $a \\in A$, $\\theta_a$ is contained in $[\\frac{n\\pi}{12}, \\frac{(n+1)\\pi}{12})$ for some $n \\in \\{-6, -5, \\dots, 4, 5\\}$. By (PP), there must exist some $m \\in \\{-6, -5, \\dots, 4, 5\\}$ and two",
    "_source_page": 233
  },
  {
    "13": "Let $S$ be any set of 9 lattice points, and let $A$ denote the set of 3-tuples $(a_1, a_2, a_3)$ that satisfy $a_i \\in \\{0, 1\\}$ for all $i = 1, 2, 3$. Then it is easy to see that $|A| = 2^3 = 8$. Furthermore, for each $(a_1, a_2, a_3) \\in A$, let us define\\n\\n$S_{(a_1, a_2, a_3)} = \\{(s_1, s_2, s_3) \\in S \\mid s_i \\equiv a_i \\pmod 2 \\text{ for all } i = 1, 2, 3\\}$.\\n\\nAs each element of $S$ is contained in $S_{(a_1, a_2, a_3)}$ for some $(a_1, a_2, a_3) \\in A$, it follows from (PP) that there must exist some $(b_1, b_2, b_3) \\in A$, such that $S_{(b_1, b_2, b_3)}$ contains at least two (distinct) lattice points of $S$. Let these two lattice points be $(t_1, t_2, t_3)$ and $(u_1, u_2, u_3)$. Then for all $i = 1, 2, 3$, we have $t_i + u_i \\equiv b_i + b_i \\pmod 2 \\equiv 0 \\pmod 2$, which implies that $(\\frac{t_1+u_1}{2}, \\frac{t_2+u_2}{2}, \\frac{t_3+u_3}{2})$ is a lattice point. Furthermore, the lattice point $(\\frac{t_1+u_1}{2}, \\frac{t_2+u_2}{2}, \\frac{t_3+u_3}{2})$ is the midpoint of the line segment that joins $(t_1, t_2, t_3)$ and $(u_1, u_2, u_3)$, and this completes the proof.",
    "14": "(i) Let $A$ denote the set of 2-tuples $(a_1, a_2)$ that satisfy $a_i \\in \\{0, 1\\}$ for all $i = 1, 2$. Then it is easy to see that $|A| = 2^2 = 4$. Furthermore, for each $(a_1, a_2) \\in A$, let us define\\n\\n$S_{(a_1, a_2)} = \\{(s_1, s_2) \\in L_2 \\mid s_i \\equiv a_i \\pmod 2 \\text{ for all } i = 1, 2\\}$.\\n\\nAs each element of $L_2$ is contained in $S_{(a_1, a_2)}$ for some $(a_1, a_2) \\in A$, it",
    "_source_page": 235
  },
  {
    "15": "Firstly, we note that $3i + 1 = 103 - 3i$ if and only if $i = 17$. For each $i = 1, 2, \\dots, 16$, let us define $A_i = \\{3i + 1, 103 - 3i\\}$. Furthermore, let us define $A_0 = \\{1\\}$ and $A_{17} = \\{52\\}$. Then it is immediately clear that $\\bigcup_{i=0}^{17} A_i = \\{1, 4, 7, \\dots, 100\\}$. As each element of $A$ is contained in $A_k$ for some $k \\in \\{0, 1, \\dots, 17\\}$, it follows from (PP) that there must exist some $m \\in \\{0, 1, \\dots, 17\\}$, such that $A_m$ contains at least two (distinct) elements of $A$. Then we must have $m \\in \\{1, 2, \\dots, 16\\}$. Let these two numbers be $a$ and $b$, and we may assume without loss of generality that $a = 3m + 1$ and $b = 103 - 3m$. Then we have $a + b = 3m + 1 + 103 - 3m = 104$, and this completes the proof.",
    "_source_page": 236
  },
  {
    "16": "Let us denote the points in $A$ by $P_1, P_2, P_3, P_4, P_5, P_6$, and for each pair of distinct integers $i, j \\in \\{1, 2, 3, 4, 5, 6\\}$, let us denote the length of the line segment $P_i P_j$ by $\\ell(P_i P_j)$. Without loss of generality, we may assume that $\\max_{i,j \\in \\{1, \\dots, 6\\}, i \\neq j} \\ell(P_i P_j) = \\ell(P_1 P_2)$. Let $\\Gamma_1$ and $\\Gamma_2$ denote circles of radius $\\ell(P_1 P_2)$ whose centres are at $P_1$ and $P_2$ respectively. By the definition of $\\ell(P_1 P_2)$, it follows that $P_3, P_4, P_5$ and $P_6$ must lie in the region of overlap $R$ between $\\Gamma_1$ and $\\Gamma_2$.\nNow, let us consider the angles $\\angle P_i P_1 P_j$ in the region $R$ for each pair of distinct integers $i, j \\in \\{2, 3, 4, 5, 6\\}$. By construction, we must have $\\angle P_i P_1 P_j < 180^\\circ$ for each pair of distinct integers $i, j \\in \\{2, 3, 4, 5, 6\\}$. If there exist distinct $r, s \\in \\{2, 3, 4, 5, 6\\}$ such that $\\angle P_r P_1 P_s > 120^\\circ$, then $P_1, P_r$ and $P_s$ are our required points, since one of $\\angle P_1 P_r P_s$ and $\\angle P_1 P_s P_r$ must be smaller than $30^\\circ$.\nElse, there must exist points $A_1$ and $A_5$ on the circumference of $\\Gamma_1$, such that $\\angle A_1 P_1 A_5 = 120^\\circ$, and each of the points $P_2, P_3, P_4, P_5, P_6$ lie in the circular sector $S$ bounded by the lines $P_1 A_1, P_1 A_5$ and the minor arc $\\widehat{A_1 A_5}$. Furthermore, let $A_2, A_3, A_4$ be points on the minor arc $\\widehat{A_1 A_5}$ such that $\\angle A_i P_1 A_{i+1} = 30^\\circ$ for all $i = 1, 2, 3, 4$, and let us denote the circular sector bounded by the lines $P_1 A_i, P_1 A_{i+1}$ and the minor arc $\\widehat{A_i A_{i+1}}$ by $R_i$ for $i = 1, 2, 3, 4$. As each of the points $P_2, P_3, P_4, P_5, P_6$ must lie in $R_j$ for some $j \\in \\{1, 2, 3, 4\\}$, it follows from (PP) that there must exist some $k \\in \\{1, 2, 3, 4\\}$, such that $R_k$ contains at least two distinct points from the set $\\{P_2, P_3, P_4, P_5, P_6\\}$. Let these two points be $P_i$ and $P_j$. Then $P_1, P_i$ and $P_j$ are our required points, for we must have $\\angle P_i P_1 P_j \\leq \\angle A_k P_1 A_{k+1} = 30^\\circ$, and this completes the proof.",
    "17": "Let $A = \\{2^1 - 1, 2^2 - 1, \\dots, 2^{n-1} - 1\\}$. Firstly, we note that $(2^k, n) = 1$ for all positive integers $k$. This implies that $2^k \\not\\equiv 0 \\pmod n$ and consequently we must have $2^k - 1 \\not\\equiv n - 1 \\pmod n$ for all positive integers $k$. Now, suppose on the contrary that $n$ does not divide $2^k - 1$ for all $k = 1, 2, \\dots, n - 1$. For each $i = 0, 1, \\dots, n - 1$, let us define $A_i = \\{a \\in A \\mid a \\equiv i \\pmod n\\}$. As each element of $A$ is contained in $A_k$ for some $k \\in \\{1, \\dots, n - 2\\}$, it follows from (PP) that there must exist some $j \\in \\{1, \\dots, n - 2\\}$, such that $A_j$ contains at least two (distinct) elements of $A$. Let these two numbers be",
    "_source_page": 237
  },
  {
    "18": "Firstly, it is easy to check that \\frac{n-3}{2} > \\lfloor \\frac{n}{2} \\rfloor - 2 for all positive integers n. Let S = {a_1, a_2, \\dots, a_n} denote the set of people at the party, and for each k = 1, 2, \\dots, n, let us denote the number of people that a_k knows by p(k). Furthermore, for all integers i, j \\in {1, 2, \\dots, n} that satisfy i < j, let us define S_{i,j} to be the set of people at the party that either knows both or neither of a_i and a_j. We note that there are \\binom{n}{2} such subsets S_{i,j}. Let us first compute a lower bound for the sum \\sum_{1 \\le i < j \\le n} |S_{i,j}|. For each i, j, k \\in {1, 2, \\dots, n} that satisfy i < j, we note that a_k \\in S_{i,j} if and only if a_k either knows both or neither of a_i and a_j. This implies that the number of sets S_{i,j} for which a_k appears is equal to\n\n\\binom{p(k)}{2} + \\binom{n-1-p(k)}{2} = p(k)^2 - (n-1)p(k) + \\frac{(n-1)(n-2)}{2}\n= \\left(p(k) - \\frac{n-1}{2}\\right)^2 + \\frac{(n-1)(n-3)}{4}\n\\ge \\frac{(n-1)(n-3)}{4}\n> \\frac{n-1}{2} \\left(\\lfloor \\frac{n}{2} \\rfloor - 2\\right).\n\nHence, we have\n\n\\sum_{1 \\le i < j \\le n} |S_{i,j}| = \\sum_{k=1}^n \\left(\\binom{p(k)}{2} + \\binom{n-1-p(k)}{2}\\right) > \\binom{n}{2} \\left(\\lfloor \\frac{n}{2} \\rfloor - 2\\right).\n\nBy (PP), there must exist integers q, r \\in {1, 2, \\dots, n} with q < r such that |S_{q,r}| \\ge \\lfloor \\frac{n}{2} \\rfloor - 1. This implies that the number of people that either knows both or neither of a_q and a_r is equal to \\lfloor \\frac{n}{2} \\rfloor - 1, and we are done.",
    "19": "It suffices to show that for any 6-element subset T of {1, 2, \\dots, 15}, there exist 2 disjoint subsets non-empty B and C of S such that s(B) = s(C).",
    "_source_page": 238
  },
  {
    "20": "Let us denote the elements in the rearranged array by $b_{ij}$, $1 \\le i \\le m$, $1 \\le j \\le n$. Suppose on the contrary that there exists a row in the rearranged array, such that the difference between the maximum and minimum elements in the row exceeds $d$. Then there must exist some row $i$ and columns $j$ and $k$ such that $b_{ij} - b_{ik} > d$. As we have $b_{xj} \\ge b_{ij}$ and $b_{ik} \\ge b_{yk}$ for all $x = 1, \\dots, i$ and $y = i, i + 1, \\dots, m$, this implies that $b_{xj} - b_{yk} \\ge b_{ij} - b_{ik} > d$ for all $x = 1, \\dots, i$ and $y = i, i + 1, \\dots, m$. As we have $|\\{b_{1j}, b_{2j}, \\dots, b_{ij}, b_{ik}, b_{(i+1)k}, \\dots, b_{mk}\\}| = m + 1 > m$, it follows from (PP) that there must exist some $r \\in \\{1, 2, \\dots, i\\}$ and $s \\in \\{i, i + 1, \\dots, m\\}$, such that $b_{rj}$ and $b_{sk}$ are in the same row of the original array, say row $t$. As we have $b_{rj} - b_{sk} > d$, it follows that the difference between the maximum and minimum elements in row $t$ also exceeds $d$, which is a contradiction. So the desired statement holds.",
    "21": "Let $P_1P_2 \\dots P_{10}$ be a regular decagon, and let us consider the diagonals $P_1P_4, P_2P_6$ and $P_3P_9$. Let $A_1$ be the intersection of $P_1P_4$ and $P_2P_6$, $A_2$ be the intersection of $P_1P_4$ and $P_3P_9$ and $A_3$ be the intersection of $P_2P_6$ and $P_3P_9$. Then it is easy to check that no other diagonals in the decagon, apart from $P_1P_4, P_2P_6$ and $P_3P_9$, passes through any of the points $A_1, A_2$ and $A_3$. Now, let the number of times that the signs of all the numbers along a given side or a given diagonal $\\ell$ have changed after $n$ operations be $s(n, \\ell)$. By (PP), it follows that for any positive integer $n$, there must exist two diagonals in $\\{P_1P_4, P_2P_6, P_3P_9\\}$, say $P_1P_4$ and $P_2P_6$, such that $s(n, P_1P_4)$ and $s(n, P_2P_6)$ have the same parity. This implies that the sign of the number at $A_1$ (which is the intersection point of $P_1P_4$ and $P_2P_6$) have been changed an even number of times, so the sign of the number at $A_1$ is positive after $n$ operations. Consequently, this shows that after any number",
    "_source_page": 239
  },
  {
    "22": "Arguing by contradiction, suppose otherwise that no two teams finished with the same amount of points. We note that there are $\\binom{28}{2} = 378$ total matches being played, so there are most $\\lfloor 0.25 \\times 378 \\rfloor = 94$ matches that are not draws. Let the set of teams be $T = \\{t_1, t_2, \\dots, t_{28}\\}$, and for each $i = 1, 2, \\dots, 28$, let $s(i)$ denote the number of points that team $t_i$ has, and let $T_i$ denote the set of matches that team $t_i$ has won. Then we note that $T_i$ and $T_j$ are disjoint for all distinct $i$ and $j$. As at most one team has 27 points, it follows from $(PP)$ that there are at least 14 teams in $T$, say $t_1, t_2, \\dots, t_{14}$, such that we have either $s(i) > 27$ or $s(i) < 27$ for all $i = 1, 2, \\dots, 14$. Without loss of generality, let us assume the former. As $s(1) - 27, s(2) - 27, \\dots, s(14) - 27$ are pairwise distinct positive integers, it follows that we have $\\sum_{i=1}^{14} [s(i) - 27] \\ge \\sum_{i=1}^{14} i = 105$.\nLet us show that for each $i = 1, 2, \\dots, 14$, team $t_i$ has won at least $s(i) - 27$ matches. Suppose on the contrary that team $t_i$ has won at most $s(i) - 28$ matches. Let $w$ and $d$ denote the number of matches that team $t_i$ has won and drawn respectively. It follows that\n\n$s(i) = 2w + d \\le 2w + 27 - w = 27 + w \\le 27 + s(i) - 28 = s(i) - 1$,\n\na contradiction, so team $t_i$ must have won at least $s(i) - 27$ matches. Hence, we have\n\n$\\sum_{i=1}^{14} |T_i| \\ge \\sum_{i=1}^{14} [s(i) - 27] \\ge 105$,\n\nwhich implies that at least 105 matches are not draws, a contradiction. So there were two teams who finished with the same amount of points.",
    "23": "By representing a correct answer with a 1 and a wrong answer with 0, we can represent an answer pattern by a binary sequence of length 15, with the added restriction that none of the 1's are consecutive. Then it follows that there are at most 8 1's in any such sequence. If there are $n$ 1's then they must appear as $n - 1$ (10) blocks and a single 1 in the answer pattern. Now, if there are $n$ 1's in the binary sequence, then there are $16 - n$ slots available for the $n$ 1's. Consequently, this implies that there are $\\binom{16-2n+n}{n} =$",
    "_source_page": 240
  },
  {
    "24": "Firstly, we note that we must have $a_1 \\le 2$; if $a_1 > 2$, then this would imply that $a_i > 2$ for all $i = 1, 2, \\dots, n$, which implies that $a_1 + a_2 + \\dots + a_n > 2n$, a contradiction. Let $S = \\{a_1, a_1 + a_2, \\dots, a_1 + a_2 + \\dots + a_{n-1}, -a_n + a_1\\}$. As $-a_n < 0$, it follows that we have $|S| = n$. Let us consider the following cases:\nCase 1: There exist some $x \\in S$ such that $x \\equiv 0 \\pmod{n}$. If $x = a_1 + a_2 + \\dots + a_m$ for some $m \\in \\{1, 2, \\dots, n - 1\\}$, then we can take $K = \\{1, 2, \\dots, m\\}$, for we must have\n$$0 < a_1 + a_2 + \\dots + a_m < a_1 + a_2 + \\dots + a_n = 2n.$$\nThat is, we have $a_1 + \\dots + a_m = n$.\nElse, we must have $x = a_1 - a_n$. Then we must have $a_n - a_1 = \\ell n$ for some non-negative integer $\\ell$. If $\\ell \\ge 2$, then this would imply that\n$$a_n = \\ell n + a_1 \\ge 2n + a_1 > 2n,$$\nwhich would then imply that $a_1 + a_2 + \\dots + a_n > 2n$, a contradiction. If $\\ell = 1$, then we have $a_n = n + a_1$. As $a_n \\ne n + 1$, we must have $a_1 = 2$ and $a_n = n + 2$. This implies that\n$$a_1 + a_2 + \\dots + a_n = a_1 + a_2 + \\dots + a_{n-1} + n + 2 \\ge n + 2 + 2(n - 1) = 3n,$$\na contradiction. So we must have $\\ell = 0$, and consequently, this implies that $a_i = 2$ for all $i = 1, 2, \\dots, n$. As $n$ is even, we can take $K$ to be the set $\\{1, 2, \\dots, \\frac{n}{2}\\}$.\nCase 2: $x \\not\\equiv 0 \\pmod{n}$ for all $x \\in S$. For each $i = 0, 1, \\dots, n - 1$, let us define $S_i = \\{s \\in S \\mid a \\equiv i \\pmod{n}\\}$. As each element of $S$ is contained in $S_k$ for some $k \\in \\{1, \\dots, n - 1\\}$, it follows from (PP) that there must exist some $j \\in \\{1, \\dots, n - 1\\}$, such that $S_j$ contains at least two (distinct) elements of $S$. Let these two numbers be $x$ and $y$. Without loss of generality, we may assume that $x > y$. Necessarily, $x$ must be of the form $a_1 + a_2 + \\dots + a_m$ for some $m \\in \\{1, 2, \\dots, n - 1\\}$ (since $-a_n + a_1 < 0$). If $y =$",
    "_source_page": 241
  },
  {
    "25": "Let $X = \\{a_1, a_2, \\dots, a_n\\}$ and $C = \\{1, 2, \\dots, p\\}$ Let us first show that $p \\leq n$. Indeed, if $p > n$, then let us colour each subset $A$ of $X$ by colour $|A| + 1$, so that each subset of $X$ is coloured from the set $\\{1, 2, \\dots, n + 1\\}$. it is easy to see that for any distinct subsets $B$ and $C$ of $X$, at least two of the sets $B$, $C$, $B \\cup C$ and $B \\cap C$ must have distinct colours. If not, then we must have $|C| = |B \\cup C| = |B \\cap C|$. The first equality would imply that $C = B \\cup C$, while the second equality would imply that $C = B \\cap C$. Consequently, this would imply that $B = C$, which is a contradiction.\nNext, let us show that $p = n$. Let us take any arbitrary colouring of the subsets of $X$ with $n$ colours $\\{1, 2, \\dots, n\\}$. If there exist any non-empty subset $A$ of $X$ that is coloured with the same colour as that of the empty set",
    "_source_page": 242
  },
  {
    "26": "Let $A$ denote the set of $q$-tuples $(y_1, \\dots, y_q)$ that satisfy $|y_i| \\le p$ for all $i = 1, \\dots, q$. Furthermore, let us define $f_k(y) = a_{k1}y_1 + \\dots + a_{kq}y_q$ for all $k = 1, \\dots, p$ and $q$-tuples $y = (y_1, \\dots, y_q)$ of integers, and let us define $S$ to be the set of $p$-tuples of the form $(f_1(y), \\dots, f_p(y))$ for some $y \\in A$. We first note that $|A| = (2p + 1)^q$. Furthermore, for each $k = 1, \\dots, p$ and $y = (y_1, \\dots, y_q) \\in A$, we have\\n\\n$|f_k(y)| = |a_{k1}y_1 + a_{k2}y_2 + \\dots + a_{kq}y_q|$\\n$\\le |a_{k1}y_1| + |a_{k2}y_2| + \\dots + |a_{kq}y_q|$\\n$\\le |y_1| + |y_2| + \\dots + |y_q|$\\n$\\le pq$.\\n\\nThis implies that $|S| \\le (2pq + 1)^p$. Now, we observe that\\n\\n$|A| = (2p + 1)^q$\\n$= (2p + 1)^{2p}$\\n$= (4p^2 + 4p + 1)^p$\\n$\\ge (4p^2 + 1)^p$\\n$\\ge (2pq + 1)^p$\\n$\\ge |S|$.\\n\\nBy (PP), there must exist distinct $y = (y_1, \\dots, y_q), y' = (y_1', \\dots, y_q') \\in A$ such that $(f_1(y), \\dots, f_p(y)) = (f_1(y'), \\dots, f_p(y'))$. By setting $x_i = y_i - y_i'$ for all $i \\in \\{1, \\dots, q\\}$ and setting $x = (x_1, \\dots, x_q)$, it is easy to see that $x_i$ is an integer, and",
    "_source_page": 243
  },
  {
    "27": "Let the countries be $C_1, C_2, C_3, C_4, C_5, C_6$. As $1978 > 1974 = 6 \\times 329$, it follows from (PP) that there are at least 330 members that come from the same country, say $C_1$. Let their numbers be $a_1, a_2, \\dots, a_{330}$, and without loss of generality, let us also assume that $a_1 < a_2 < \\dots < a_{330}$. Let us consider the differences $a_2 - a_1, a_3 - a_1, \\dots, a_{330} - a_1$. If there are any members from country $C_1$ whose number is of the form $a_i - a_1$ for some $i \\in \\{2, 3, \\dots, 330\\}$, then we are done. Else, all members whose number is of the form $a_i - a_1$ for some $i \\in \\{2, 3, \\dots, 330\\}$ must come from countries $C_2, C_3, C_4, C_5, C_6$.\\nAs $329 > 325 = 5 \\times 65$, it follows from (PP) that there are at least 66 members whose number is of the form $a_i - a_1$ for some $i \\in \\{2, 3, \\dots, 330\\}$ and come from the same country, say $C_2$. Let their numbers be $b_1, b_2, \\dots, b_{66}$, and without loss of generality, let us also assume that $b_1 < b_2 < \\dots < b_{66}$. Let us consider the differences $b_2 - b_1, b_3 - b_1, \\dots, b_{66} - b_1$. If there are any members from country $C_2$ whose number is of the form $b_i - b_1$ for some $i \\in \\{2, 3, \\dots, 66\\}$, then we are done. If there are any members from country $C_1$ whose number is of the form $b_i - b_1$ for some $i \\in \\{2, 3, .. , 66\\}$, then we are also done. To see this, we note that $b_i - b_1 = (a_m - a_1) - (a_n - a_1) = a_m - a_n$ for some distinct $m, n$ with $1 \\le m, n \\le 330$. Now $a_m - a_n, a_n, a_m \\in C_1$ with $(a_m - a_n) + a_n = a_m$. We note that if $a_m - a_n = a_n$, then $a_m$ is twice $a_n$ and the result holds. Else, all members whose number is of the form $b_i - b_1$ for some $i \\in \\{2, 3, \\dots, 66\\}$ must come from countries $C_3, C_4, C_5, C_6$.\\nAs $65 > 64 = 4 \\times 16$, it follows from (PP) that there are at least 17 members whose number is of the form $b_i - b_1$ for some $i \\in \\{2, 3, \\dots, 66\\}$ and come from the same country, say $C_3$. Let their numbers be $c_1, c_2, \\dots,$",
    "_source_page": 244
  },
  {
    "28": "Let $(a_i)_{i=1}^{R(p,q)}$ be any sequence of $R(p, q)$ distinct integers, and let $\\{v_1, v_2, \\dots, v_{R(p,q)}\\}$ be the set of vertices of the $R(p, q)$-clique $K_{R(p,q)}$. For each pair of integers $i, j \\in \\{1, 2, \\dots, R(p, q)\\}$ satisfying $i < j$, let us colour the edge $v_i v_j$ blue if $a_i < a_j$ and red otherwise. By the definition of $R(p, q)$, there exists",
    "_source_page": 245
  },
  {
    "29": "Let $(a_i)_{i=1}^{pq+1}$ be any sequence of $pq + 1$ distinct integers, and let us define $\\ell((a_{i_j})_{j=1}^m) = m$ for all subsequences $(a_{i_j})_{j=1}^m$ of $(a_i)_{i=1}^{pq+1}$. Furthermore, for each $k = 1, 2, \\dots, pq + 1$, let us define $A_k$ to be the set of increasing subsequences $(a_{i_j})_{j=1}^m$ of $(a_i)_{i=1}^{pq+1}$, such that $a_{i_1} = a_k$, and let us define $n(k) = \\max_{(a_{i_j})_{j=1}^m \\in A_k} \\ell((a_{i_j})_{j=1}^m)$. That is, $n(k)$ is the length of the longest increasing subsequence starting with $a_k$. By definition, we must have $n(k) \\ge 1$ for all $k = 1, 2, \\dots, pq + 1$. If there exists some $k \\in \\{1, 2, \\dots, pq + 1\\}$ for which $n(k) \\ge p + 1$, then by the definition of $n(k)$, this would imply that there exists an increasing subsequence of $p + 1$ terms. Henceforth, let us assume that $1 \\le n(k) \\le p$ for all $k = 1, 2, \\dots, pq + 1$. By (PP), there exist some $r \\in \\{1, \\dots, p\\}$, such that $|\\{k \\mid n(k) = r\\}| \\ge q + 1$. Let $k_1, k_2, \\dots, k_{q+1}$ be integers in $\\{1, 2, \\dots, pq + 1\\}$ satisfying $n(k_i) = r$ for all $i = 1, 2, \\dots, q + 1$ and $k_1 < k_2 < \\dots < k_{q+1}$. Let us show that for all integers $i, j \\in \\{1, 2, \\dots, q + 1\\}$ satisfying $i < j$, we have $a_{k_i} > a_{k_j}$. If there exist some pair of integers $s, t \\in \\{1, 2, \\dots, q + 1\\}$ satisfying $s < t$ and $a_{k_s} < a_{k_t}$, then let $(a_{i_j})_{j=1}^{n(k_t)}$ be an increasing subsequence of $(a_i)_{i=1}^{pq+1}$, such that $a_{i_1} = a_{k_t}$ (which exists by the definition of $n(k_t)$). Then it is easy to check that $(a_{k_s}, a_{i_1}, a_{i_2}, \\dots, a_{i_{n(k_t)}})$ is an increasing subsequence consisting of $n(k_t) + 1$ terms, so this implies that $n(k_s) \\ge n(k_t) + 1 = r + 1$, a contradiction. Hence, we have $a_{k_i} > a_{k_j}$ for all integers $i, j \\in \\{1, 2, \\dots, q + 1\\}$ satisfying $i < j$. This implies that there exists a decreasing subsequence of $q + 1$ terms, and we are done.",
    "30": "(a) Let us take any 2-colouring, red and blue, of the edges of the $R(q, p)$-clique, and obtain a new 2-colouring of the edges of the $R(q, p)$-clique by swapping the colours of each of the edges in the old 2-colouring of the edges of the $R(q, p)$-clique. By the definition of $R(q, p)$, there exists a blue $q$-clique or a red $p$-clique in the new 2-colouring of the edges of the $R(q, p)$-clique. This implies that there exists a red $q$-clique or a blue $p$-clique in the original 2-colouring of the edges of the $R(q, p)$-clique.",
    "_source_page": 246
  },
  {
    "31": "(i) Let us take any 2-colouring of the $R(p, q)$-clique. Then there exists a blue $p$-clique or a red $q$-clique in the 2-colouring of the edges of the $R(p, q)$-clique. This implies that there exists a blue $p'$-clique or a red $q'$-clique in the 2-colouring of the edges of the $R(p, q)$-clique. By the definition of $R(p', q')$, we must have $R(p', q') \\le R(p, q)$.\n(ii) Consider any 2-colouring of the edges of the $(R(p, q) - 1)$-clique. Let us add a vertex $v$ to the vertex set of the $(R(p, q) - 1)$-clique, add edges connecting $v$ to the vertices of the $(R(p, q) - 1)$-clique to obtain an $R(p, q)$-clique, and colour these new edges blue to obtain a 2-colouring of the edges of the newly formed $R(p, q)$-clique. Now, if the 2-colouring of the edges of the $R(p, q)$-clique contains a red $q$-clique, then this would imply that the 2-colouring of the edges of a $(R(p, q) - 1)$-clique must contain a red $q$-clique. Else, the 2-colouring of the edges of the $R(p, q)$-clique must contain a blue $p$-clique. If the vertex set of the blue $p$-clique does not contain $v$, then this would imply that the 2-colouring of the edges of a $(R(p, q) - 1)$-clique must contain a blue $p$-clique (and hence a blue $(p - 1)$-clique). Else, this would imply that the 2-colouring of the edges of the $R(p, q)$-clique must contain a blue $(p - 1)$-clique whose vertex set does not contain $v$, and consequently, the 2-colouring of the edges of a $(R(p, q) - 1)$-clique must contain a blue $(p - 1)$-clique. So we must have $R(p - 1, q) \\le R(p, q) - 1$ as desired.\n(iii) Clearly, if $p' = p$ and $q' = q$, then we must have $R(p', q') = R(p, q)$. Conversely, suppose we have $p' \\neq p$ or $q' \\neq q$. Then we must have $p' < p$ or $q' < q$. If we have $p' < p$, then we have by part (ii) that\n\n$R(p', m) \\le R(p' + 1, m) - 1 \\le \\dots \\le R(p, m) - (p - p') < R(p, m)$",
    "_source_page": 247
  },
  {
    "32": "We shall prove by induction on all integers $n \\ge 2$ that for all positive integers $p, q$ that satisfy $p + q = n$, we have $R(p, q) \\le \\binom{p+q-2}{p-1}$, with the base case $n = 2$ being trivial. Suppose that we have $R(p, q) \\le \\binom{p+q-2}{p-1}$ for all positive integers $p, q$ that satisfy $p + q = k$ for some positive integer $k \\ge 2$. Now, let us take any pair of positive integers $a, b$ that satisfy $a + b = k + 1$. If we have $a = 1$ or $a = 2$, then we are done; indeed, we have\n\n$R(1, b) = 1 = \\binom{b-1}{0} = \\binom{a+b-2}{a-1}$, and\n$R(2, b) = b = \\binom{b}{1} = \\binom{a+b-2}{a-1}$.\n\nLikewise, we are also done if we have $b = 1$ or $b = 2$. So let us assume that $a, b \\ge 3$. Then by Theorem 3.5.1 and induction hypothesis, we have\n\n$R(a, b) \\le R(a-1, b) + R(a, b-1)$\n$\\le \\binom{a+b-3}{a-2} + \\binom{a+b-3}{a-1}$\n$= \\binom{a+b-2}{a-1}$,\n\nwhere the last equality holds from identity (2.1.2). This completes the induction step, and we are done.",
    "33": "We shall prove by induction that $R(3, q) \\le \\frac{1}{2}(q^2 + 3)$ for all positive integers $q$, with the base case $q = 1$ being trivial. Suppose that the inequality holds for some positive integer $k$. By induction hypothesis, we have $R(3, k) \\le \\frac{1}{2}(k^2 + 3)$. Let us consider these cases:\nCase 1: $k$ is even. Then $\\frac{1}{2}(k^2 + 2)$ is an integer. As $R(3, k)$ is an integer, we must have $R(3, k) \\le \\frac{1}{2}(k^2 + 2)$. By Theorem 3.5.1, we have\n\n$R(3, k+1) \\le R(2, k+1) + R(3, k) \\le (k+1) + \\frac{1}{2}(k^2 + 2) \\le \\frac{1}{2}((k+1)^2 + 3)$.",
    "_source_page": 248
  },
  {
    "34": "By Problem 3.33, we have $R(3, 5) \\le \\frac{1}{2}(5^2 + 3) = 14$. Next, let us show that $R(3, 5) > 13$. To this end, let the vertex set of the 13-clique be $\\{v_0, v_1, \\dots, v_{12}\\}$, and let us colour the edge $v_iv_j$ of the 13-clique blue if $|i - j| = 1, 5, 8, 12$, and red otherwise. Then it is easy to see that the 2-colouring of the edges of the 13-clique do not contain any blue 3-clique. It remains to show that this colouring does not contain any red 5-clique as well.\\nTo this end, let us take any 5-element subset $X$ of the vertex set $\\{v_0, v_1, \\dots, v_{12}\\}$, and consider the clique induced by $X$. Let us show that the clique induced by $X$ contains at least one blue edge. By symmetry, we may assume without loss of generality that $v_0 \\in X$. If any of $v_1, v_5, v_8, v_{12}$ is in $X$, we are done, since $v_0v_1, v_0v_5, v_0v_8$ and $v_0v_{12}$ are all blue edges. So let us assume that $X \\setminus \\{v_0\\} \\subseteq \\{v_2, v_3, v_4, v_6, v_7, v_9, v_{10}, v_{11}\\}$. Let us define $A_1 = \\{v_2, v_3, v_4\\}$, $A_2 = \\{v_6, v_7\\}$ and $A_3 = \\{v_9, v_{10}, v_{11}\\}$. By (PP), at least two of the vertices in $X \\setminus \\{v_0\\}$ must be in the same set $A_i$ for some $i = 1, 2, 3$. Let these two vertices be $v_k$ and $v_m$. If $|k - m| = 1$ then we are done, since $v_kv_m$ is a blue edge. So we must have either $\\{v_k, v_m\\} = \\{v_2, v_4\\}$ or $\\{v_k, v_m\\} = \\{v_9, v_{11}\\}$. By symmetry, it suffices to consider the case where $\\{v_k, v_m\\} = \\{v_2,",
    "_source_page": 249
  },
  {
    "35": "(a) By Problem 3.33, we have $R(3, 4) \\le \\frac{1}{2}(4^2 + 3) = 9\\frac{1}{2}$. So $R(3, 4) \\le 9$ as it is an integer. By Theorem 3.5.1, we have\n\n$R(4,4) \\le R(3, 4) + R(4, 3) = 2R(3, 4) \\le 2 \\times 9 = 18$ (from above)\n\nas desired.\n(b) By Problem 3.33, we have $R(3, 6) \\le \\frac{1}{2}(6^2 + 3) = \\frac{39}{2}$. As $R(3, 6)$ is an integer, we must have $R(3, 6) \\le \\lfloor \\frac{39}{2} \\rfloor = 19$ as desired.",
    "36": "(a) As a 1-clique is vacuously defined to be of all colours, it follows that\n\n$R(p_1, p_2, \\dots, p_k) = 1$\n\nif $p_i = 1$ for some $i \\in \\{1, 2, \\dots, k\\}$.\n(b) Let the permissible colours be $\\{c_1, c_2, \\dots, c_n\\}$. Firstly, let us colour each of the edges of the $(p - 1)$-clique with $c_1$. Then it is easy to check that the $n$-colouring does not contain any $c_1$ $p$-clique, and it does not contain any $c_i$ 2-clique for all $i \\in \\{2, 3, \\dots, n\\}$. So we must have $R(p, 2, \\dots, 2) \\ge p$. Next, let us colour each of the edges of the $p$-clique with any of the possible colours in $\\{c_1, c_2, \\dots, c_n\\}$. If all of the edges of the $p$-clique are coloured with $c_1$, then we must have a $c_1$ $p$-clique. Else, one of the edges must be coloured with $c_i$ for some $i \\in \\{2, 3, \\dots, n\\}$. Then we have a $c_i$ 2-clique. So we have $R(p, 2, \\dots, 2) \\le p$ and hence $R(p, 2, \\dots, 2) = p$ as desired.",
    "37": "Consider any colouring of the edges of the $R(p_1, p_2, \\dots, p_k)$-clique with colours $c_1, c_2, \\dots, c_{k+1}$. If there are any edges coloured $c_{k+1}$ then we immediately have a $c_{k+1}$ 2-clique. Else, each of the edges of the $R(p_1, p_2, \\dots, p_k)$-clique must be coloured with $c_1, c_2, \\dots, c_k$. By definition, there must exist some $c_j$ $p_j$-clique for some $j \\in \\{1, 2, \\dots, k\\}$. So we must have $R(p_1, p_2, \\dots, p_k, 2) \\le R(p_1, p_2, \\dots, p_k)$. Conversely, consider any colouring of the edges of the $R(p_1, p_2, \\dots, p_k, 2)$-clique with colours $c_1, c_2,$",
    "_source_page": 250
  },
  {
    "38": "For each $i = 1, \\dots, k$, we let $R_i = R(p_1, \\dots, p_{i-1}, p_i - 1, p_{i+1}, \\dots, p_k)$. Let $n = \\sum_{i=1}^k R_i - (k - 2) = \\sum_{i=1}^k (R_i - 1) + 2$. Let a colouring of the edges of the $n$-clique with colours $c_1, c_2, \\dots, c_k$ be given. In order to show that $R(p_1, p_2, \\dots, p_k) \\le n$, it suffices to find a $p_i$-clique of colour $c_i$ for some $i \\in \\{1, 2, \\dots, k\\}$. To this end, let us take any vertex $v$ of the vertex set of the $n$-clique. We note that $v$ is incident to $n - 1 = \\sum_{i=1}^k (R_i - 1) + 1$ edges in the $n$-clique. By (GPP), there exists some $j \\in \\{1, 2, \\dots, k\\}$ such that at least $R_j$ of the $n - 1$ edges are coloured $c_j$. Let $X$ be the set of vertices $u$ for which $uv$ is of colour $c_j$. Now, by the definition of $R_j$, there exists either a $(p_j - 1)$-clique of colour $c_j$, or a $p_m$-clique of colour $c_m$ for some $m \\in \\{1, 2, \\dots, k\\} \\setminus \\{j\\}$. If the latter case occurs then we are done. Else, suppose that we have a $(p_j - 1)$-clique of colour $c_j$. Then it is easy to see that all of the edges of the clique induced by the vertex set $X \\cup \\{v\\}$ is of colour $c_j$, and we thereby obtain a $p_j$-clique of colour $c_j$. So we are done.",
    "39": "We shall prove by induction on all integers $p \\ge 0$ that for all non-negative integers $p_1, \\dots, p_k$ that satisfy $p = p_1 + \\dots + p_k$, we have $R(p_1 + 1, p_2 + 1, \\dots, p_k + 1) \\le \\frac{p!}{p_1! p_2! \\dots p_k!}$. We note that $k \\ge 2$. The base cases $p = 0$ and $1$ are clear. Suppose that we have\\n\\n$$R(p_1 + 1, p_2 + 1, \\dots, p_k + 1) \\le \\frac{p!}{p_1! p_2! \\dots p_k!}$$\\n\\nfor all non-negative integers $p_1, p_2, \\dots, p_k$ that satisfy $p = \\sum_{i=1}^k p_i$ for some non-negative integer $p$. Now, let us take any $k$-tuple of non-negative integers $(q_1, \\dots, q_k)$ that satisfy $p + 1 = \\sum_{i=1}^k q_i$. If there exists some $j \\in \\{1, 2, \\dots, k\\}$ for which $q_j = 0$, then we are done; indeed, we have $1 = R(q_1 + 1, q_2 + 1, \\dots, 1, \\dots, q_k + 1) \\le \\frac{(p+1)!}{q_1! q_2! \\dots q_k!}$. So let us assume that $q_i > 0$ for all $i$",
    "_source_page": 251
  },
  {
    "40": "(a) (i) Let $n = k(R_{k-1} - 1) + 2$. Let us take any colouring of the edges of the $n$-clique with colours $c_1, c_2, \\dots, c_k$. In order to show that $R_k \\le n$, it suffices to find a 3-clique of colour $c_i$ for some $i \\in \\{1, 2, \\dots, k\\}$. To this end, let us take any vertex $v$ of the vertex set of the $n$-clique. We note that $v$ is incident to $n - 1 = k(R_{k-1} - 1) + 1$ edges in the $n$-clique. By (GPP), there exists some $j \\in \\{1, 2, \\dots, k\\}$ such that at least $R_{k-1}$ of the $n - 1$ edges are coloured $c_j$. Let $X$ be the set of vertices $u$ for which $uv$ is of colour $c_j$. Now, if there exist distinct vertices $w, x \\in X$ such that $wx$ is of colour $c_j$, then the 3-clique induced by the vertices $v, w$ and $x$ is of colour $c_j$. Else, each of the edges of the $R_{k-1}$-clique induced by $X$ must be coloured by the colours $c_1, \\dots, c_{j-1}, c_{j+1}, \\dots, c_k$. By the definition of $R_{k-1}$, there exists 3 vertices $v_1, v_2, v_3 \\in X$, such that 3-clique induced by the vertices $v_1, v_2$ and $v_3$ is of colour $c_i$ for some $i \\in \\{1, 2, \\dots, k\\} \\setminus \\{j\\}$. So we are done.\\n(ii) We shall prove by induction on $k$ that we have $R_k \\le \\lfloor k!e \\rfloor + 1$ for all positive integers $k \\ge 2$, with the base case $k = 2$ being trivial. Suppose that the inequality $R_n \\le \\lfloor n!e \\rfloor + 1$ hold for some positive integer $n \\ge 2$. This implies that",
    "_source_page": 252
  },
  {
    "_source_page": 253
  },
  {
    "41": "Let the vertex set of the $n$-clique be $\\{v_1, v_2, \\dots, v_n\\}$, and let us consider a colouring of the $n$-clique by the colours $c_1, c_2, \\dots, c_k$ by colouring the edge $v_i v_j$ of the $n$-clique $c_m$ if $|i - j| \\in S_m$. By the definition of $n$, there exist some $i \\in \\{1, 2, \\dots, k\\}$ and integers $p, q, r \\in \\{1, 2, \\dots, n\\}$, such that the clique induced by the vertices $v_p, v_q$ and $v_r$ is of colour $c_i$. Without loss of generality, let us assume that $p > q > r$. Then we have $p - q = |p - q| \\in S_i, q - r = |q - r| \\in S_i$ and $p - r = |p - r| \\in S_i$. The desired follows by taking $a = p - q, b = q - r$ and $c = p - r$.",
    "42": "(i) By Problem 3.37, we have $R(3, 3, 2) = R(3, 3) = 6$.\\n(ii) By Problem 3.40(i), we have\\n\\n$$R(3, 3, 3) \\le 3(R(3, 3) - 1) + 2 = 3(6 - 1) + 2 = 17.$$",
    "43": "(a) Let us take any colouring of the edges of the 6-clique by two colours: blue or red, and count the maximum possible number of non-monochromatic 3-cliques. To this end, let us denote the vertex set and edge set of the 6-clique by $V$ and $E$ respectively, and count the maximum possible number of triples $(v_1, v_2, v_3)$ of distinct vertices of the 6-clique, such that the edges $v_1 v_2$ and $v_2 v_3$ are of different colours. For each edge $e \\in E$, let us define $c(e) = 0$ if $e$ is blue, and 1 if $e$ is red. Furthermore, let us define\\n\\n$$S = \\{(v_1, v_2, v_3) \\mid v_1, v_2, v_3 \\in V, \\text{ and } c(v_1 v_2) = 0, c(v_2 v_3) = 1\\},$$\\n\\nand $S_v = \\{(v_1, v_2, v_3) \\in S \\mid v_2 = v\\}$ for each $v \\in V$. We note that each non-monochromatic 3-clique correspond to exactly two of these triples in $S$. For any vertex $v$, let the number of blue edges incident to it be $k$. Then the number of red edges incident to it is equal to $5 - k$. Consequently, we must have $|S_v| = k(5 - k)$. Now, we note that $k(5 - k) = \\frac{25}{4} - (k - \\frac{5}{2})^2 \\le \\frac{25}{4}$. This implies that $|S_v| \\le \\lfloor \\frac{25}{4} \\rfloor = 6$, and hence we have $|S| = \\sum_{v \\in V} |S_v| \\le 6|V| = 36$. Consequently, there are at most $\\frac{36}{2} = 18$ non-monochromatic 3-cliques. Hence, there are at least $\\binom{6}{3} - 18 = 2$ monochromatic 3-cliques.\\n(b) Let us denote the vertex set of the 6-clique by $\\{v_1, v_2, v_3, v_4, v_5, v_6\\}$,",
    "_source_page": 254
  },
  {
    "44": "Let us take any colouring of the edges of the 7-clique by two colours: blue\\nor red, and count the maximum possible number of non-monochromatic 3-\\ncliques. To this end, let us denote the vertex set and edge set of the 7-clique\\nby $V$ and $E$ respectively, and count the maximum possible number of\\ntriples $(v_1, v_2, v_3)$ of distinct vertices of the 7-clique, such that the edges\\n$v_1 v_2$ and $v_2 v_3$ are of different colours. For each edge $e \\in E$, let us define\\n$c(e) = 0$ if $e$ is blue, and 1 if $e$ is red. Furthermore, let us define $S = \\{(v_1, v_2,$\\n$v_3) \\mid v_1, v_2, v_3 \\in V, \\text{ and } c(v_1 v_2) = 0, c(v_2 v_3) = 1\\}$, and $S_v = \\{(v_1, v_2, v_3) \\in S \\mid$\\n$v_2 = v\\}$ for each $v \\in V$. We note that each non-monochromatic 3-clique\\ncorrespond to exactly two of these triples in $S$. For any vertex $v$, let the\\nnumber of blue edges incident to it be $k$. Then the number of red edges\\nincident to it is equal to $6 - k$. Consequently, we have $S_v = k(6 - k)$. Now,\\nwe have $k(6 - k) = 9 - (k - 3)^2 \\le 9$. This implies that $|S_v| \\le 9$, and hence we\\nhave $|S| \\le 9|V| = 63$. Consequently, there are at most $\\lfloor \\frac{63}{2} \\rfloor = 31$ non-\\nmonochromatic 3-cliques. Hence, there are at least $\\binom{7}{3} - 31 = 4$\\nmonochromatic 3-cliques.",
    "45": "Let us take any colouring of the edges of the $n$-clique by two colours: blue\\nor red, and count the maximum possible number of non-monochromatic 3-\\ncliques. To this end, let us denote the vertex set and edge set of the $n$-clique\\nby $V$ and $E$ respectively, and count the maximum possible number of\\ntriples $(v_1, v_2, v_3)$ of distinct vertices of the $n$-clique, such that the edges\\n$v_1 v_2$ and $v_2 v_3$ are of different colours. For each edge $e \\in E$, let us define\\n$c(e) = 0$ if $e$ is blue, and 1 if $e$ is red. Furthermore, let us define $S = \\{(v_1, v_2,$\\n$v_3) \\mid v_1, v_2, v_3 \\in V, \\text{ and } c(v_1 v_2) = 0, c(v_2 v_3) = 1\\}$, and $S_v = \\{(v_1, v_2, v_3) \\in S \\mid$\\n$v_2 = v\\}$ for each $v \\in V$. We note that each non-monochromatic 3-clique\\ncorrespond to exactly two of these triples in $S$. For any vertex $v$, let the",
    "_source_page": 255
  },
  {
    "_source_page": 256
  },
  {
    "46": "Firstly, from the example following Theorem 3.5.2, we note that $R(3, 4) = 9$. This implies that the colouring stated in the problem defines a 2-colouring of the edges of an $R(3, 4)$-clique. By assumption, there are no blue 3-cliques in the 2-colouring of the edges of the $R(3, 4)$-clique (since each of the triangle determined by 3 of the 9 points contains at least one red side), so there must exist a red 4-clique in the 2-colouring of the edges of the $R(3, 4)$-clique. This implies that there are four points such that the $6(= \\binom{4}{2})$ segments connecting them are red, and we are done.",
    "_source_page": 257
  },
  {
    "exercise": 4,
    "1": "Let $C, E$ and $M$ be the set of students who passed Chinese, English, and Mathematics respectively. By (4.2.1), we have\n\n$|C \\cap E \\cap M|$\n$= |C \\cup E \\cup M| + |C \\cap E| + |C \\cap M| + |E \\cap M| - |C| - |E| - |M|$\n$\\le 102 + 65 + 54 + 48 - 92 - 75 - 63$\n$= 39$.\n\nSo the largest possible number of students that could have passed all three subjects is 39.",
    "2": "(a) (i) By (4.1.1), we have\n\n$|B| = |(A \\cup \\bar{A}) \\cap B|$\n$= |(A \\cap B) \\cup (\\bar{A} \\cap B)|$\n$= |A \\cap B| + |\\bar{A} \\cap B| - |(A \\cap B) \\cap (\\bar{A} \\cap B)|$\n$= |A \\cap B| + |\\bar{A} \\cap B|$.\n\nHence, we have $|\\bar{A} \\cap B| = |B| - |A \\cap B|$ as desired.\n(ii) By part (i), we have\n\n$|\\bar{A} \\cap \\bar{B} \\cap C| = |\\bar{B} \\cap C| - |A \\cap \\bar{B} \\cap C|$\n$= |C| - |B \\cap C| - |\\bar{B} \\cap A \\cap C|$\n$= |C| - |B \\cap C| - (|A \\cap C| - |B \\cap A \\cap C|)$\n$= |C| - |A \\cap C| - |B \\cap C| + |A \\cap B \\cap C|$.\n\n(b) Let us denote the set $\\{1, 2, \\dots, 10^3\\}$ by $S$, and for each positive integer $k$, let us define $B_k = \\{x \\in S \\mid k \\text{ divides } x\\}$. Then we have",
    "_source_page": 258
  },
  {
    "3": "Let S = {1, 2, . . . , 120}, and for each k = 2, 3, 5, 7, let P_k denote the property of being divisible by k for the elements of S. Then we have\\n\\omega(P_2) = \\left\\lfloor \\frac{120}{2} \\right\\rfloor = 60,\\n\\omega(P_3) = \\left\\lfloor \\frac{120}{3} \\right\\rfloor = 40,\\n\\omega(P_5) = \\left\\lfloor \\frac{120}{5} \\right\\rfloor = 24,\\n\\omega(P_7) = \\left\\lfloor \\frac{120}{7} \\right\\rfloor = 17.\\nThis implies that \\omega(1) = 60 + 40 + 24 + 17 = 141. Next, we have",
    "_source_page": 259
  },
  {
    "_source_page": 260
  },
  {
    "4": "For each positive integer k, let us denote the set of divisors of k by A_k. We first observe that we have A_m \\cap A_n = A_{(m,n)} for all positive integers m and n, where (m, n) denotes the greatest common divisor of m and n. Also, we have 10^{40} = 2^{40}5^{40} and 20^{30} = 4^{30}5^{30} = 2^{60}5^{30}. This implies that |A_{10^{40}}| = 41 \\times 41 = 1681, |A_{20^{30}}| = 61 \\times 31 = 1891 and |A_{10^{40}} \\cap A_{20^{30}}| = |A_{2^{40}5^{30}}| = 41 \\times 31 = 1271. By (4.1.1), the number of positive integers n such that n is a divisor of at least one of the numbers 10^{40}, 20^{30} is equal to",
    "_source_page": 261
  },
  {
    "5": "For each positive integer $k$, let us denote the set of divisors of $k$ by $A_k$. We have $10^{60} = 2^{60}5^{60}$, $20^{50} = 4^{50}5^{50} = 2^{100}5^{50}$ and $30^{40} = 2^{40}3^{40}5^{40}$. This implies that\\n$|A_{10^{60}}| = 61 \\times 61 = 3721,$\\n$|A_{20^{50}}| = 101 \\times 51 = 5151,$\\n$|A_{30^{40}}| = 41 \\times 41 \\times 41 = 68921,$\\n$|A_{10^{60}} \\cap A_{20^{50}}| = |A_{2^{60}5^{50}}| = 61 \\times 51 = 3111,$\\n$|A_{10^{60}} \\cap A_{30^{40}}| = |A_{2^{40}5^{40}}| = 41 \\times 41 = 1681,$\\n$|A_{20^{50}} \\cap A_{30^{40}}| = |A_{2^{40}5^{40}}| = 41 \\times 41 = 1681,$\\n$|A_{10^{60}} \\cap A_{20^{50}} \\cap A_{30^{40}}| = |A_{2^{40}5^{40}}| = 41 \\times 41 = 1681.$\\nBy (4.2.1), the number of positive integers $n$ such that $n$ is a divisor of at least one of the numbers $10^{60}, 20^{50}, 30^{40}$ is equal to\\n$|A_{10^{60}} \\cup A_{20^{50}} \\cup A_{30^{40}}|$\\n$= |A_{10^{60}}| + |A_{20^{50}}| + |A_{30^{40}}|$\\n$- (|A_{10^{60}} \\cap A_{20^{50}}| + |A_{10^{60}} \\cap A_{30^{40}}| + |A_{20^{50}} \\cap A_{30^{40}}|)$\\n$+ |A_{10^{60}} \\cap A_{20^{50}} \\cap A_{30^{40}}|$\\n$= 3721 + 5151 + 68921 - (3111 + 1681 + 1681) + 1681$\\n$= 73001.$",
    "6": "(i) Firstly, we note that $21^3 < 10^4 < 22^3$ and $4^6 < 10^4 < 5^6$. Let $S = \\{1, \\dots, 10^4\\}$, and for $k = 2, 3, 6$, let $P_k$ denote the property of being of the form $m^k$ for some positive integer $m$ for the elements of $S$. This implies that $\\omega(P_2) = 100$, $\\omega(P_3) = 21$ and $\\omega(P_2P_3) = \\omega(P_6) = 4$. Hence, the number of integers in $S$ that are not of the form $n^2$ or $n^3$, where $n$ is an integer, is equal to\\n$E(0) = \\omega(0) - \\omega(1) + \\omega(2) = 10000 - (100 + 21) + 4 = 9883.$\\n(ii) Firstly, we note that $31^2 < 10^3 < 32^2, 21^3 < 10^4 < 22^3, 3^6 < 10^3 < 4^6$ and $4^6 < 10^4 < 5^6$. Let $S = \\{10^3, \\dots, 10^4\\}$, and for $k = 2, 3, 6$, let $P_k$",
    "_source_page": 262
  },
  {
    "7": "(i) Let us prove by induction on $q$ that we have\n\n$|A_1 \\cup A_2 \\cup \\dots \\cup A_q|$\n$= \\sum_{i=1}^q |A_i| - \\sum_{i<j} |A_i \\cap A_j| + \\sum_{i<j<k} |A_i \\cap A_j \\cap A_k|$\n$- \\dots + (-1)^{q+1} |A_1 \\cap A_2 \\cap \\dots \\cap A_q|$,\n\nfor any finite sets $A_1, A_2, \\dots, A_q$ and positive integer $q \\ge 2$, with the base case $q = 2$ being trivial. Suppose that the identity holds for some positive integer $q = m \\ge 2$, and finite sets $A_1, A_2, \\dots, A_m$. Let $B_1, B_2, \\dots, B_{m+1}$ be finite sets. By induction hypothesis, we have\n\n$|B_1 \\cup B_2 \\cup \\dots \\cup B_{m+1}|$\n$= |(B_1 \\cup B_2 \\cup \\dots \\cup B_m) \\cup B_{m+1}|$\n$= |B_1 \\cup B_2 \\cup \\dots \\cup B_m| + |B_{m+1}|$\n$- |(B_1 \\cup B_2 \\cup \\dots \\cup B_m) \\cap B_{m+1}|$\n$= |B_1 \\cup B_2 \\cup \\dots \\cup B_m| + |B_{m+1}|$\n$- |(B_1 \\cap B_{m+1}) \\cup \\dots \\cup (B_m \\cap B_{m+1})|$.\n\nBy induction hypothesis once more, we have\n\n$|B_1 \\cup B_2 \\cup \\dots \\cup B_m|$\n$= \\sum_{i=1}^m |B_i| - \\sum_{i<j \\le m} |B_i \\cap B_j| + \\sum_{i<j<k \\le m} |B_i \\cap B_j \\cap B_k|$\n$- \\dots + (-1)^{m+1} |B_1 \\cap B_2 \\cap \\dots \\cap B_m|$.\n\nAt the same time, we also have",
    "_source_page": 263
  },
  {
    "8": "Let $S = \\{1000, 1001, \\dots, 3000\\}$. For $k = 4, 100, 400$, let us define $S_k = \\{x \\in S \\mid k \\text{ divides } x\\}$. We note that $S_{400} \\subseteq S_{100} \\subseteq S_4$, so that we have $\\overline{S_{100}} \\cap S_{400} = \\emptyset$ and $S_4 \\cap S_{100} = S_{100}$. Now, we have",
    "_source_page": 264
  },
  {
    "9": "Let the set of boys be $S = \\{b_1, b_2, \\dots, b_n\\}$, and $T$ denote the set of all possible groupings. For each $i = 1, 2, \\dots, n$, let $P_i$ denote the property of $b_i$ being grouped together with both of his parents for the elements of $T$. Firstly, we note that $\\omega(0) = (n!)^2$, since there are $n!$ ways each to assign a male parent and a female parent to each boy. Let us compute $\\omega(k)$ for $k = 1, 2, \\dots, n$. For all $k$-tuples $(i_1, i_2, \\dots, i_k)$ that satisfy $1 \\le i_1 < i_2 < \\dots < i_k \\le n$, we have $\\omega(P_{i_1} P_{i_2} \\dots P_{i_k}) = [(n - k)!]^2$, since there are $(n - k)!$ ways each to assign a male parent and a female parent to each remaining boy that has not been grouped. This implies that $\\omega(k) = \\binom{n}{k} [(n - k)!]^2$ for all $k = 0, 1, \\dots, n$. Hence, the number of groupings that satisfy the property that no boy is with both of his parents in his group is equal to\n$E(0) = \\sum_{k=0}^n (-1)^k \\omega(k) = \\sum_{k=0}^n (-1)^k \\binom{n}{k} [(n - k)!]^2.$",
    "10": "Let the set of friends be $S = \\{f_1, f_2, \\dots, f_6\\}$, and $T$ denote the set of all dinner gatherings. For each $i = 1, 2, \\dots, 6$, let $P_i$ denote the property of the man meeting $f_i$ in the dinner gathering for the elements of $T$. By the assumptions given in the problem, we have $\\omega(1) = \\binom{6}{1} \\times 12 = 72, \\omega(2) = \\binom{6}{2} \\times 6 = 90, \\omega(3) = \\binom{6}{3} \\times 4 = 80, \\omega(4) = \\binom{6}{4} \\times 3 = 45, \\omega(5) = \\binom{6}{5} \\times 2 = 12$ and $\\omega(6) = \\binom{6}{6} \\times 1 = 1$. This implies that",
    "_source_page": 265
  },
  {
    "11": "Let S denote the set of all arrangements of 3 black balls, 4 red balls and 5 white balls in a row, and let B, R and W denote the set of arrangements of 3 black balls, 4 red balls and 5 white balls in a row for which the black, red and white balls form a single block in the arrangement respectively. Then we have\n\n|S| = \\frac{(3 + 4 + 5)!}{3!4!5!} = 27720,\n|B| = \\frac{(4 + 5 + 1)!}{4!5!} = 1260,\n|R| = \\frac{(3 + 5 + 1)!}{3!5!} = 504,\n|W| = \\frac{(3 + 4 + 1)!}{3!4!} = 280,\n|B \\cap R| = \\frac{(5 + 1 + 1)!}{5!} = 42,\n|B \\cap W| = \\frac{(4 + 1 + 1)!}{4!} = 30,\n|R \\cap W| = \\frac{(3 + 1 + 1)!}{3!} = 20,\n|B \\cap R \\cap W| = 3! = 6.\n\nBy (4.2.1), we have\n\n|B \\cup R \\cup W|\n= |B| + |R| + |W| - |B \\cap R| - |B \\cap W| - |R \\cap W| + |B \\cap R \\cap W|\n= 1260 + 504 + 280 - 42 - 30 - 20 + 6\n= 1958.\n\nHence, the number of arrangements of 3 black balls, 4 red balls and 5 white balls in a row such that balls with the same colour do not form a single block is equal to\n\n|S| - |B \\cup R \\cup W| = 27720 - 1958 = 25762.",
    "_source_page": 266
  },
  {
    "12": "(i) Let $S$ denote the set of all arrangements of 3 $a$'s, 3 $b$'s and 3 $c$'s in a row, and let $X, Y$ and $Z$ denote the set of arrangements of 3 $a$'s, 3 $b$'s and 3 $c$'s in a row for which the $a$'s, $b$'s and $c$'s form a single block in the arrangement respectively. Then we have\n\n$|S| = \\frac{(3 + 3 + 3)!}{3!3!3!} = 1680,$\n$|X| = |Y| = |Z| = \\frac{(3 + 3 + 1)!}{3!3!} = 140,$\n$|X \\cap Y| = |X \\cap Z| = |Y \\cap Z| = \\frac{(3 + 1 + 1)!}{3!} = 20,$\n$|X \\cap Y \\cap Z| = 3! = 6.$\n\nBy (4.2.1), we have\n\n$|X \\cup Y \\cup Z|$\n$= |X| + |Y| + |Z| - |X \\cap Y| - |X \\cap Z| - |Y \\cap Z| + |X \\cap Y \\cap Z|$\n$= 3 \\times 140 - 3 \\times 20 + 6$\n$= 366.$\n\nHence, the number of arrangements of 3 $a$'s, 3 $b$'s and 3 $c$'s in a row such that no three consecutive letters are the same is equal to\n\n$|S| - |X \\cup Y \\cup Z| = 1680 - 366 = 1314.$\n\n(ii) Let $S$ denote the set of arrangements of 3 $a$'s, 3 $b$'s and 3 $c$'s in a row such that no two consecutive letters are the same. For each $x \\in S$, let $\\bar{x}$ be what remains when we delete the $c$'s from $x$ (for instance, if $x = abcabcabc$, then $\\bar{x} = ababab$). For $k = 1, 2, 3$, let $A_k$ and $B_k$ denote the set of elements $x \\in S$ such that the $a$'s (respectively $b$'s) in $\\bar{x}$ form $k$ separate blocks. It is easy to see that $S = A_1 \\cup A_2 \\cup A_3 = B_1 \\cup B_2 \\cup B_3$, so that we have $|S| = \\sum_{i=1}^3 \\sum_{j=1}^3 |A_i \\cap B_j|$. Let us compute $|A_i \\cap B_j|$ for $i, j = 1, 2, 3$.\nFirstly, let us compute $|A_1 \\cap B_1|$. Let $x$ be an arrangement of 3 $a$'s, 3 $b$'s and 3 $c$'s such that the $a$'s form a single block and the $b$'s form a single block in $\\bar{x}$. This would then imply that there are either 2 consecutive $a$'s or 2 consecutive $b$'s in $x$. Consequently, this shows that $x \\notin S$, so we must have $A_1 \\cap B_1 = \\emptyset$, or equivalently, $|A_1 \\cap B_1| = 0$.\nNext, let us compute $|A_1 \\cap B_2|$. Let $x \\in S$ be an arrangement of 3 $a$'s, 3",
    "_source_page": 267
  },
  {
    "_source_page": 268
  },
  {
    "13": "For any segment $s$ in the rectangular grid, let $P_s$ denote the property of the shortest route from corner $X$ to corner $Y$ passing through segment $s$ in the rectangular grid. By definition, we have $\\omega(0)$ to be equal to the number of shortest routes from corner $X$ to corner $Y$, which is then equal to $\\binom{8+4}{4} = \\binom{12}{4}$. Next, we have\\n\\n$\\omega(P_{AB}) = \\binom{2+1}{1} \\binom{5+3}{3} = 3 \\binom{8}{3}$,\\n$\\omega(P_{BC}) = \\binom{3+1}{1} \\binom{5+2}{2} = 4 \\binom{7}{2}$,\\n$\\omega(P_{BD}) = \\binom{3+1}{1} \\binom{4+3}{3} = 4 \\binom{7}{3}$.\\n\\nThis implies that $\\omega(1) = 3 \\binom{8}{3} + 4 \\binom{7}{2} + 4 \\binom{7}{3}$. Next, we have\\n\\n$\\omega(P_{AB}P_{BC}) = \\binom{2+1}{1} \\binom{5+2}{2} = 3 \\binom{7}{2}$,\\n$\\omega(P_{AB}P_{BD}) = \\binom{2+1}{1} \\binom{4+3}{3} = 3 \\binom{7}{3}$,\\n$\\omega(P_{BC}P_{BD}) = 0$.\\n\\nThis implies that $\\omega(2) = 3 \\binom{7}{2} + 3 \\binom{7}{3}$. Finally, since there are no shortest routes from corner $X$ to corner $Y$ that passes through all of $AB, BC$ and $BD$, we have\\n\\n$\\omega(3) = \\omega(P_{AB}P_{BC}P_{BD}) = 0$.\\n\\nHence, the number of shortest routes from corner $X$ to corner $Y$ that does not pass through the segments $AB, BC$ and $BD$ is equal to\\n\\n$E(0) = \\omega(0) - \\omega(1) + \\omega(2) - \\omega(3)$\\n$= \\binom{12}{4} - 3 \\binom{8}{3} - 4 \\binom{7}{2} - 4 \\binom{7}{3} + 3 \\binom{7}{2} + 3 \\binom{7}{3}$\\n$= 271.$",
    "_source_page": 269
  },
  {
    "14": "Let $y_1 = x_1 - 3, y_2 = x_2$ and $y_3 = x_3 - 7$. The problem is equivalent to finding the number of non-negative integer solutions to the equation\n$y_1 + y_2 + y_3 = 18$\nsatisfying $y_1 \\le 6, y_2 \\le 8$ and $y_3 \\le 10$. Let $n_1 = 7, n_2 = 9, n_3 = 11$, and for $i = 1, 2, 3$, let $P_i$ denote the property of a non-negative integer solution $(a_1, a_2, a_3)$ to the above equation satisfying $a_i \\ge n_i$. By definition, we have $\\omega(0) = \\binom{18+2}{2} = 190$. Next, we have\n$\\omega(P_1) = \\binom{18 - 7 + 2}{2} = 78,$\n$\\omega(P_2) = \\binom{18 - 9 + 2}{2} = 55,$\n$\\omega(P_3) = \\binom{18 - 11 + 2}{2} = 36.$\nThis implies that $\\omega(1) = 78 + 55 + 36 = 169$. Next, we have\n$\\omega(P_1P_2) = \\binom{18 - 7 - 9 + 2}{2} = 6,$\n$\\omega(P_1P_3) = \\binom{18 - 7 - 11 + 2}{2} = 1,$\n$\\omega(P_2P_3) = 0.$\nThis implies that $\\omega(2) = 6 + 1 = 7$. Finally, we have $\\omega(3) = \\omega(P_1P_2P_3) = 0$. Hence, the number of integer solutions to the equation\n$x_1 + x_2 + x_3 = 28$\nsatisfying $3 \\le x_1 \\le 9, 0 \\le x_2 \\le 8$ and $7 \\le x_3 \\le 17$ is equal to\n$E(0) = \\omega(0) - \\omega(1) + \\omega(2) - \\omega(3)$\n$= 190 - 169 + 7 - 0$\n$= 28.$",
    "15": "Let $y_1 = x_1 - 6, y_2 = x_2 - 5$ and $y_3 = x_3 - 10$. The problem is equivalent to finding the number of non-negative integer solutions to the equation\n$y_1 + y_2 + y_3 = 19$",
    "_source_page": 270
  },
  {
    "16": "Let $y_1 = x_1 - 1, y_2 = x_2, y_3 = x_3 - 4$ and $y_4 = x_4 - 2$. The problem is equivalent to finding the number of non-negative integer solutions to the equation\ny_1 + y_2 + y_3 + y_4 = 13\nsatisfying $y_1 \\le 4, y_2 \\le 7, y_3 \\le 4$ and $y_4 \\le 4$. Let $n_1 = n_3 = n_4 = 5, n_2 = 8$, and for $i = 1, 2, 3, 4$, let $P_i$ denote the property of a non-negative integer solution $(a_1, a_2, a_3, a_4)$ to the above equation satisfying $a_i \\ge n_i$. By definition, we have $\\omega(0) = \\binom{13+3}{3} = \\binom{16}{3}$. Next, we have",
    "_source_page": 271
  },
  {
    "_source_page": 272
  },
  {
    "17": "For $i = 1, 2, \\dots, n$, let $P_i$ denote the property of a non-negative integer solution $(a_1, a_2, \\dots, a_n)$ to the equation\n$$x_1 + x_2 + \\dots + x_n = r$$\nsatisfying $a_i \\ge k + 1$. By definition, we have $\\omega(0) = \\binom{r+n-1}{n-1}$. Next, let us compute $\\omega(i)$ for all $i = 1, 2, \\dots, n$. To this end, let us fix $i \\in \\{1, 2, \\dots, n\\}$, and take any $i$-tuple of integers $(n_1, n_2, \\dots, n_i)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_i \\le n$. It is easy to see by definition that $\\omega(P_{n_1} P_{n_2} \\dots P_{n_i}) = \\binom{r-(k+1)i+n-1}{n-1}$. Since there are $\\binom{n}{i}$ such $i$-tuples, it follows that we have\n$$\\omega(i) = \\sum_{1 \\le n_1 < n_2 < \\dots < n_i \\le n} \\omega(P_{n_1} P_{n_2} \\dots P_{n_i})$$\n$$= \\sum_{1 \\le n_1 < n_2 < \\dots < n_i \\le n} \\binom{r - (k+1)i + n - 1}{n - 1}$$\n$$= \\binom{n}{i} \\binom{r - (k+1)i + n - 1}{n - 1}.$$\nSince $\\omega(0) = \\binom{r+n-1}{n-1} = \\binom{n}{0} \\binom{r-(k+1)\\cdot 0+n-1}{n-1}$, it follows from (4.3.2) that the number of integer solutions to the equation\n$$x_1 + x_2 + \\dots + x_n = r$$\nsatisfying $0 \\le x_i \\le k$ for each $i = 1, 2, \\dots, n$ is equal to\n$$E(0) = \\sum_{i=0}^n (-1)^i \\omega(i) = \\sum_{i=0}^n (-1)^i \\binom{n}{i} \\binom{r - (k+1)i + n - 1}{n - 1}.$$",
    "18": "For all $i = 1, 2, \\dots, n$, we let $y_i = x_i - 1$, so that the problem is equivalent to finding the number of non-negative integer solutions to the equation\n$$y_1 + y_2 + \\dots + y_n = r - n$$\nsatisfying $y_i \\le k - 1$ for all $i = 1, 2, \\dots, n$. For $i = 1, 2, \\dots, n$, let $P_i$ denote the property of a non-negative integer solution $(a_1, a_2, \\dots, a_n)$ to the",
    "_source_page": 273
  },
  {
    "19": "For $i = 1, \\dots, n$, let $P_i$ denote the property of an arrangement $A$ that $H_i$ is adjacent to $W_i$ in $A$. By definition, we have $\\omega(0) = (2n)!$. Next, let us compute $\\omega(r)$ for all $r = 1, \\dots, n$. To this end, let us fix $r \\in \\{1, \\dots, n\\}$, and take any $r$-tuple of integers $(n_1, \\dots, n_r)$ satisfying $1 \\le n_1 < \\dots < n_r \\le n$. For $i = 1, \\dots, r$, given that there are two ways to arrange $H_{n_i}$ and $W_{n_i}$ inside the same block when they are adjacent to each other. Then there are $(2n - 2r + r)! = (2n - r)!$ ways to arrange the $r$ blocks consisting of the $r$ couples $\\{H_{n_1}, W_{n_1}\\}, \\{H_{n_2}, W_{n_2}\\}, \\dots, \\{H_{n_r}, W_{n_r}\\}$, and the remaining $2n - 2r$ people. By (MP), we have $\\omega(P_{n_1} P_{n_2} \\dots P_{n_r}) = 2^r(2n - r)!$. Since there are $\\binom{n}{r}$ such $r$-tuples, it follows that we have",
    "_source_page": 274
  },
  {
    "20": "Let the colours be $c_1, c_2, \\dots, c_q$.\\n(i) Firstly, there are $q!$ ways to arrange the $pq$ beads in a row, such that beads of the same colour must be in a single block. Next, we note that two arrangements of the $pq$ beads in a string are identical if any one of them could be obtained from the other by flipping. Since $p$ is odd and $q > 1$, it follows that any arrangement of the $pq$ beads in a string gives rise to exactly two arrangements of the $pq$ beads in a row, namely itself and its mirror image. So there are $\\frac{q!}{2}$ ways to arrange the $pq$ beads in a string, such that beads of the same colour must be in a single block.\\nFor parts (ii) to (iv), we let $S$ denote the set of arrangements of the $2q$ symbols $a_1, a_1, \\dots, a_q, a_q$ in a row, and for $i = 1, \\dots, q$, we let $P_i$ denote the property of an arrangement $a$ that the two symbols $a_i$ form a single block in $a$. By definition, we have $\\omega(0) = \\frac{(2q)!}{2^q}$. Next, let us compute $\\omega(j)$ for all $j = 1, \\dots, q$. Let us fix $j \\in \\{1, \\dots, q\\}$, and take any $j$-tuple of integers $(n_1, \\dots, n_j)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_j \\le q$. We note that there are $\\frac{(2q-2j+j)!}{2^{q-j}} = \\frac{(2q-j)!}{2^{q-j}}$ ways to arrange $2q$ symbols in a row, such that the two symbols $a_{n_i}$ form a single block in the arrangement for $i = 1, \\dots, j$. Since there are $\\binom{q}{j}$ such $j$-tuples, it follows that we have",
    "_source_page": 275
  },
  {
    "_source_page": 276
  },
  {
    "_source_page": 277
  },
  {
    "21": "(a) Firstly, there is exactly one way to place one object into each of the $n$ boxes. Next, there are $H_{r-n}^n = \\binom{r-n+n-1}{r-n} = \\binom{r-1}{r-n}$ ways to distribute the remaining $r - n$ identical objects into the $n$ distinct boxes. By (MP), the number of ways to distribute $r$ identical objects into $n$ distinct boxes, such that no boxes are empty, is equal to $1 \\cdot \\binom{r-1}{r-n} = \\binom{r-1}{n-1}.\n(b) Let the $n$ boxes be $b_1, b_2, \\dots, b_n$. For $i = 1, 2, \\dots, n$, let $P_i$ denote the",
    "_source_page": 278
  },
  {
    "22": "(a) Suppose that $C$ is an $r$-element subset of $A$ which contains $B$ as a subset. Then we have $|C \\setminus B| = r - m$. Since $C \\setminus B \\subseteq A \\setminus B$ and $|A \\setminus B| = n - m$, it follows that there are $\\binom{n-m}{r-m} = \\binom{n-m}{n-r}$ choices for $C \\setminus B$. So there are $\\binom{n-m}{n-r}$ $r$-element subsets of $A$ that contain $B$ as a subset.",
    "_source_page": 279
  },
  {
    "23": "(a) Let $a$ be a binary sequence of length $n$ that does not contain \"01\" as a block. If the first digit in $a$ is 0, then we must have $a = \\underbrace{000 \\dots 00}_{n}$. Else, $a$ must start with exactly $m$ 1's for some positive integer $m \\le n$, in which case we must have $a = \\underbrace{111 \\dots 11}_{m} \\underbrace{000 \\dots 00}_{n-m}$. So there are $n + 1$ binary sequences of length $n$ that do not contain \"01\" as a block.\n(b) For $i = 1, 2, \\dots, n - 1$, let $P_i$ denote the property of a binary sequence $a$ of length $n$ such that the $i$-th digit of $a$ is equal to 0 and the $(i + 1)$-th digit of $a$ is equal to 1. By definition, we have $\\omega(0) = 2^n$. Next, let us compute $\\omega(i)$ for all $i = 1, 2, \\dots, n - 1$. To this end, let us fix $i \\in \\{1, 2, \\dots, n - 1\\}$, and take any $i$-tuple of integers $(n_1, n_2, \\dots,$",
    "_source_page": 280
  },
  {
    "_source_page": 281
  },
  {
    "24": "Let us label the configurations as follows:\\n[Diagrams]\\n(i) For $i = 1, 2, 3, 4$, let $P_i$ denote the property of a coloured configuration that the two vertices incident to the edge $e_i$ have the same colour. By definition, we have $\\omega(0) = \\lambda^4$. Next, we have $\\omega(P_i) = \\lambda^3$ for all $i = 1, 2, 3, 4$, which implies that $\\omega(1) = 4\\lambda^3$. Next, we have $\\omega(P_i P_j) = \\lambda^2$ for all positive integers $i, j$ satisfying $1 \\le i < j \\le 4$, which implies that $\\omega(2) = \\binom{4}{2} \\lambda^2 = 6\\lambda^2$. Next, we have $\\omega(P_1 P_2 P_3) = \\lambda^2$ and $\\omega(P_1 P_2 P_4) = \\omega(P_1 P_3 P_4) = \\omega(P_2 P_3 P_4) = \\lambda$, which implies that $\\omega(3) = \\lambda^2 + 3\\lambda$. Finally, we have $\\omega(4) = \\omega(P_1 P_2 P_3 P_4) = \\lambda.\\nHence, the number of colour configurations that satisfies the property that any two vertices which are joined by a line segment must be coloured by different colours is equal to\\nE(0) = \\omega(0) - \\omega(1) + \\omega(2) - \\omega(3) + \\omega(4)\\n= \\lambda^4 - 4\\lambda^3 + 6\\lambda^2 - (\\lambda^2 + 3\\lambda) + \\lambda\\n= \\lambda^4 - 4\\lambda^3 + 5\\lambda^2 - 2\\lambda.",
    "_source_page": 282
  },
  {
    "_source_page": 283
  },
  {
    "25": "Let the rooms be $R_1, R_2, \\dots, R_q$. For $i = 1, 2, \\dots, q$, let $P_i$ denote the property of an allocation that room $R_i$ has exactly $k$ persons. Let us compute $\\omega(j)$ for $j = m, m + 1, \\dots, q$. To this end, let us fix $j \\in \\{m, m + 1, \\dots, q\\}$, and take any $j$-tuple of integers $(n_1, n_2, \\dots, n_j)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_j \\le q$. Firstly, there are $\\binom{n}{kj}$ ways to choose $kj$ persons out of $n$ to be allocated into the rooms $R_{n_1}, R_{n_2}, \\dots, R_{n_j}$. Next, there are $\\frac{(kj)!}{(k!)^j}$ ways to allocate the $kj$ chosen persons into the rooms $R_{n_1}, R_{n_2}, \\dots, R_{n_j}$, such that each of the rooms $R_{n_1}, R_{n_2}, \\dots, R_{n_j}$ has exactly $k$ persons. Finally, there are $(q - j)^{n-kj}$ ways to allocate the remaining $n - kj$ persons into the remaining $q - j$ rooms. By (MP), the number of ways to allocate $n$ persons into the rooms $R_1, R_2, \\dots, R_q$ such that each of the rooms $R_{n_1}, R_{n_2}, \\dots, R_{n_j}$ has exactly $k$ persons, is equal to\n$$\\binom{n}{kj} \\cdot \\frac{(kj)!}{(k!)^j} \\cdot (q - j)^{n-kj} = \\frac{n!}{(kj)!(n - kj)!} \\cdot \\frac{(kj)!}{(k!)^j} \\cdot (q - j)^{n-kj}$$\n$$= \\frac{n!(q - j)^{n-kj}}{(k!)^j(n - kj)!}.$$\nSince there are $\\binom{q}{j} = \\frac{q!}{j!(q-j)!}$ such $j$-tuples, it follows that we have\n$$\\omega(j) = \\sum_{1 \\le n_1 < n_2 < \\dots < n_j \\le n} \\omega(P_{n_1}P_{n_2} \\dots P_{n_j})$$\n$$= \\sum_{1 \\le n_1 < n_2 < \\dots < n_j \\le n} \\frac{n!(q - j)^{n-kj}}{(k!)^j(n - kj)!}$$\n$$= \\frac{q!}{j!(q - j)!} \\cdot \\frac{n!(q - j)^{n-kj}}{(k!)^j(n - kj)!}$$\n$$= \\frac{q!n!(q - j)^{n-kj}}{(k!)^j(n - kj)!j!(q - j)!}.$$\nBy (4.3.2), the number of ways to allocate $n$ persons into $q$ distinct rooms, such that $m$ of the $q$ rooms have exactly $k$ persons each, is equal to",
    "_source_page": 284
  },
  {
    "26": "For $i = 1, 2, \\dots, n$, let $P_i$ denote the property of an arrangement $a$ that the $k$ $x_i$'s form a single block in $a$. Let us compute $\\omega(j)$ for all $j = m, m + 1, \\dots, n$. To this end, let us fix $i \\in \\{m, m + 1, \\dots, n\\}$, and take any $i$-tuple of integers $(n_1, n_2, \\dots, n_i)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_i \\le n$. It is easy to see that there are $\\frac{\\{k(n-i)+i\\}!}{(k!)^{n-i}} = \\frac{(k!)^i\\{kn-i(k-1)\\}!}{(k!)^n}$ ways to arrange the members of $A$ in a row, such that the $k$ symbols $x_{n_j}$ form a single block in the arrangement for $j = 1, \\dots, i$. Since there are $\\binom{n}{i}$ such $i$-tuples, it follows that we have\\n\\omega(i) = \\sum_{1 \\le n_1 < n_2 < \\dots < n_i \\le n} \\omega(P_{n_1} P_{n_2} \\dots P_{n_i})\\n= \\sum_{1 \\le n_1 < n_2 < \\dots < n_i \\le n} \\frac{(k!)^i\\{kn - i(k-1)\\}!}{(k!)^n}\\n= \\binom{n}{i} \\frac{(k!)^i\\{kn - i(k-1)\\}!}{(k!)^n}.\\nBy (4.3.2), the number of ways to arrange the members of $A$ in a row, such that the number of blocks containing all the $k$ elements of the same type in the arrangement is exactly $m$, is equal to",
    "_source_page": 285
  },
  {
    "27": "(4.6.2) Firstly, there are $\\binom{r}{k}$ choices for the $k$ fixed points. Next, for each $k$-element subset $A$ of $\\mathbf{N}_n$ corresponding to the $k$ fixed points, we see that the remaining $r - k$ elements in the $r$-permutation form a $(r - k)$-permutation of the set $\\mathbf{N}_n \\setminus A$ with no fixed points, and there are $D(n - k, r - k, 0)$ such $(r - k)$-permutations of $\\mathbf{N}_n \\setminus A$ by definition. By (MP), the number of $r$-element permutations of $\\mathbf{N}_n$ with exactly $k$ fixed points is equal to $\\binom{r}{k} D(n - k, r - k, 0)$, and hence by the definition of $D(n, r, k)$, we have\\n\\n$D(n, r, k) = \\binom{r}{k} D(n - k, r - k, 0)$\\n\\nas desired.\\n(4.6.3) Let $a = a_1 a_2 \\dots a_r$ be an $r$-element permutation of $\\mathbf{N}_n$ with exactly $k$ fixed points. Let us consider these cases:\\nCase 1: $a_1 = 1$. Then $a_2 a_3 \\dots a_r$ is a $(r - 1)$-element permutation of $\\mathbf{N}_n \\setminus \\{1\\}$ with exactly $k - 1$ fixed points, and there are $D(n - 1, r - 1, k - 1)$ such $(r - 1)$-permutations of $\\mathbf{N}_n \\setminus \\{1\\}$ by definition.\\nCase 2: $a_1 = m$ where $m > r$. For each $m > r$, we have $a_2 a_3 \\dots a_r$ to be a $(r - 1)$-element permutation of $\\mathbf{N}_n \\setminus \\{m\\}$ with exactly $k$ fixed points, and there are $D(n - 1, r - 1, k)$ such $(r - 1)$-permutations of $\\mathbf{N}_n \\setminus \\{m\\}$ by definition. Since there are $n - r$ choices for $m$, it follows from (MP) that there are $(n - r) D(n - 1, r - 1, k)$ $r$-element permutations $x_1 x_2 \\dots x_n$ of $\\mathbf{N}_n$ with exactly $k$ fixed points and $x_1 > r$.",
    "_source_page": 286
  },
  {
    "_source_page": 287
  },
  {
    "4.6.4": "By setting $r = n$ in identity (4.6.3) and rearranging the terms in identity (4.6.3), we get\n\n$D(n, n, k) - nD(n - 1, n - 1, k)$\n$= -[D(n - 1, n - 1, k) - (n - 1)D(n - 2, n - 2, k)]$\n$+ [D(n - 1, n - 1, k - 1) - (n - 1)D(n - 2, n - 2, k - 1)]. (4.1)$\n\nLet $f(n, k) = (-1)^{k-n}[D(n, n, k) - nD(n - 1, n - 1, k)]$ for all non-negative integers $n$ and $k$. Then it is easy to see from the definition of $f(n, k)$ that $f(n, k) = 0$ whenever $n < k$. Also, we have\n\n$f(n, n) = (-1)^{n-n}[D(n, n, n) - nD(n - 1, n - 1, n)] = D(n, n, n) = 1$\n\nfor all non-negative integers $n$. Next, we have\n\n$D(n, n, k) - nD(n - 1, n - 1, k) = (-1)^{n-k}f(n, k). (4.2)$\n\nBy combining equations (4.1) and (4.2), we get\n\n$(-1)^{n-k}f(n, k) = -(-1)^{n-k-1}f(n - 1, k) + (-1)^{n-k}f(n - 1, k - 1),$\n\nor equivalently,\n\n$f(n, k) = f(n - 1, k) + f(n - 1, k - 1) (4.3)$\n\nfor all positive integers $n$ and $k$. Now, we recall that we have\n\n$\\binom{n}{k} = \\binom{n-1}{k} + \\binom{n-1}{k-1}$",
    "_source_page": 288
  },
  {
    "4.6.5": "We have\n\n$\\binom{k}{t}D(n, r, k) = \\binom{k}{t}\\binom{r}{k}D(n - k, r - k, 0)$ (by (4.6.2))\n$= \\binom{r}{t}\\binom{r - t}{k - t}D(n - k, r - k, 0)$ (by (2.1.5))\n$= \\binom{r}{t}D(n - t, r - t, k - t)$ (by (4.6.2)).",
    "4.6.6": "Let $a_1 \\dots a_r$ be an $r$-permutation of $\\mathbf{N}_n$ with exactly $k$ fixed points. If $a_i \\neq n$ for all $i = 1, 2, \\dots, r$ (which is possible since $r < n$), then $a_1 \\dots a_r$ is an $r$-permutation of $\\mathbf{N}_n \\setminus \\{n\\}$ with exactly $k$ fixed points, and there are $D(n - 1, r, k)$ such $r$-permutations of $\\mathbf{N}_n \\setminus \\{n\\}$ by definition. Else, we must have $a_i = n$ for some $i \\in \\{1, 2, \\dots, r\\}$. Let us fix $i \\in \\{1, 2, \\dots, r\\}$. In the case where $a_i = n$, the remaining $r - 1$ elements in the $r$-permutation $a_1 \\dots a_r$ form a $(r - 1)$-permutation of the set $\\mathbf{N}_n \\setminus \\{n\\}$ with exactly $k$ fixed points, and there are $D(n - 1, r - 1, k)$ such $(r - 1)$-permutations of $\\mathbf{N}_n \\setminus \\{n\\}$ by definition. Since there are $r$ choices for $i$, it follows from (MP) that there are $rD(n - 1, r - 1, k)$ such $r$-permutations of $\\mathbf{N}_n$ in the case when $a_i = n$ for some $i \\in \\{1, 2, \\dots, r\\}$. By (AP), the number of $r$-permutations of $\\mathbf{N}_n$ with exactly $k$ fixed points is equal to $rD(n - 1, r - 1, k) + D(n - 1, r, k)$, and hence by the definition of $D(n, r, k)$, we have\n\n$D(n, r, k) = rD(n - 1, r - 1, k) + D(n - 1, r, k)$\n\nas desired.",
    "4.6.7": "Let us count the number of $n$-permutations $a_1 \\dots a_n$ of $\\mathbf{N}_n$ that",
    "_source_page": 289
  },
  {
    "28": "(i) For $k = 1, 2, \\dots, n - 1$, let $P_k$ denote the property of a permutation $a$ where $k$ is followed immediately by $k + 1$ in $a$. By definition, we have $\\omega(0) = n!$. Next, let us compute $\\omega(i)$ for all $i = 1, 2, \\dots, n - 1$. To this end, let us fix $i \\in \\{1, 2, \\dots, n - 1\\}$, and take any $i$-tuple of integers $(n_1, n_2, \\dots, n_i)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_i \\le n - 1$ and any",
    "_source_page": 290
  },
  {
    "_source_page": 291
  },
  {
    "29": "Since $\\{a_1, a_2, \\dots, a_m\\} = \\{1, 2, \\dots, m\\}$, it follows that we must have\\n\\n$\\{a_{m+1}, a_{m+2}, \\dots, a_n\\} = \\{m+1, m+2, \\dots, n\\}$.\\n\\nThis implies that $a_1 a_2 \\dots a_m$ is a derangement of $\\{1, 2, \\dots, m\\}$ and $a_{m+1} a_{m+2} \\dots a_n$ is a derangement of $\\{m+1, m+2, \\dots, n\\}$. By definition, there are $D_m$ possibilities for $a_1 a_2 \\dots a_m$ and $D_{n-m}$ possibilities for $a_{m+1} a_{m+2} \\dots a_n$, so by (MP), the number of derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$, such that $\\{a_1, a_2, \\dots, a_m\\} = \\{1, 2, \\dots, m\\}$, is equal to $D_m \\cdot D_{n-m}$.",
    "30": "(i) Let $a_1 a_2 \\dots a_n$ be a permutation of $\\mathbf{N}_n$ such that\\n\\n$\\{a_1, a_2, \\dots, a_m\\} = \\{m+1, m+2, \\dots, 2m\\}$.\\n\\nThen we must have $\\{a_{m+1}, a_{m+2}, \\dots, a_n\\} = \\{1, 2, \\dots, m\\}$, noting that $n = 2m$. This implies that any permutation $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ such that $\\{a_1, a_2, \\dots, a_m\\} = \\{m+1, m+2, \\dots, 2m\\}$ must be a derangement of $\\mathbf{N}_n$. Now, if $a_1 a_2 \\dots a_n$ is a permutation of $\\mathbf{N}_n$ such that $\\{a_1, a_2, \\dots, a_m\\} = \\{m+1, m+2, \\dots, 2m\\}$, then there are $m!$ possibilities for $a_1 a_2 \\dots a_m$ and $m!$ possibilities for $a_{m+1} a_{m+2} \\dots a_n$, so by (MP), the number of derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$, such that\\n\\n$\\{a_1, a_2, \\dots, a_m\\} = \\{m+1, m+2, \\dots, 2m\\},$",
    "_source_page": 292
  },
  {
    "(ii)": "Let $S$ denote the set of permutations $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ such that\n\n$$\\{a_1, a_2, \\dots, a_m\\} = \\{m + 1, m + 2, \\dots, 2m\\}.$$\n\nThen for each $a_1 a_2 \\dots a_n \\in S$, we must have\n\n$$\\{a_{m+1}, a_{m+2}, \\dots, a_n\\} = \\{1, 2, \\dots, m, n\\},$$\n\nnoting that $n = 2m + 1$. This implies that $a_1 a_2 \\dots a_n$ can have at most 1 fixed point, and that fixed point, if it exists, must be $n$. Let $T$ denote the set of permutations $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ such that $\\{a_1, \\dots, a_m\\} = \\{m + 1, \\dots, 2m\\}$ and $a_n = n$. Then $T \\subseteq S$, and $S \\setminus T$ is the set of derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ such that $\\{a_1, \\dots, a_m\\} = \\{m + 1, \\dots, 2m\\}$. It remains to compute $|S \\setminus T|$. Let us first take any $a_1 a_2 \\dots a_n \\in S$. Then there are $m!$ possibilities for $a_1 a_2 \\dots a_m$ and $(n - m)! = (m + 1)!$ possibilities for $a_{m+1} a_{m+2} \\dots a_n$, so by (MP), we have $|S| = m!(m + 1)!$. Next, let us take any $b_1 b_2 \\dots b_n \\in T$. Then we must have $b_n = n$ and $\\{b_{m+1}, b_{m+2}, \\dots, b_{2m}\\} = \\{1, 2, \\dots, m\\}$. Consequently, there are $m!$ possibilities for $b_1 b_2 \\dots b_m$ and $m!$ possibilities for $b_{m+1} b_{m+2} \\dots b_{2m}$, so by (MP), we have $|T| = (m!)^2$. Therefore, the number of derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$, such that $\\{a_1, a_2, \\dots, a_m\\} = \\{m + 1, m + 2, \\dots, 2m\\}$, is equal to\n\n$$|S \\setminus T| = |S| - |T| = m!(m + 1)! - (m!)^2 = m \\cdot (m!)^2.$$",
    "(iii)": "Let $S$ denote the set of permutations $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ such that\n\n$$\\{a_1, a_2, \\dots, a_m\\} = \\{m + 1, m + 2, \\dots, 2m\\}.$$\n\nThen for each $a_1 a_2 \\dots a_n \\in S$, we must have\n\n$$\\{a_{m+1}, a_{m+2}, \\dots, a_{n-1}, a_n\\} = \\{1, 2, \\dots, m, 2m + 1, 2m + 2, \\dots, n\\},$$\n\nwhich implies that $1, 2, \\dots, 2m$ are not fixed points of any $a_1 a_2 \\dots a_n \\in S$.\nFor $i = 1, 2, \\dots, r$, let $P_i$ denote the property of an element $a_1 a_2 \\dots a_n \\in S$ where $a_{2m+i} = 2m + i$. Then it is easy to see that $a_1 a_2 \\dots a_n$ is a",
    "_source_page": 293
  },
  {
    "_source_page": 294
  },
  {
    "31": "(4.6.10) We have\\n(n - 1)[D_{n-1} + D_{n-2}]\\n= (n - 1) \\left[ (n - 1)! \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + (n - 2)! \\sum_{i=0}^{n-2} \\frac{(-1)^i}{i!} \\right] \\text{ (by (4.6.8))}\\n= (n - 1)! \\left[ (n - 1) \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + \\sum_{i=0}^{n-2} \\frac{(-1)^i}{i!} \\right]\\n= (n - 1)! \\left[ (n - 1) \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} - \\frac{(-1)^{n-1}}{(n - 1)!} \\right]\\n= (n - 1)! \\left[ n \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + \\frac{(-1)^n}{(n - 1)!} \\right]\\n= n! \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + (-1)^n\\n= n! \\sum_{i=0}^{n-1} \\frac{(-1)^i}{i!} + n! \\frac{(-1)^n}{n!}\\n= n! \\sum_{i=0}^{n} \\frac{(-1)^i}{i!}\\n= D_n \\text{ (by (4.6.8)).}\\n\\n(4.6.11) We have",
    "_source_page": 295
  },
  {
    "32": "By (4.6.11), we have $D_{2k} = 2kD_{2k-1} + (-1)^{2k}$ for all positive integers $k$. Since $2k$ is even, so is $2kD_{2k-1}$. As $D_{2k}$ is the sum of an even integer $2kD_{2k-1}$ and an odd integer $(-1)^{2k}$, it follows that $D_{2k}$ is odd for all integers $k$. Next, by (4.6.11) again, we have\\n$D_{2k+1} = (2k+1)D_{2k} + (-1)^{2k+1}$.\\nSince $D_{2k}$ and $2k+1$ are both odd, so is $(2k+1)D_{2k}$. Since $(-1)^{2k+1}$ is odd and $D_{2k+1}$ is the sum of two odd integers $(2k+1)D_{2k}$ and $(-1)^{2k+1}$, it follows that $D_{2k+1}$ is even for all positive integers $k$. Since $D_1 = 0$ is even as well, this shows that $D_n$ is even if and only if $n$ is odd, and we are done.",
    "33": "(i) By (4.6.2), we have\\n$D_n(k) = D(n, n, k) = \\binom{n}{k} D(n-k, n-k, 0) = \\binom{n}{k} D_{n-k}$.\\n(ii) Let $S$ denote the set of permutations of $\\mathbf{N}_n$, and for each $k = 0, 1, \\dots, n$, let $A_k$ denote the set of permutations of $\\mathbf{N}_n$ with exactly $k$ fixed points. Then we have $|S| = n!$, and $|A_k| = D_n(k) = \\binom{n}{k} D_{n-k} = \\binom{n}{n-k} D_{n-k}$ for all $k = 0, 1, \\dots, n$ by part (i). Since $S = \\bigcup_{k=0}^n A_k$ and $A_i \\cap A_j = \\emptyset$ for all $i, j \\in \\{0, 1, \\dots, n\\}$ with $i \\neq j$, it follows that we have",
    "_source_page": 296
  },
  {
    "34": "Let S denote the set of permutations of \\mathbf{N}_n. Let us count the number of pairs (a, j), where a \\in S and j is a fixed point of a in two different ways. Let us first fix b \\in S, and let the number of fixed points of b be k. Then we must have k \\in \\{1, \\dots, n\\}. Since b has k fixed points, it follows that there are k such pairs (b, j), such that j is a fixed point of b. As there are D_n(k) choices for b, it follows from (MP) that the number of such pairs (b, j), where b is a permutation of \\mathbf{N}_n with k fixed points and j is a fixed point of b, is equal to k \\cdot D_n(k). Since k \\in \\{1, \\dots, n\\}, it follows from (AP) that the",
    "_source_page": 297
  },
  {
    "35": "We have\\n\\nD_n(0) - D_n(1) = \\binom{n}{0}D_{n-0} - \\binom{n}{1}D_{n-1} (by Problem 4.33(i))\\n= D_n - nD_{n-1}\\n= (-1)^n (by (4.6.11)).",
    "36": "Let us first show that \\sum_{k=0}^n D_n(k) = n!. Let S denote the set of permutations of \\mathbf{N}_n, and for each k = 0, 1, \\dots, n, let A_k denote the set of permutations of \\mathbf{N}_n with exactly k fixed points. Then we have |S| = n!, and |A_k| = D_n(k). Since S = \\bigcup_{k=0}^n A_k and A_i \\cap A_j = \\emptyset for all i, j \\in \\{0, 1, \\dots, n\\} with i \\neq j, it follows that we have\\n\\nn! = |S| = \\sum_{k=0}^n |A_k| = \\sum_{k=0}^n D_n(k)\\n\\nas claimed.\\nNext, let us show that \\sum_{k=0}^n k(k-1)D_n(k) = n!. Let us count the number of pairs (a, (i, j)), where a \\in S and i, j are distinct fixed points of a in two",
    "_source_page": 298
  },
  {
    "37": "Let $S$ denote the set of permutations of $\\mathbf{N}_n$. Let us count the number of pairs $(a, (i_1, i_2, \\dots, i_r))$, where $a \\in S$ and $i_1, i_2, \\dots, i_r$ are pairwise distinct",
    "_source_page": 299
  },
  {
    "38": "(a) (i) We shall first make the following claims for any positive integers $m, n, k$:\nClaim A: $(m + kn, n) = (m, n)$.\nClaim B: $(m, k) = (n, k) = 1$ if and only if $(mn, k) = 1$.",
    "_source_page": 300
  },
  {
    "_source_page": 301
  },
  {
    "39": "(i) Since $100 = 2^2 \\cdot 5^2$ and $300 = 2^2 \\cdot 3 \\cdot 5^2$, it follows from (4.7.1) that we have\n\\begin{aligned} \\phi(100) &= 100 \\left(1 - \\frac{1}{2}\\right) \\left(1 - \\frac{1}{5}\\right) = 100 \\cdot \\frac{1}{2} \\cdot \\frac{4}{5} = 40, \\text{ and} \\\\ \\phi(300) &= 300 \\left(1 - \\frac{1}{2}\\right) \\left(1 - \\frac{1}{3}\\right) \\left(1 - \\frac{1}{5}\\right) = 300 \\cdot \\frac{1}{2} \\cdot \\frac{2}{3} \\cdot \\frac{4}{5} = 80. \\end{aligned}\n(ii) Let the prime factorization of $m$ be $p_1^{a_1} p_2^{a_2} \\dots p_k^{a_k}$, where $p_i$ is a prime number and $a_i$ is a positive integer for all $i = 1, 2, \\dots, k$. Since $m$ divides $n$, it follows that there exist positive integers $b_1, b_2, \\dots, b_k, \\ell$, such that $b_i \\ge a_i$ for all $i = 1, 2, \\dots, k, n = p_1^{b_1} p_2^{b_2} \\dots p_k^{b_k} \\cdot \\ell$, and $(p_1^{b_1} p_2^{b_2} \\dots p_k^{b_k}, \\ell) = 1$. Now, we have",
    "_source_page": 302
  },
  {
    "40": "Let $A = \\{\\frac{k}{n} \\mid 1 \\le k \\le n\\}$, and for each positive divisor $d$ of $n$, we let\n$$A_d = \\left\\{\\frac{k}{d} \\mid 1 \\le k \\le d, (k, d) = 1\\right\\}.$$\nThen it is clear that $\\bigcup_{d|n} A_d \\subseteq A$. Conversely, if $\\frac{k}{n} \\in A$, then we may let $d = (k, n)$, $d' = \\frac{n}{d}$ and $k' = \\frac{k}{d}$, so that $d'$ is also a positive divisor of $n$, and $\\frac{k}{n} = \\frac{k/d}{n/d} = \\frac{k'}{d'}$. Since $(k', d') = 1$, it follows that $\\frac{k}{n} \\in A_{d'}$, so we have $\\frac{k}{n} \\in \\bigcup_{d|n} A_d$. This shows that $A \\subseteq \\bigcup_{d|n} A_d$, so we have $A = \\bigcup_{d|n} A_d$. Since each positive rational number has a unique representation as an irreducible fraction with a positive denominator (that is, a representation of the form $\\frac{a}{b}$, where $a$ and $b$ are coprime positive integers), it follows that we must have $A_d \\cap A_{d'} = \\emptyset$ for any distinct positive divisors $d, d'$ of $n$. Since $|A| = n$ and $|A_d| = \\phi(d)$ for all positive divisors $d$ of $n$, it follows that we have\n$$\\sum(\\phi(d) \\mid d \\in \\mathbf{N}, d|n) = \\sum_{d \\in \\mathbf{N}, d|n} |A_d| = |A| = n$$\nas desired.",
    "41": "If $h = 1$, then the equation holds trivially by Problem 4.38(a)(i). So let us assume that $h > 1$, and write $h = p_1^{a_1} p_2^{a_2} \\cdots p_k^{a_k}$, where $p_i$ is a prime number and $a_i$ is a positive integer for all $i = 1, 2, \\dots, k$. As $(m, n) = h$, we may write $m = p_1^{b_1} p_2^{b_2} \\cdots p_k^{b_k} \\cdot r$ and $n = p_1^{c_1} p_2^{c_2} \\cdots p_k^{c_k} \\cdot s$, where $b_1, b_2, \\dots, b_k, c_1,$",
    "_source_page": 303
  },
  {
    "42": "Let us take any positive integer $n \\ge 3$, and write $n = 2^k \\cdot m$, where $k$ is a non-negative integer and $m$ is a positive odd integer. Since $n \\ge 3$, it follows that we must either have $k \\ge 2$ or $m \\ge 3$. If $k \\ge 2$, then we have\n\n$\\phi(n) = \\phi(2^k \\cdot m)$\n$= \\phi(2^k) \\phi(m)$ (by Problem 4.38(a)(i))\n$= (2^k - 2^{k-1}) \\phi(m)$ (by Problem 4.38(a)(ii))\n$= 2^{k-1} \\phi(m)$.\n\nSince we have $k - 1 \\ge 1$, we have $2^{k-1}$ to be an even integer, and hence, $\\phi(n) = 2^{k-1} \\phi(m)$ is even. Else, we must have $m \\ge 3$, and hence there exists some odd prime $p$ that divides $m$. Let us write $m = p^\\ell \\cdot r$ where $\\ell$ is a positive integer and $r$ is a positive odd integer with $(p^\\ell, r) = 1$. Then we have",
    "_source_page": 304
  },
  {
    "43": "Let the $k$ distinct prime factors of $n$ be $p_1, p_2, \\dots, p_k$. Since $p_i \\ge 2$ for all $i = 1, 2, \\dots, k$, it follows that we have $1 - \\frac{1}{p_i} \\ge 1 - \\frac{1}{2} = \\frac{1}{2}$ for all $i = 1, 2, \\dots, k$. Consequently, by (4.7.1), we have\n$$\\phi(n) = n \\left(1 - \\frac{1}{p_1}\\right) \\left(1 - \\frac{1}{p_2}\\right) \\dots \\left(1 - \\frac{1}{p_k}\\right) \\ge n \\cdot \\underbrace{\\frac{1}{2} \\cdot \\frac{1}{2} \\dots \\frac{1}{2}}_{k} = n \\cdot 2^{-k}$$\nas desired.",
    "44": "Let the $k$ distinct odd prime factors of $n$ be $p_1, p_2, \\dots, p_k$, and let us write $n = 2^m \\cdot p_1^{a_1} p_2^{a_2} \\dots p_k^{a_k}$, where $m$ is a non-negative integer and $a_i$ is a positive integer for $i = 1, 2, \\dots, k$. Since $p_i^{a_i} - p_i^{a_i-1}$ is even for all $i = 1, 2, \\dots, k$, we may write $p_i^{a_i} - p_i^{a_i-1} = 2n_i$, where $n_i$ is a positive integer for $i = 1, 2, \\dots, k$. Then we have\n$$\\begin{aligned} \\phi(n) &= \\phi(2^m \\cdot p_1^{a_1} \\dots p_k^{a_k}) \\\\ &= \\phi(2^m)\\phi(p_1^{a_1}) \\dots \\phi(p_k^{a_k}) \\quad \\text{(by Problem 4.38(a)(i))} \\\\ &= \\phi(2^m)(p_1^{a_1} - p_1^{a_1-1}) \\dots (p_k^{a_k} - p_k^{a_k-1}) \\quad \\text{(by Problem 4.38(a)(ii))} \\\\ &= \\phi(2^m) \\cdot 2n_1 \\dots 2n_k \\\\ &= 2^k \\phi(2^m) \\cdot n_1 \\dots n_k, \\end{aligned}$$\nwhich shows that $2^k$ divides $\\phi(n)$ as desired.",
    "45": "Arguing by contradiction, suppose that there exists some positive integer $n$, such that $\\phi(n) = 14$. By Problem 4.38(a)(ii), we have $\\phi(2^k) = 2^k - 2^{k-1} = 2^{k-1}$ for all positive integers $k$. As 14 is not a power of 2, it follows that $n$ is divisible by some odd prime $p$. Let us write $n = 2^r \\cdot m$ where $r$ is a non-negative integer and $m$ is a positive odd integer with $m \\ge 3$. Since $p$ divides $n$ and $p$ does not divide $2^r$, we must have $p$ to divide $m$. By Problem 4.38(a)(i), we have $\\phi(n) = \\phi(2^r \\cdot m) = \\phi(2^r)\\phi(m)$. Since $m \\ge 3$, it follows from Problem 4.42 that $\\phi(m)$ is even, so we may write $\\phi(m) = 2m'$, where $m'$ is a positive integer. This gives us",
    "_source_page": 305
  },
  {
    "46": "If n is odd, then we have (2, n) = 1, so by Problem 4.38(a)(i), we have \\phi(2n) = \\phi(2)\\phi(n) = \\phi(n). Else, if n is even, then we have (2, n) = 2. By setting m = h = 2 in Problem 4.41, we have\\n\\phi(2n) = \\phi(2n)\\phi(2) = \\phi(2)\\phi(n) \\cdot 2 = 2\\phi(n).",
    "47": "Let S denote the universal set. Firstly, we observe that\\nE(m) - A(m, r) = \\sum_{k=m}^{q} (-1)^{k-m} \\binom{k}{m} \\omega(k) - \\sum_{k=m}^{r} (-1)^{k-m} \\binom{k}{m} \\omega(k)\\n= \\sum_{k=r+1}^{q} (-1)^{k-m} \\binom{k}{m} \\omega(k).\\nFor each x \\in S, let us compute the contribution of the count by x to the sum E(m) - A(m, r) = \\sum_{k=r+1}^{q} (-1)^{k-m} \\binom{k}{m} \\omega(k). Let the number of properties that x satisfy be t. Let us consider these cases:\\nCase 1: t \\le r. In this case, x is counted 0 times in \\omega(k) for all k = r + 1, \\dots, q. Thus, x contributes a count of 0 to the sum E(m) - A(m, r) = \\sum_{k=r+1}^{q} (-1)^{k-m} \\binom{k}{m} \\omega(k).",
    "_source_page": 306
  },
  {
    "_source_page": 307
  },
  {
    "_source_page": 308
  },
  {
    "48": "If j = 0, then we have\\n\\sum_{k=j}^{q} (-1)^{k-j} \\omega(k) = \\sum_{k=0}^{q} (-1)^{k} \\omega(k) = E(0) \\ge 0\\nby (4.3.2). So let us assume that j > 0. Let S denote the universal set. For each x \\in S, let us compute the contribution of the count by x to the sum \\sum_{k=j}^{q} (-1)^{k-j} \\omega(k). Let the number of properties that x satisfy be t. Let us consider these cases:\\nCase 1: t < j. In this case, x is counted 0 times in \\omega(k) for all k = j, \\dots, q. Thus, x contributes a count of 0 to the sum \\sum_{k=j}^{q} (-1)^{k-j} \\omega(k).\\nCase 2: t \\ge j. In this case, x is counted \\binom{t}{k} times in \\omega(k) for k = j, j + 1, \\dots, t and is counted 0 times in \\omega(k) for k = t + 1, t + 2, \\dots, q. Thus, the count that x contributes to the sum \\sum_{k=j}^{q} (-1)^{k-j} \\omega(k) is equal to\\n\\sum_{k=j}^{t} (-1)^{k-j} \\binom{t}{k}\\n= \\sum_{k=j}^{t} (-1)^{k-j} \\binom{t}{t-k}\\n= \\sum_{i=0}^{t-j} (-1)^{t-i-j} \\binom{t}{i} (by setting i = t - k)\\n= (-1)^{t-j} \\sum_{i=0}^{t-j} (-1)^{i} \\binom{t}{i} (since (-1)^{-i} = (-1)^{i})\\n= (-1)^{t-j} (-1)^{t-j} \\binom{t-1}{t-j} (by Problem 2.29, since t - j < t)\\n= \\binom{t-1}{t-j}.\\nSince there are E(t) elements of S that has exactly t properties, and E(t) \\binom{t-1}{t-j}",
    "_source_page": 309
  },
  {
    "49": "(i) Let $A = \\bigcup_{k=1}^{n} A_k$. Let $x \\in A$. For each $i = 1, 2, \\dots, n$, let $P_i$ denote the property that $x \\in A_i$. For each $x \\in A$, let us compute the contribution of the count by $x$ to the number\\n$$\\left| \\bigcup_{k=1}^{n} A_k \\right| - \\sum_{k=1}^{n} |A_k| + \\sum_{1 \\le i < j \\le n} |A_i \\cap A_j|$$\\n$$= |A| - \\sum_{k=1}^{n} \\omega(P_k) + \\sum_{1 \\le i < j \\le n} \\omega(P_i P_j).$$\\nLet us take any $x \\in A$, and let the properties that $x$ satisfy be $P_{i_1}, P_{i_2}, \\dots, P_{i_m}$. Then by the definition of $A$, we have $m \\ge 1$. We note that $x$ contributes a count of 1 to $|A|$ and a count of $m$ to $\\sum_{k=1}^{n} \\omega(P_k)$. If $m = 1$, then $x$ contributes a count of 0 to $\\omega(P_i P_j)$ for all $i, j \\in \\{1, 2, \\dots, n\\}$ satisfying $i < j$, so that $x$ contributes a count of 0 to $\\sum_{1 \\le i < j \\le n} \\omega(P_i P_j)$. Else, if $m > 1$, then $x$ contributes a count of 1 to $\\omega(P_i P_j)$ if we have $i = i_{n_1}$ and $i_{n_2}$ for some $n_1, n_2 \\in \\{1, 2, \\dots, m\\}$ satisfying $n_1 < n_2$, and a count of 0 otherwise. Thus $x$ contributes a count of $\\binom{m}{2} = \\frac{m(m-1)}{2}$ to $\\sum_{1 \\le i < j \\le n} \\omega(P_i P_j)$. Since $\\frac{1(1-1)}{2} = 0$, it follows that $x$ contributes a count of $\\frac{m(m-1)}{2}$ to $\\sum_{1 \\le i < j \\le n} \\omega(P_i P_j)$ in all cases. Therefore, the count that $x$ contributes to the number\\n$$|A| - \\sum_{k=1}^{n} \\omega(P_k) + \\sum_{1 \\le i < j \\le n} \\omega(P_i P_j)$$\\nis equal to $1 - m + \\frac{m(m-1)}{2} = \\frac{(m-1)(m-2)}{2}$.\\nNow, it is easy to check that $\\frac{(m-1)(m-2)}{2}$ is non-negative for all positive integers $m$. Since there are $E(m)$ elements of $A$ that has exactly $m$ properties, and $E(m) \\frac{(m-1)(m-2)}{2}$ is non-negative for each $m = 1, 2, \\dots$,",
    "_source_page": 310
  },
  {
    "_source_page": 311
  },
  {
    "50": "(i) We have\\n$S(r, k) = \\frac{1}{k!} F(r, k)$\\n$= \\frac{1}{k!} \\sum_{i=0}^k (-1)^i \\binom{k}{i} (k-i)^r$ (by (4.5.1))\\n$= \\frac{1}{k!} \\sum_{j=0}^k (-1)^{k-j} \\binom{k}{k-j} j^r$ (by setting $j = k-i$)\\n$= \\frac{1}{k!} \\sum_{j=0}^k (-1)^{k-j} \\binom{k}{j} j^r$.\\n(ii) We have",
    "_source_page": 312
  },
  {
    "51": "For all positive integers n, we have\\n\\frac{n}{n+r} a_{n-1} = \\sum_{i=0}^{n-1} (-1)^i \\frac{n}{n+r} \\cdot \\frac{r}{i+r} \\binom{n-1}{i}\\n= \\sum_{i=0}^{n-1} (-1)^i \\frac{n}{n+r} \\cdot \\frac{r}{i+r} \\cdot \\frac{i+1}{n} \\binom{n}{i+1} \\text{ (by (2.1.2))}\\n= \\sum_{i=0}^{n-1} (-1)^i \\frac{r}{n+r} \\cdot \\frac{i+1}{i+r} \\binom{n}{i+1}\\n= \\sum_{i=0}^{n-1} (-1)^i \\frac{r}{n+r} \\cdot \\frac{i+1}{i+r} \\cdot \\frac{n-i}{i+1} \\binom{n}{i} \\text{ (by (2.1.3))}\\n= \\sum_{i=0}^{n-1} (-1)^i \\frac{r}{n+r} \\cdot \\frac{n-i}{i+r} \\binom{n}{i}\\n= \\sum_{i=0}^{n-1} (-1)^i \\frac{r}{i+r} \\cdot \\left( 1 - \\frac{i+r}{n+r} \\right) \\binom{n}{i}",
    "_source_page": 313
  },
  {
    "_source_page": 314
  },
  {
    "52": "Let us denote the universal set by $S$. For each $x \\in S$, let us compute the contribution of the count by $x$ to both $L(m)$ and $\\sum_{k=m}^{q} (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k)$. Let the number of properties that $x$ satisfy be $t$. Let us consider these cases:\\nCase 1: $t < m$. Then $x$ contributes a count of 0 to $L(m)$ and to $\\omega(k)$ for all positive integers $k \\geq m$, so that $x$ contributes a total count of 0 to $\\sum_{k=m}^{q} (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k)$.\\nCase 2: $t \\geq m$. Then $x$ contributes a count of 1 to $L(m)$. Next, $x$ is counted $\\binom{t}{k}$ times in $\\omega(k)$ for $k = 1, 2, \\dots, t$ and is counted 0 times in $\\omega(k)$ for $k = t + 1, t + 2, \\dots, q$. Thus, the count that $x$ contributes to the sum $\\sum_{k=m}^{q} (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k)$ is equal to\\n\\n$\\sum_{k=m}^{t} (-1)^{k-m} \\binom{k-1}{m-1} \\binom{t}{k}$\\n$= \\sum_{k=m}^{t} (-1)^{k-m} \\cdot \\frac{m}{k} \\binom{k}{m} \\binom{t}{k}$ (by (2.1.2), since $m \\geq 1$)\\n$= \\sum_{k=m}^{t} (-1)^{k-m} \\cdot \\frac{m}{k} \\binom{t}{m} \\binom{t-m}{k-m}$ (by (2.1.5))\\n$= \\binom{t}{m} \\sum_{i=0}^{t-m} (-1)^i \\cdot \\frac{m}{i+m} \\binom{t-m}{i}$ (by setting $i = k-m$)\\n$= \\binom{t}{m} \\cdot \\frac{1}{\\binom{t-m+m}{m}}$ (by Problem 4.51)\\n$= 1.$\\n\\nIn all cases, $x$ contributes the same count to both $L(m)$ and $\\sum_{k=m}^{q} (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k)$, so we must have\\n\\n$L(m) = \\sum_{k=m}^{q} (-1)^{k-m} \\binom{k-1}{m-1} \\omega(k)$\\n\\nas desired.",
    "53": "Let us first prove by induction on $n$ that if $S_1, S_2, \\dots, S_n$ are any finite sets, then we have $|\\bigcup_{k=1}^{n} S_k| \\leq \\sum_{k=1}^{n} |S_k|$, and equality holds if $S_1, S_2, \\dots, S_n$ are pairwise disjoint. The base case $n = 1$ is clear. For $n = 2$, we have",
    "_source_page": 315
  },
  {
    "_source_page": 316
  },
  {
    "_source_page": 317
  },
  {
    "54": "54. Let S denote the set of all sequences of the 28 random draws from the set\\n\\n\\{1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, J, K, L, U, X, Y, Z\\}.\\n\\nFor each i = 1, 2, \\dots, 17, we let P_i denote the property of an element x \\in S that the sequence CUBAJULY 1987 occurs in that order in x starting at the i-th draw. Since there are 20 choices for each of the 28 draws, we have \\omega(0) = |S| = 20^{28}. Next, let us fix i \\in \\{1, 2, \\dots, 17\\}, and pick x \\in S that satisfies P_i. Then there are 20 choices each for each of the remaining 28 - 12 = 16 draws, so it follows that \\omega(P_i) = 20^{16}, and hence we have\\n\\n\\omega(1) = \\sum_{i=1}^{17} \\omega(P_i) = \\sum_{i=1}^{17} 20^{16} = 17 \\cdot 20^{16}.\\n\\nNext, let us take any pair (i, j) of integers satisfying 1 \\le i < j \\le 17. By the definition of the properties P_i's, it is easy to see that \\omega(P_i P_j) > 0 if and only if we have j - i \\ge 12. Let us denote the set of pairs (i, j) satisfying 1 \\le",
    "_source_page": 318
  },
  {
    "55": "Let S denote the set of all sequences of the 35 random draws from the set\n$$\\{A, B, C, \\dots, X, Y, Z\\}.$$\nFor each i = 1, 2, \\dots, 22, we let P_i denote the property of an element x \\in S that the sequence MERRY CHRISTMAS occurs in that order in x starting at the i-th draw. Since there are 26 choices for each of the 35 draws, we have \\omega(0) = |S| = 26^{35}. Next, let us fix i \\in \\{1, 2, \\dots, 22\\}, and pick x \\in S that satisfies P_i. Then there are 26 choices each for each of the remaining 35 - 14 = 21 draws, so it follows that \\omega(P_i) = 26^{21}, and hence we have\n$$\\omega(1) = \\sum_{i=1}^{22} \\omega(P_i) = \\sum_{i=1}^{22} 26^{21} = 22 \\cdot 26^{21}.$$\nNext, let us take any pair (i, j) of integers satisfying 1 \\le i < j \\le 22. By the",
    "_source_page": 319
  },
  {
    "56": "Let $S$ denote the set of 1990 people, and let us take any person $a \\in S$ and any friend $b$ of $a$. Let us denote the set of friends of $a$ and $b$ by $F_a$ and $F_b$ respectively, and the set of common friends of $a$ and $b$ by $F_{a,b}$. Then we have $F_{a,b} = F_a \\cap F_b$. We note that $a \\notin F_{a,b}$ and $b \\notin F_{a,b}$. It follows from (4.1.1) that\n$$|F_{a,b}| = |F_a \\cap F_b|$$\n$$= |F_a| + |F_b| - |F_a \\cup F_b|$$\n$$\\ge |F_a| + |F_b| - |S|$$\n$$\\ge 1327 + 1327 - 1990$$\n$$= 664.$$",
    "_source_page": 320
  },
  {
    "57": "For each $z \\in S$, we define $f^0(z) = z$. We call $w \\in S$ a finite-periodic point of $f$ if there exists some positive integer $n$ such that $f^n(w) = w$. For each positive integer $k$, we let $A_k = \\{z \\in S | f^k(z) = z\\} = \\{z \\in S | z^{m^k} = z\\}$, and let us denote the set of finite-periodic points of $f$ by $F$. Then it is clear that $|A_k| = m^k$ for all positive integers $k$. Next, for each $w \\in F$, we define $n(w)$ to be the smallest positive integer satisfying $w \\in A_{n(w)}$ (in other words, $w$ is a $n(w)$-periodic point of $f$).\nLet us first show for any $w \\in F$ and positive integer $n$ that $w \\in A_n$ if and only if $n(w)$ divides $n$. For the \"if\" direction, let us write $n = n(w) \\cdot q$ where $q$ is a positive integer. Then we have\n\n$f^{n(w) \\cdot q}(w) = \\underbrace{f^{n(w)}(f^{n(w)}(\\dots(f^{n(w)}(w))))}_{q}$\n$= f^{n(w)}(\\underbrace{f^{n(w)}(\\dots(f^{n(w)}(w)))}_{q-1})$\n$= \\dots$\n$= f^{n(w)}(w)$\n$= w,$\n\nwhich shows that $w \\in A_n$. Conversely, for the \"only if\" direction, let us write $n = n(w) \\cdot q + r$, where $q$ is a non-negative integer and $r \\in \\{0, 1, \\dots, n(w) - 1\\}$. Then by our earlier argument, we have $f^{n(w) \\cdot q}(w) = w$, and so we have",
    "_source_page": 321
  },
  {
    "_source_page": 322
  },
  {
    "58": "For $j = 1, 2, \\dots, m$, we let $P_j$ denote the property of a matix $M \\in \\mathcal{M}$ that the $j$-th row of $M$ is a zero row, and for $i = 1, 2, \\dots, n$, we let $P_{m+i}$ denote the property of a matix $M \\in \\mathcal{M}$ that the $i$-th column of $M$ is a zero column. Furthermore, we let $E_r(j)$ denote the number of elements in $\\mathcal{M}$ that has exactly $j$ zero rows, $\\omega_r(0) = |\\mathcal{M}| = 2^{mn}$, and for $j = 1, 2, \\dots, m$, we let\n\n$\\omega_r(j) = \\sum_{1 \\le k_1 < \\dots < k_j \\le m} \\omega(P_{k_1} \\dots P_{k_j}).$\n\nFirstly, let us compute $|\\mathcal{M}_r| = |\\mathcal{M}| - E_r(0)$. Let us compute $\\omega_r(j)$ for $j = 1, 2, \\dots, m$. To this end, let us fix $j \\in \\{1, 2, \\dots, m\\}$, and take any $j$-tuple of integers $(k_1, \\dots, k_j)$ satisfying $1 \\le k_1 < \\dots < k_j \\le m$. It is easy to see that there are 2 choices each for each of the entries in the remaining $(m - j) \\times n$ submatrix, so that we have $\\omega(P_{k_1} \\dots P_{k_j}) = 2^{n(m - j)}$. Since there are $\\binom{m}{j}$ such $j$-tuples, we have\n\n$\\omega_r(j) = \\sum_{1 \\le k_1 < \\dots < k_j \\le m} \\omega(P_{k_1} \\dots P_{k_j})$\n$= \\sum_{1 \\le k_1 < \\dots < k_j \\le m} 2^{n(m - j)}$\n$= \\binom{m}{j} 2^{n(m - j)}.$",
    "_source_page": 323
  },
  {
    "_source_page": 324
  },
  {
    "_source_page": 325
  },
  {
    "59": "(i) Let $S$ denote the set of permutations $a_1 a_2 \\cdots a_n$ of $\\{1, 2, \\dots, n\\}$ that satisfies $a_m = m$. For $i = 1, 2, \\dots, m - 1$, we let $P_i$ denote the property of a permutation $a_1 a_2 \\cdots a_n \\in S$ that $a_i = i$. By definition, we have $\\omega(0) = |S| = (n - 1)!$. Next, let us compute $\\omega(i)$ for $i = 1, 2, \\dots, m - 1$. To this end, let us fix $i \\in \\{1, 2, \\dots, m - 1\\}$, and take any $i$-tuple of integers $(n_1, \\dots, n_i)$ satisfying $1 \\le n_1 < n_2 < \\dots < n_i \\le m - 1$. Then there are $(n - 1 - i)!$ ways to permute $\\{1, 2, \\dots, n\\} \\setminus \\{n_1, n_2, \\dots, n_i, m\\}$, so that we have $\\omega(P_{n_1} P_{n_2} \\dots P_{n_i}) = (n - 1 - i)!$. As there are $\\binom{m-1}{i}$ such $i$-tuples, it follows that we have\\n\\n$\\omega(i) = \\sum_{1 \\le n_1 < n_2 < \\cdots < n_i \\le m - 1} \\omega(P_{n_1} P_{n_2} \\cdots P_{n_i})$\\n$= \\sum_{1 \\le n_1 < n_2 < \\cdots < n_i \\le m - 1} (n - 1 - i)!$\\n$= \\binom{m-1}{i}(n - 1 - i)!$.\\n\\nAs we have $\\omega(0) = (n - 1)! = \\binom{m-1}{0}(n - 1 - 0)!$, it follows from (4.3.2) that we have\\n\\n$P_n(m) = E(0) = \\sum_{i=0}^{m-1} (-1)^i \\omega(i) = \\sum_{i=0}^{m-1} (-1)^i \\binom{m-1}{i}(n - 1 - i)!$.\\n\\n(ii) We have",
    "_source_page": 326
  },
  {
    "_source_page": 327
  },
  {
    "60": "Let us fix $k \\in \\{1, 2, \\dots, pq\\}$, and let $A_k$ denote the set of $p \\times q$ (0, 1)-matrices with exactly $k$ entries equal to 1. For $j = 1, 2, \\dots, p$, we let $P_j$ denote the property of a matix $M \\in A_k$ that the $j$-th row of $M$ is a zero row, and for $i = 1, 2, \\dots, q$, we let $P_{p+i}$ denote the property of a matix $M \\in A_k$ that the $i$-th column of $M$ is a zero column. Let us compute $\\omega(\\ell)$ for $\\ell = 1, 2, \\dots, p + q$. To this end, let us fix $\\ell \\in \\{1, 2, \\dots, p + q\\}$ and $j \\in \\{0, 1, \\dots, \\ell\\}$, and take any $\\ell$-tuple of integers $(k_1, \\dots, k_\\ell)$ satisfying $1 \\le k_1 < \\dots < k_\\ell \\le p + q$ and $|\\{r | 1 \\le r \\le \\ell, 1 \\le k_r \\le p\\}| = j$.\\nNow, for each $M \\in \\mathcal{M}$ whose $k_1$-th, $k_2$-th, $\\dots, k_j$-th rows are zero rows and $(k_{j+1} - p)$-th, $(k_{j+2} - p)$-th, ..., $(k_\\ell - p)$-th columns are zero columns, there are $\\binom{(p-j)(q-\\ell+j)}{k}$ ways to assign either 0 or 1 to each of the remaining entries in the $(p - j) \\times (q - \\ell + j)$ submatrix, so that there are exactly $k$ entries equal to 1 in the $(p - j) \\times (q - \\ell + j)$ submatrix. Thus, we have $\\omega(P_{k_1} \\dots P_{k_\\ell}) = \\binom{(p-j)(q-\\ell+j)}{k}$. As there are $\\binom{p}{j}\\binom{q}{\\ell-j}$ such $\\ell$-tuples, it follows that we have\\n\\n$\\omega(\\ell) = \\sum_{1 \\le k_1 < \\dots < k_\\ell \\le p+q} \\omega(P_{k_1} \\dots P_{k_\\ell})$\\n$= \\sum_{j=0}^\\ell \\sum_{\\substack{1 \\le k_1 < \\dots < k_\\ell \\le p+q, \\\\ |\\{p | 1 \\le p \\le \\ell, 1 \\le k_p \\le p\\}| = j}} \\omega(P_{k_1} \\dots P_{k_\\ell})$\\n$= \\sum_{j=0}^\\ell \\sum_{\\substack{1 \\le k_1 < \\dots < k_\\ell \\le p+q, \\\\ |\\{p | 1 \\le p \\le \\ell, 1 \\le k_p \\le p\\}| = j}} \\binom{(p-j)(q-\\ell+j)}{k}$\\n$= \\sum_{j=0}^\\ell \\binom{p}{j} \\binom{q}{\\ell-j} \\binom{(p-j)(q-\\ell+j)}{k}$.\\n\\nSince $\\omega(0) = \\binom{pq}{k} = \\sum_{j=0}^0 \\binom{p}{j} \\binom{q}{0-j} \\binom{(p-j)(q-0+j)}{k}$, it follows from (4.3.2) that we have",
    "_source_page": 328
  },
  {
    "_source_page": 329
  },
  {
    "61": "Let \\{H_1, W_1\\}, \\{H_2, W_2\\}, \\dots, \\{H_n, W_n\\} be n couples, where the H_i's denote the husbands and the W_i's denote the wives. Let W_1, W_2, \\dots, W_n be seated around a table in that order in the clockwise direction. Let us first show that M_n \\ge n - 2 for all n \\ge 2. Clearly, the statement holds when n = 2, so let us assume that n \\ge 3. Then for each i = 2, 3, \\dots, n - 1, we may seat H_1 in between W_i and W_{i+1}, and subsequently seat H_1, H_2, H_3, \\dots, H_n around the table in that order in the clockwise direction, so that the resulting arrangement has no husband that is adjacent to his wife. Consequently, we must have M_n \\ge n - 2 as claimed.",
    "_source_page": 330
  },
  {
    "_source_page": 331
  },
  {
    "62": "Let $(x)_0 = 1$ and $(x)_m = x(x - 1) \\cdots (x - m + 1)$ for all positive integers $n$. Then we have\\n\\n$$\\sum_{k=0}^n k^r \\binom{n}{k} D_{n-k}$$\\n$$= \\sum_{k=0}^n k^r D_n(k) \\text{ (by Problem 4.33)}$$\\n$$= \\sum_{k=0}^n \\left( \\sum_{m=0}^r S(r, m)(k)_m \\right) D_n(k) \\text{ (by Problem 1.85)}$$\\n$$= \\sum_{k=0}^n (k)_m D_n(k) \\sum_{m=0}^r S(r, m)$$\\n$$= \\sum_{k=m}^n (k)_m D_n(k) \\sum_{m=0}^r S(r, m)$$\\n(since $(k)_m = 0$ for all non-negative integers $k < m$)\\n$$= \\sum_{k=m}^n (k)_m D_n(k) \\sum_{m=0}^{\\min\\{r, n\\}} S(r, m) \\text{ (since } m \\le r \\text{ and } m \\le n)$$\\n$$= n! \\sum_{m=0}^{\\min\\{r, n\\}} S(r, m) \\text{ (by Problem 4.37).}$$\\n\\nWhen $n \\ge r$, we have $\\min\\{r, n\\} = r$, so that we have\\n\\n$$\\sum_{k=0}^n k^r \\binom{n}{k} D_{n-k} = n! \\sum_{m=0}^{\\min\\{r, n\\}} S(r, m) = n! \\sum_{m=0}^r S(r, m) = B_r \\cdot n!.$$",
    "63": "Let $S = \\{1, 2, 3, \\dots, 280\\}$. For all $k = 2, 3, 5, 7$ and $x \\in S$, we say that $x$ has property $P_k$ if $x$ is divisible by $k$. Then we have",
    "_source_page": 332
  },
  {
    "_source_page": 333
  },
  {
    "_source_page": 334
  },
  {
    "_source_page": 335
  },
  {
    "exercise": 5,
    "1": "We have\n$(x^3 + x^4 + x^5 + \\dots)^3 = [x^3(1 + x + x^2 + \\dots)]^3$\n$= x^9(1 - x)^{-3}$ (by (5.1.3))\n$= x^9 \\sum_{k=0}^{\\infty} \\binom{k+3-1}{k} x^k$ (by (5.1.6))\n$= x^9 \\sum_{k=0}^{\\infty} \\binom{k+2}{2} x^k$.\nThus, the coefficient of $x^{20}$ in the expansion of $(x^3 + x^4 + x^5 + \\dots)^3$ is equal to the coefficient of $x^{20-9} = x^{11}$ in $\\sum_{k=0}^{\\infty} \\binom{k+2}{2} x^k$, which is then equal to $\\binom{11+2}{2} =$\n$\\binom{13}{2}$.",
    "2": "We have\n$(1 + x + x^2 + \\dots + x^5)^4$\n$= (1 - x^6)^4(1 - x)^{-4}$ (by (5.1.3))\n$= (1 - x^6)^4 \\sum_{k=0}^{\\infty} \\binom{k+4-1}{k} x^k$ (by (5.1.6))\n$= (1 - 4x^6 + 6x^{12} - 4x^{18} + x^{24}) \\sum_{k=0}^{\\infty} \\binom{k+3}{3} x^k$.\nThus, the coefficient of $x^9$ in the expansion of $(1 + x + x^2 + \\dots + x^5)^4$ is equal to $\\binom{9+3}{3} - 4\\binom{3+3}{3} = \\binom{12}{3} - 4\\binom{6}{3}$, and the coefficient of $x^{14}$ in the expansion of $(1 + x + x^2 + \\dots + x^5)^4$ is equal to $\\binom{14+3}{3} - 4\\binom{8+3}{3} + 6\\binom{2+3}{3} = \\binom{17}{3}$\n$- 4\\binom{11}{3} + 6\\binom{5}{3}$.",
    "3": "Theorem 5.1.1 (iv): We have",
    "_source_page": 336
  },
  {
    "5.1.1": "(vi): We have \\n$(1-x)A(x) = (1-x)(a_0 + a_1x + a_2x^2 + \\dots) = (a_0 + a_1x + a_2x^2 + \\dots) - (a_0x + a_1x^2 + a_2x^3 + \\dots) = a_0 + (a_1 - a_0)x + (a_2 - a_1)x^2 + \\dots$. \\nHence, it follows that $(1-x)A(x)$ is the generating function for the sequence $(c_r)$, where \\n$c_0 = a_0$ and $c_r = a_r - a_{r-1}$ for all $r \\ge 1$. \\n(viii): Since $A'(x) = a_1 + 2a_2x + 3a_3x^2 + \\dots$, it follows that $A'(x)$ is the generating function for the sequence $(c_r)$, where \\n$c_r = (r+1)a_{r+1}$ for all $r$. \\n(ix): We have \\n$xA'(x) = x(a_1 + 2a_2x + 3a_3x^2 + \\dots) = a_1x + 2a_2x^2 + 3a_3x^3 + \\dots$. \\nHence, it follows that $xA'(x)$ is the generating function for the sequence $(c_r)$, where \\n$c_r = ra_r$ for all $r$. \\n(x): We have \\n$\\int_0^x A(t)dt = \\int_0^x (a_0 + a_1t + a_2t^2 + \\dots)dt = \\left[ a_0t + \\frac{a_1}{2}t^2 + \\frac{a_2}{3}t^3 + \\dots \\right]_0^x = a_0x + \\frac{a_1}{2}x^2 + \\frac{a_2}{3}x^3 + \\dots$.",
    "_source_page": 337
  },
  {
    "4": "Let $a_i = i$ and $b_i = i^2$ for all non-negative integers $r$. By (5.1.5), the generating function for the sequence $(a_r)$ is $A(x) = \\frac{x}{(1-x)^2}$. Since we have $b_r = ra_r$ for all non-negative integers $r$, it follows from Theorem 5.1.1 (ix) that the generating function $B(x)$ for the sequence $(b_r)$ is\n\n$xA'(x) = x \\cdot \\frac{(1-x)^2 + x \\cdot 2(1-x)}{(1-x)^4} = \\frac{x+x^2}{(1-x)^3}.$\n\nNext, since we have $c_0 = 0 = b_0$ $c_r = \\sum_{i=1}^r i^2 = \\sum_{i=0}^r i^2 = \\sum_{i=0}^r b_i$ for all positive integers $r$, it follows from Theorem 5.1.1 (vii) that the generating function $C(x)$ for the sequence $(c_r)$ is\n\n$\\frac{B(x)}{1-x} = \\frac{x+x^2}{(1-x)^4}.$\n\nNow, we observe that\n\n$C(x) = \\frac{x+x^2}{(1-x)^4}$\n$= (x+x^2) \\sum_{r=0}^\\infty \\binom{r+4-1}{r} x^r$ (by (5.1.6))\n$= \\sum_{r=0}^\\infty \\binom{r+3}{3} x^{r+1} + \\sum_{r=0}^\\infty \\binom{r+3}{3} x^{r+2}$\n$= \\sum_{r=1}^\\infty \\binom{r+2}{3} x^r + \\sum_{r=2}^\\infty \\binom{r+1}{3} x^r$\n$= x + \\sum_{r=2}^\\infty \\left( \\binom{r+1}{3} + \\binom{r+2}{3} \\right) x^r.$\n\nSince the equation $c_r = \\binom{r+1}{3} + \\binom{r+2}{3}$ also holds when $r = 1$, it follows that we must have",
    "_source_page": 338
  },
  {
    "5": "Let a_i = 2^i and b_i = i2^i for all non-negative integers i. By (5.1.4), the generating function for the sequence (a_i) is A(x) = \\frac{1}{1-2x}. Since we have b_i = ia_i for all non-negative integers i, it follows from Theorem 5.1.1 (ix) that the generating function B(x) for the sequence (b_i) is\\nxA'(x) = x \\cdot \\frac{2}{(1-2x)^2} = \\frac{2x}{(1-2x)^2}.\\nNext, since we have c_r = \\sum_{i=0}^{r} i2^i = \\sum_{i=0}^{r} b_i for all non-negative integers r, it follows from Theorem 5.1.1 (vii) that the generating function C(x) for the sequence (c_r) is\\n\\frac{B(x)}{1-x} = \\frac{2x}{(1-2x)^2(1-x)}.\\nNow, we observe that\\nC(x) = \\frac{2x}{(1-2x)^2(1-x)} = \\frac{2}{1-x} - \\frac{4}{1-2x} + \\frac{2}{(1-2x)^2}.\\nSince A(x) = \\frac{1}{1-2x} = \\sum_{r=0}^{\\infty} 2^r x^r, and A'(x) = \\frac{2}{(1-2x)^2}, it follows that we have\\n\\frac{1}{(1-2x)^2} = \\frac{1}{2} A'(x) = \\frac{1}{2} \\sum_{r=1}^{\\infty} r 2^r x^{r-1} = \\sum_{r=0}^{\\infty} (r+1) 2^r x^r.\\nThis implies that",
    "_source_page": 339
  },
  {
    "6": "(i) Let the generating function for the sequence (a_r) be A(x). Then we have",
    "_source_page": 340
  },
  {
    "_source_page": 341
  },
  {
    "7": "By (2.1.2), we have $\\frac{r}{n} \\binom{n}{r} = \\binom{n-1}{r-1}$ for all positive integers $r$. This implies that we have\\n\\n$$\\begin{aligned} \\frac{1}{n} \\sum_{r=1}^n r \\binom{n}{r} \\binom{m}{r} &= \\sum_{r=1}^n \\binom{n-1}{r-1} \\binom{m}{r} \\\\ &= \\sum_{r=1}^n \\binom{n-1}{n-r} \\binom{m}{r} \\\\ &= \\sum_{r=0}^n \\binom{n-1}{n-r} \\binom{m}{r}, \\end{aligned}$$\\n\\nwhere the last equality follows from the fact that $\\binom{n-1}{n} = 0$. Now, for each non-negative integer $r$, we let $a_r = \\binom{m}{r}$ and $b_r = \\binom{n-1}{r}$. Then the generating functions for the sequences $(a_r)$ and $(b_r)$ are $A(x) = (1 + x)^m$ and $B(x) = (1 + x)^{n-1}$ respectively. Let $c_r = \\sum_{k=0}^r a_k b_{r-k} = \\sum_{k=0}^r \\binom{n-1}{r-k} \\binom{m}{k}$ for all non-negative integers $r$. Then it follows from Theorem 5.1.1 (ii) that the generating function for $(c_r)$ is\\n\\n$$C(x) = A(x)B(x) = (1 + x)^{n+m-1} = \\sum_{r=0}^{\\infty} \\binom{n+m-1}{r} x^r.$$\\n\\nConsequently, we have\\n\\n$$\\frac{1}{n} \\sum_{r=1}^n r \\binom{n}{r} \\binom{m}{r} = \\sum_{r=0}^n \\binom{n-1}{n-r} \\binom{m}{r} = c_n = \\binom{n+m-1}{n},$$\\n\\nor equivalently,",
    "_source_page": 342
  },
  {
    "8": "For each non-negative integer $r$, we let $a_r$ denote the number of ways to distribute $r$ identical pieces of candy to 3 children so that no child gets more than 4 pieces. Then it is easy to see that the generating function for $(a_r)$ is\n\n$(1 + x + \\cdots + x^4)^3$\n$= (1 - x^5)^3(1 - x)^{-3}$ (by (5.1.3))\n$= (1 - 3x^5 + 3x^{10} - x^{15}) \\sum_{r=0}^{\\infty} \\binom{r + 3 - 1}{r} x^r$ (by (5.1.6))\n$= (1 - 3x^5 + 3x^{10} - x^{15}) \\sum_{r=0}^{\\infty} \\binom{r + 2}{2} x^r$.\n\nThus, the number of ways to distribute 10 identical pieces of candy to 3 children so that no child gets more than 4 pieces is equal to\n\n$a_{10} = \\binom{10 + 2}{2} - 3\\binom{10 - 5 + 2}{2} + 3\\binom{10 - 10 + 2}{2}$\n$= \\binom{12}{2} - 3\\binom{7}{2} + 3$\n$= 6.$",
    "9": "For each non-negative integer $r$, we let $a_r$ denote the number of ways to distribute $r$ identical balls to 7 distinct boxes, such that box 1 must hold at least 3, and at most 10, of the balls. Then it is easy to see that the generating function for $(a_r)$ is\n\n$(x^3 + x^4 + \\cdots + x^{10})(1 + x + x^2 \\cdots)^6$\n$= x^3(1 + x + \\cdots + x^7)(1 + x + x^2 \\cdots)^6$\n$= x^3(1 - x^8)(1 - x)^{-7}$ (by (5.1.3))\n$= x^3(1 - x^8) \\sum_{r=0}^{\\infty} \\binom{r + 7 - 1}{r} x^r$ (by (5.1.6))\n$= x^3(1 - x^8) \\sum_{r=0}^{\\infty} \\binom{r + 6}{6} x^r$.",
    "_source_page": 343
  },
  {
    "10": "For each non-negative integer $r$, we let $a_r$ denote the number of ways to select $r$ balls from $n$ identical blue balls, $n$ identical red balls and $n$ identical white balls. Then it is easy to see that the generating function for $(a_r)$ is\n\n$(1 + x + \\cdots + x^n)^3$\n$= (1 - x^{n+1})^3(1 - x)^{-3}$ (by (5.1.3))\n$= (1 - 3x^{n+1} + 3x^{2n+2} - x^{3n+3}) \\sum_{r=0}^{\\infty} \\binom{r + 3 - 1}{r} x^r$ (by (5.1.6))\n$= (1 - 3x^{n+1} + 3x^{2n+2} - x^{3n+3}) \\sum_{r=0}^{\\infty} \\binom{r + 2}{2} x^r$.\n\nThus, the number of ways to select $2n$ balls from $n$ identical blue balls, $n$ identical red balls and $n$ identical white balls, is equal to\n\n$a_{2n} = \\binom{2n + 2}{2} - 3\\binom{2n - (n + 1) + 2}{2} = \\binom{2n + 2}{2} - 3\\binom{n + 1}{2}$.",
    "11": "The problem is equivalent to finding the number of ways to divide 10 identical chairs into 4 different rooms so that each room will have 1, 2, 3, 4 or 5 chairs. For each non-negative integer $r$, we let $a_r$ denote the number of ways to divide $r$ identical chairs into 4 different rooms such that each room will have 1, 2, 3, 4 or 5 chairs. Then it is easy to see that the generating function for $(a_r)$ is",
    "_source_page": 344
  },
  {
    "12": "(i) By (5.1.3), the generating function $A(x)$ for $(a_r)$ is\\n\\n$(x + x^2 + x^3 + \\cdots)^3(1 + x + x^2 + \\cdots)^2 = x^3(1 + x + x^2 + \\cdots)^5 = x^3(1 - x)^{-5}$.\\n\\n(ii) By (5.1.3), the generating function $B(x)$ for $(b_r)$ is\\n\\n$(x^2 + x^3 + x^4 \\cdots)^2(1 + x + x^2 + \\cdots)^3 = x^4(1 + x + x^2 + \\cdots)^5 = x^4(1 - x)^{-5}$.\\n\\n(iii) As $B(x) = xA(x)$, it follows from Theorem 5.1.1 (iv) that we have $b_r = a_{r-1}$ for each $r = 1, 2, \\dots$, or equivalently, $a_r = b_{r+1}$ for each $r = 1, 2, \\dots$ as desired.",
    "13": "The generating function for $(a_r)$ is\\n\\n$(x^3 + x^4 + \\cdots + x^9)(1 + x + \\cdots + x^8)(x^7 + x^8 + \\cdots + x^{17})\\n= x^{10}(1 + x + \\cdots + x^6)(1 + x + \\cdots + x^8)(1 + x + \\cdots + x^{10})\\n= x^{10}(1 - x^7)(1 - x^9)(1 - x^{11})(1 - x)^{-3}.\\n\\nBy (5.1.6), we have",
    "_source_page": 345
  },
  {
    "14": "14. The problem is equivalent to finding the number of ways to divide $\\frac{3000}{25} = 120$ identical pencils amongst 4 student groups such that each group gets at least $\\frac{150}{25} = 6$, but not more than $\\frac{1000}{25} = 40$ of the pencils. For each non-negative integer $r$, we let $a_r$ denote the number of ways to divide $k$ identical pencils amongst 4 student groups such that each group gets at least 6, but not more than 40 of the pencils. By (5.1.3) and (5.1.6), we see that the generating function for $(a_r)$ is\n$(x^6 + x^7 + \\dots + x^{40})^4$\n$= x^{24}(1 + x + \\dots + x^{34})^4$\n$= x^{24}(1 - x^{35})^4(1 - x)^{-4}$\n$= x^{24}(1 - 4x^{35} + 6x^{70} - 4x^{105} + x^{140})\\sum_{r=0}^{\\infty} \\binom{r+4-1}{r} x^r$\n$= (x^{24} - 4x^{59} + 6x^{94} - 4x^{129} + x^{164})\\sum_{r=0}^{\\infty} \\binom{r+3}{3} x^r$.\nThus, the number of ways to divide 120 identical pencils amongst 4 student groups such that each group gets at least 6, but not more than 40 of the pencils, is equal to\n$a_{120} = \\binom{120 - 24 + 3}{3} - 4\\binom{120 - 59 + 3}{3} + 6\\binom{120 - 94 + 3}{3}$\n$= \\binom{99}{3} - 4\\binom{64}{3} + 6\\binom{29}{3}$.",
    "15": "15. For each non-negative integer $r$, we let $a_r$ denote the number of ways to select $r$ letters from \"F, U, N, C, T, I, O\" that contain at most 3 U's and at",
    "_source_page": 346
  },
  {
    "16": "(i) By (5.1.3), the generating function for $(a_r)$ is\n\n$(1 + x + x^2 + x^3)(x^2 + x^3 + x^4 + \\cdots)(1 + x + x^2 + \\cdots)^5$\n$= x^2(1 + x + x^2 + x^3)(1 + x + x^2 + \\cdots)^6$\n$= x^2(1 + x + x^2 + x^3)(1 - x)^{-6}$.\n\n(ii) A similar argument as in Example 5.3.2 shows that the generating function for $(a_r)$ is\n\n$[(1 - x)(1 - x^2)(1 - x^3)(1 - x^5)(1 - x^8)]^{-1}$.\n\n(iii) A similar argument as in Example 5.3.3 shows that the generating function for $(a_r)$ is\n\n$(1 + x^5)(1 + x^{10})(1 + x^{15})$.\n\n(iv) A similar argument as in Example 5.3.4 shows that the generating function for $(a_r)$ is\n\n$\\prod_{k=0}^{\\infty} (1 + x^{2k+1})$.\n\n(v) A similar argument as in Example 5.3.4 shows that the generating",
    "_source_page": 347
  },
  {
    "18": "For each non-negative integer $r$, we let $a_r$ denote the number of $r$-element multi-subsets of the multi-set $\\{n \\cdot z_1, n \\cdot z_2, \\dots, n \\cdot z_m\\}$. Then it is easy to see that the generating function for $(a_r)$ is\n\n$(1 + x + \\dots + x^n)^m$\n$= (1 - x^{n+1})^m (1 - x)^{-m}$\n$= \\sum_{k=0}^m \\binom{m}{k} (-1)^k x^{k(n+1)} \\sum_{r=0}^\\infty \\binom{r+m-1}{r} x^r$ (by (5.1.6))\n$= \\sum_{k=0}^m \\sum_{r=0}^\\infty (-1)^k \\binom{m}{k} \\binom{r+m-1}{m-1} x^{k(n+1)+r}.$\n\nThus, the number of $3n$-element multi-subsets of the multi-set\n\n$\\{n \\cdot z_1, n \\cdot z_2, \\dots, n \\cdot z_m\\}$\n\nis equal to\n\n$a_{3n} = \\binom{m}{0} \\binom{3n+m-1}{m-1} - \\binom{m}{1} \\binom{2n-1+m-1}{m-1}$\n$+ \\binom{m}{2} \\binom{n-2+m-1}{m-1}$\n$= \\binom{3n+m-1}{m-1} - m \\binom{2n+m-2}{m-1} + \\binom{m}{2} \\binom{n+m-3}{m-1}.$",
    "19": "For each non-negative integer $r$, we let $a_r$ denote the number of ways to yield a sum of $r$ from rolling 5 distinct dice. Then it is easy to see that the generating function for $(a_r)$ is\n\n$(x + x^2 + \\dots + x^6)^5$\n$= x^5 (1 + x + \\dots + x^5)^5$\n$= x^5 (1 - x^6)^5 (1 - x)^{-5}$\n$= x^5 \\sum_{k=0}^5 \\binom{5}{k} (-1)^k x^{6k} \\sum_{r=0}^\\infty \\binom{r+5-1}{r} x^r$ (by (5.1.6))\n$= \\sum_{k=0}^5 \\sum_{r=0}^\\infty (-1)^k \\binom{5}{k} \\binom{r+4}{4} x^{6k+5+r}.$\n\nThus, the number of ways to yield a sum of 17 from rolling 5 distinct dice",
    "_source_page": 349
  },
  {
    "20": "For each non-negative integer $r$ and $n$, we let $a_{r, n}$ denote the number of ways to yield a sum of $r$ from rolling $n$ distinct dice. Then it is easy to see that the generating $A_n(x)$ for $(a_{r, n})_{r=0}^\\infty$ is $(x + x^2 + \\dots + x^6)^n$. Since we have $a_r = \\sum_{n=0}^\\infty a_{r, n}$ for all non-negative integers $r$, it follows that the generating function for $(a_r)$ is\n\n$\\sum_{n=0}^\\infty A_n(x) = \\sum_{n=0}^\\infty (x + x^2 + \\dots + x^6)^n = [1 - (x + x^2 + \\dots + x^6)]^{-1}$.",
    "21": "(i) By (5.1.3), the generating function $A(x)$ for $(a_r)$ is\n\n$(x + x^2 + x^3 + \\dots)^{k+1}(1 + x + x^2 + \\dots)^k$\n$= x^{k+1}(1 + x + x^2 + \\dots)^{2k+1}$\n$= x^{k+1}(1 - x)^{-(2k+1)}$.\n\n(ii) By (5.1.3), the generating function $B(x)$ for $(b_r)$ is\n\n$(x^m + x^{m+1} + x^{m+2} \\dots)^k(1 + x + x^2 + \\dots)^{k+1}$\n$= x^{mk}(1 + x + x^2 + \\dots)^{2k+1}$\n$= x^{mk}(1 - x)^{-(2k+1)}$.\n\n(iii) As $B(x) = x^{(m-1)k-1}A(x)$, it follows from Theorem 5.1.1 (iv) that we have $b_r = a_{r-(m-1)k-1}$ for each $r = (m - 1)k - 1, (m - 1)k, \\dots$, or equivalently, $a_r = b_{r+(m-1)k-1}$ as desired.",
    "22": "By (5.1.3), the generating function for $(a_r)$ is\n\n$(1 + x + x^2 + \\dots)(1 + x^2 + x^4 + \\dots)(1 + x^3 + \\dots)(1 + x^4 + \\dots)$\n$= [(1 - x)(1 - x^2)(1 - x^3)(1 - x^4)]^{-1}$.",
    "_source_page": 350
  },
  {
    "23": "We first note that $a_r$ is equal to the number of ways to arrange $r - 4$ 0's and 4 1's, such that no two 1's are consecutive, which is then equal to the number of integer solutions to the equation\n$$x_1 + x_2 + x_3 + x_4 + x_5 = r - 4$$\nthat satisfy $x_1, x_5 \\ge 0$ and $x_2, x_3, x_4 \\ge 1$. Now, for each integer $r$, we let $b_r$ denote the number of integer solutions to the equation\n$$x_1 + x_2 + x_3 + x_4 + x_5 = r - 4$$\nthat satisfy $x_1, x_5 \\ge 0$ and $x_2, x_3, x_4 \\ge 1$. By (5.1.3), it follows that the generating function for $(b_r)$ is given by\n$$(x+x^2+x^3+\\cdots)^3(1+x+x^2+\\cdots)^2 = x^3(1+x+x^2+\\cdots)^5 = x^3(1-x)^{-5}.$$\nSince $a_r = b_{r-4}$, it follows from Theorem 5.1.1 (iv) that the generating function for $(a_r)$ is $x^7(1-x)^{-5}$. Now, by (5.1.6), we have\n$$x^7(1-x)^{-5} = x^7 \\sum_{t=0}^{\\infty} \\binom{t+5-1}{t} x^t$$\n$$= \\sum_{t=0}^{\\infty} \\binom{t+4}{4} x^{t+7}$$\n$$= \\sum_{r=7}^{\\infty} \\binom{r-3}{4} x^r$$\n$$= \\sum_{r=0}^{\\infty} \\binom{r-3}{4} x^r,$$\nwhere the last equality follows from the fact that $\\binom{k}{4} = 0$ for all integers $k < 4$. Thus, we have $a_r = \\binom{r-3}{4}$.",
    "24": "We first note that $a_r$ is equal to the number of ways to arrange $r - m$ 0's and $m$ 1's, such that there are at least $t - 1$ 0's between any two 1's. This is then equal to the number of integer solutions to the equation\n$$x_1 + x_2 + \\cdots + x_{m+1} = r - m$$\nthat satisfy $x_1, x_{m+1} \\ge 0$ and $x_2, x_3, \\dots, x_m \\ge t - 1$. Now, for each non-negative integer $r$, we let $b_r$ denote the number of integer solutions to the",
    "_source_page": 351
  },
  {
    "25": "The number of integer solutions to the inequality\n$$x_1 + x_2 + x_3 + x_4 \\le r$$\nwith $3 \\le x_1 \\le 9$, $1 \\le x_2 \\le 10$, $x_3 \\ge 2$ and $x_4 \\ge 0$, is equal to the number of integer solutions to the equation\n$$x_1 + x_2 + x_3 + x_4 + x_5 = r$$\nwith $3 \\le x_1 \\le 9$, $1 \\le x_2 \\le 10$, $x_3 \\ge 2$ and $x_4, x_5 \\ge 0$. Thus, it follows from",
    "_source_page": 352
  },
  {
    "26": "It is clear that the inequalities hold when $n = 0$, so let us assume that $n > 0$. We first observe that $\\binom{2\\alpha}{2n}$ is the coefficient of $x^{2n}$ in the expansion of $(1 + x)^{2\\alpha}$. On the other hand, it follows from (5.1.1) that we have\n\n$(1 + x)^{2\\alpha} = (1 + x)^{\\alpha}(1 + x)^{\\alpha}$\n$= \\sum_{i=0}^{\\infty} \\binom{\\alpha}{i} x^i \\sum_{j=0}^{\\infty} \\binom{\\alpha}{j} x^j$\n$= \\sum_{i=0}^{\\infty} \\binom{\\alpha}{i} x^i \\sum_{k=i}^{\\infty} \\binom{\\alpha}{k - i} x^{k-i}$ (by setting $k = i + j$)\n$= \\sum_{i=0}^{\\infty} \\sum_{k=i}^{\\infty} \\binom{\\alpha}{i} \\binom{\\alpha}{k - i} x^k$\n$= \\sum_{k=0}^{\\infty} \\sum_{i=0}^{k} \\binom{\\alpha}{i} \\binom{\\alpha}{k - i} x^k$.\n\nThis implies that the coefficient of $x^{2n}$ in the expansion of $(1 + x)^{2\\alpha}$ is equal",
    "_source_page": 353
  },
  {
    "_source_page": 354
  },
  {
    "_source_page": 355
  },
  {
    "27": "(i) We have\\nB(x) = \\sum_{k=0}^{\\infty} \\sum_{i=0}^{k} \\binom{n}{i} x^k\\n= \\sum_{i=0}^{\\infty} \\sum_{k=i}^{\\infty} \\binom{n}{i} x^k\\n= \\sum_{i=0}^{\\infty} \\binom{n}{i} x^i \\sum_{k=i}^{\\infty} x^{k-i}\\n= \\sum_{i=0}^{\\infty} \\binom{n}{i} x^i \\sum_{j=0}^{\\infty} x^j \\text{ (by setting } j = k - i\\text{)}\\n= \\sum_{i=0}^{n} \\binom{n}{i} x^i \\sum_{j=0}^{\\infty} x^j \\text{ (since } \\binom{n}{i} = 0 \\text{ for all } i > n\\text{)}\\n= (1+x)^n(1-x)^{-1} \\text{ (by (5.1.3)).}\\n\\n(ii) We first observe that for all k = 0, 1, \\dots, n - 1, we have\\n\\binom{n}{k+1} + \\dots + \\binom{n}{n} = \\binom{n}{n-k-1} + \\dots + \\binom{n}{0} = b_{n-1-k}.\\nThis implies that for all positive integers n, we have",
    "_source_page": 356
  },
  {
    "(iii)": "We have",
    "_source_page": 357
  },
  {
    "28": "(i) Let us prove by induction on $n$ that $\\binom{n}{r}_m$ is equal to the number of integer solutions to the equation\n$x_1 + x_2 + \\dots + x_n = r$\nthat satisfy $0 \\le x_i \\le m - 1$ for each $i = 1, 2, \\dots, n$, with the base case $n = 1$ being trivial. Suppose that the assertion holds for some positive integer $n = k \\ge 1$. Let $(n_1, n_2, \\dots, n_{k+1})$ be an integer solution to the equation\n$x_1 + x_2 + \\dots + x_{k+1} = r$\nthat satisfy $0 \\le x_i \\le m - 1$ for each $i = 1, 2, \\dots, k + 1$. Then $(n_1, n_2, \\dots, n_k)$ is an integer solution to the equation\n$x_1 + x_2 + \\dots + x_k = r - n_{k+1}$\nthat satisfy $0 \\le x_i \\le m - 1$ for each $i = 1, 2, \\dots, k$. Now, by induction hypothesis, there are $\\binom{k}{r-n_{k+1}}_m$ integer solutions to the equation\n$x_1 + x_2 + \\dots + x_k = r - n_{k+1}$\nthat satisfy $0 \\le x_i \\le m - 1$ for each $i = 1, \\dots, k$. Since $n_{k+1} \\in \\{0, 1, \\dots, m - 1\\}$, it follows from (AP) that the number of integer solutions to the equation to the equation",
    "_source_page": 358
  },
  {
    "_source_page": 359
  },
  {
    "_source_page": 360
  },
  {
    "_source_page": 361
  },
  {
    "_source_page": 362
  },
  {
    "_source_page": 363
  },
  {
    "_source_page": 364
  },
  {
    "29": "We first observe that $2^{r-2n}(1 + x)^{2n-r} = (\\frac{1+x}{2})^{2n-r}$ is the generating function for the sequence $(2^{r-2n}\\binom{2n-r}{m})_{m=0}^\\infty$. By Theorem 5.1.1 (i), it follows that $\\sum_{r=0}^n (\\frac{1+x}{2})^{2n-r}$ is the generating function for the sequence $(\\sum_{r=0}^n 2^{r-2n}\\binom{2n-r}{m})_{m=0}^\\infty$. Now, we have\\n\\n$\\sum_{r=0}^n (\\frac{1+x}{2})^{2n-r}$\\n$= \\sum_{k=n}^{2n} (\\frac{1+x}{2})^k$ (by setting $k = 2n - r$)\\n$= (\\frac{1+x}{2})^n \\sum_{k=0}^n (\\frac{1+x}{2})^k$\\n$= (\\frac{1+x}{2})^n [1 - (\\frac{1+x}{2})^{n+1}] [1 - (\\frac{1+x}{2})]^{-1}$\\n$= [(\\frac{1+x}{2})^n - (\\frac{1+x}{2})^{2n+1}] (\\frac{1}{2} - \\frac{x}{2})^{-1}$\\n$= 2(2^{-n}(1+x)^n - 2^{-2n-1}(1+x)^{2n+1})(1-x)^{-1}$\\n$= 2(2^{-n} \\sum_{i=0}^n \\binom{n}{i} x^i - 2^{-2n-1} \\sum_{i=0}^{2n+1} \\binom{2n+1}{i} x^i) \\sum_{j=0}^\\infty x^j$ (by (5.1.3))\\n$= 2 \\sum_{i=0}^\\infty (2^{-n} \\binom{n}{i} - 2^{-2n-1} \\binom{2n+1}{i}) x^i \\sum_{j=0}^\\infty x^j$\\n$= \\sum_{i=0}^\\infty \\sum_{j=0}^\\infty (2^{-n+1} \\binom{n}{i} - 2^{-2n} \\binom{2n+1}{i}) x^{i+j}$\\n$= \\sum_{i=0}^\\infty \\sum_{t=i}^\\infty (2^{-n+1} \\binom{n}{i} - 2^{-2n} \\binom{2n+1}{i}) x^t$ (by setting $t = i + j$)\\n$= \\sum_{t=0}^\\infty \\sum_{i=0}^t (2^{-n+1} \\binom{n}{i} - 2^{-2n} \\binom{2n+1}{i}) x^t$.\\n\\nHence, we have",
    "_source_page": 365
  },
  {
    "30": "The exponential generating function for $(a_r)$ is\\n\\n$\\sum_{r=0}^\\infty \\frac{a_r}{r!} x^r$\\n$= 1 + \\sum_{r=1}^\\infty \\frac{4 \\cdot 7 \\cdot \\dots \\cdot (3r+1)}{r!} x^r$\\n$= 1 + \\sum_{r=1}^\\infty (-1)^{2r} \\frac{\\frac{4}{3} \\cdot \\frac{7}{3} \\cdot \\frac{10}{3} \\cdot \\dots \\cdot \\frac{(3r+1)}{3}}{r!} (3x)^r$\\n$= 1 + \\sum_{r=1}^\\infty \\frac{(-\\frac{4}{3}) \\cdot (-\\frac{7}{3}) \\cdot (-\\frac{10}{3}) \\cdot \\dots \\cdot (-\\frac{3r+1}{3})}{r!} (-3x)^r$\\n$= 1 + \\sum_{r=1}^\\infty \\frac{(-\\frac{4}{3}) \\cdot (-\\frac{4}{3}-1) \\cdot (-\\frac{4}{3}-2) \\cdot \\dots \\cdot (-\\frac{4}{3}-r+1)}{r!} (-3x)^r$\\n$= 1 + \\sum_{r=1}^\\infty \\binom{-\\frac{4}{3}}{r} (-3x)^r$\\n$= \\sum_{r=0}^\\infty \\binom{-\\frac{4}{3}}{r} (-3x)^r$\\n$= (1-3x)^{-\\frac{4}{3}},$\\n\\nwhere the last equality follows from (5.1.1).",
    "31": "For each positive integer $n$, we let $a_n$ denote the number of ways to colour the $n$ squares of a $1 \\times n$ chessboards using the colours blue, red and white, such that each square is coloured by a colour and an even number of squares are to be coloured red. Then the exponential generating function for $(a_n)$ is given by",
    "_source_page": 366
  },
  {
    "32": "For each positive integer n, we let a_n denote the number of n-digit quaternary sequences that contain an odd number of 0's, an even number of 1's and at least one 3. Then the exponential generating function for (a_n) is given by\\n\\left( \\frac{e^x + e^{-x}}{2} \\right) \\left( \\frac{e^x - e^{-x}}{2} \\right) e^x (e^x - 1) = \\frac{e^{4x} - e^{3x} - 1 + e^{-x}}{4} = -\\frac{1}{4} + \\sum_{n=0}^{\\infty} \\frac{4^n - 3^n + (-1)^n}{4n!} x^n.\\nTherefore, the desired answer is equal to a_n = \\frac{4^n - 3^n + (-1)^n}{4}.",
    "33": "(i) For each positive integer n, we let a_n denote the number of words of length n formed by the symbols \\alpha, \\beta, \\gamma, \\delta, \\epsilon, \\lambda, in which the total number of \\alpha's and \\beta's is even. Then either the number of \\alpha's and the number of \\beta's are both even, or the number of \\alpha's and the number of \\beta's are both odd. Thus, it follows that the exponential generating function for (a_n) is given by\\n(e^x)^4 \\left[ \\left( \\frac{e^x + e^{-x}}{2} \\right)^2 + \\left( \\frac{e^x - e^{-x}}{2} \\right)^2 \\right] = \\frac{e^{6x} + e^{2x}}{2} = \\sum_{n=0}^{\\infty} \\frac{6^n + 2^n}{2n!} x^n.\\nTherefore, the desired answer is equal to a_n = \\frac{6^n + 2^n}{2}.\\n(ii) For each positive integer n, we let a_n denote the number of words of length n formed by the symbols \\alpha, \\beta, \\gamma, \\delta, \\epsilon, \\lambda, in which the total number of \\alpha's and \\beta's is odd. Then either the number of \\alpha's is even and the number of \\beta's is odd, or the number of \\alpha's is odd and the number of \\beta's is even. Thus, it follows that the exponential generating function for (a_n) is given by\\n2(e^x)^4 \\left( \\frac{e^x + e^{-x}}{2} \\right) \\left( \\frac{e^x - e^{-x}}{2} \\right) = \\frac{e^{6x} - e^{2x}}{2} = \\sum_{n=0}^{\\infty} \\frac{6^n - 2^n}{2n!} x^n.",
    "_source_page": 367
  },
  {
    "34": "For each non-negative integer $r$, we let $a_r$ denote the number of ways of distributing $r$ distinct objects into 5 distinct boxes such that each of the boxes 1, 3 and 5 must hold an odd number of objects, while each of the remaining boxes must hold an even number of objects. By a similar argument as in Example 5.4.9, we see that the exponential generating function for $(a_r)$ is given by\\n\\n$$\\left(\\frac{e^x - e^{-x}}{2}\\right)^3 \\left(\\frac{e^x + e^{-x}}{2}\\right)^2$$\\n$$= \\frac{e^{5x} - e^{3x} - 2e^x + 2e^{-x} + e^{-3x} - e^{-5x}}{32}$$\\n$$= \\sum_{r=0}^{\\infty} \\frac{5^r - 3^r - 2 + 2(-1)^r + (-3)^r - (-5)^r}{32r!} x^r.$$\\n\\nTherefore, the desired answer is equal to\\n\\n$$a_r = \\frac{5^r - 3^r - 2 + 2(-1)^r + (-3)^r - (-5)^r}{32}.$$",
    "35": "(i) Firstly, we observe that for all non-negative integers $n, k$ satisfying $k \\le n$, we have\\n\\n$$\\binom{z}{2k} \\binom{z-2k}{n-k} = \\prod_{i=1}^{2k} \\frac{z-i+1}{i} \\prod_{j=1}^{n-k} \\frac{z-2k-j+1}{j}$$\\n$$= \\prod_{i=1}^{n+k} \\frac{z-i+1}{i} \\frac{(n+k)!}{(2k)!(n-k)!}$$\\n$$= \\binom{z}{n+k} \\binom{n+k}{n-k}.$$\\n\\nNext, we observe that $(1 + x)^{2z} = [1 + (x^2 + 2x)]^z$ is the generating function for $((\\binom{2z}{r}))$. By (5.1.1), we have",
    "_source_page": 368
  },
  {
    "_source_page": 369
  },
  {
    "_source_page": 370
  },
  {
    "36": "We have",
    "_source_page": 371
  },
  {
    "37": "37. Let $T$ denote the set of all $n$-tuples $(k_1, \\dots, k_n)$ of non-negative integers such that $\\sum_{i=1}^n k_i = r$. By the Multinomial Theorem, we have\\n\\n$(x_1 + x_2 + \\dots + x_n)^r = \\sum_{(k_1, \\dots, k_n) \\in T} \\binom{r}{k_1, \\dots, k_n} x_1^{k_1} x_2^{k_2} \\dots x_n^{k_n}\\n= r! \\sum_{(k_1, \\dots, k_n) \\in T} \\frac{1}{k_1! k_2! \\dots k_n!} x_1^{k_1} x_2^{k_2} \\dots x_n^{k_n}. \\quad (5.5)\\n\\nBy setting $x_i = x^i$ for each $i = 1, 2, \\dots, n$, it follows from equation (5.5) that we have\\n\\n$(x + x^2 + \\dots + x^n)^r = r! \\sum_{(k_1, \\dots, k_n) \\in T} \\frac{1}{k_1! k_2! \\dots k_n!} x^{k_1 + 2k_2 + \\dots + nk_n}.\\n\\nNow, by (5.1.6), we have",
    "_source_page": 372
  },
  {
    "38": "(i) The problem is equivalent to finding the number of 18-digit quaternary sequences that contain at least one 0, one 1, one 2 and one 3. For each non-negative integer $r$, we let $a_r$ denote the number of $r$-digit quaternary sequences that contain at least one 0, one 1, one 2 and one 3. Then the exponential generating function for $(a_r)$ is given by\\n\\n$(e^x - 1)^4 = e^{4x} - 4e^{3x} + 6e^{2x} - 4e^x + 1$\\n$= 1 + \\sum_{r=0}^\\infty \\frac{4^r - 4 \\cdot 3^r + 6 \\cdot 2^r - 4}{r!} x^r.$",
    "_source_page": 373
  },
  {
    "39": "For each non-negative integer $r$, we let $a_r$ denote the number of $r$-",
    "_source_page": 374
  },
  {
    "40": "We first note that $a_r$ is equal to the number of $r$-digit $n$-ary sequences that contains all of the digits $1, 2, \\dots, n$. Thus it follows that the exponential generating function for $(a_r)$ is $(e^x - 1)^n$, that is,\n$$\\sum_{r=0}^{\\infty} n! S(r, n) \\frac{x^r}{r!} = (e^x - 1)^n.$$\nNow, we have",
    "_source_page": 375
  },
  {
    "41": "By Problem 5.40, we have\\nA_n(x) = \\sum_{r=0}^{\\infty} S(r, n) \\frac{x^r}{r!} = \\sum_{r=0}^{\\infty} \\frac{1}{n!} F(r, n) \\frac{x^r}{r!} = \\frac{1}{n!} (e^x - 1)^n.\\nThus, for all positive integers $n \\ge 2$, we have\\n\\frac{d}{dx} A_n(x) = \\frac{1}{(n-1)!} e^x (e^x - 1)^{n-1}\\n= \\frac{1}{(n-1)!} (e^x - 1)^n + \\frac{1}{(n-1)!} (e^x - 1)^{n-1}\\n= n A_n(x) + A_{n-1}(x).",
    "42": "The exponential generating function for $(B_r)$ is given by",
    "_source_page": 376
  },
  {
    "43": "(a) Let us fix a positive integer $n$, and for each non-negative integer $r$, we let $b_r$ denote the number of ways of distributing $r$ distinct objects into $n$ distinct boxes such that the objects in each box are ordered. Then $b_r$ is equal to the number of ways of arranging $n - 1$ 1's and $2, 3, \\dots, r + 1$ in a row. Firstly, there are $\\binom{n+r-1}{r}$ ways to arrange $r$ 0's and $n - 1$ 1's in a row. Next, there are $r!$ ways to place the $r$ integers $2, 3, \\dots, r + 1$ into the slots occupied by the 0's. By (MP), we have $b_r = r! \\binom{n+r-1}{r} = n(n + 1) \\dots (n + r - 1)$.\\n(b) (i) By part (a), we have $b_r = n^{(r)}$ for all non-negative integers $r$. Now, for each non-negative integer $i \\le r$, there are $\\binom{r}{i}$ ways to choose $i$ objects out of $r$ distinct objects, and there are $b_i$ ways to distribute these $i$ objects into $n$ distinct boxes such that the objects in each box are ordered. By (AP) and (MP), we have\\n$a_r = \\sum_{i=0}^{r} \\binom{r}{i} b_i = \\sum_{i=0}^{r} \\binom{r}{i} n^{(i)}$.\\n(ii) Since $n^{(i)} = b_i = i! \\binom{n+i-1}{i}$, it follows that the exponential generating function for $(a_r)$ is",
    "_source_page": 377
  },
  {
    "44": "(i) By (5.1.3), the generating function for $(a_r)$ is\\n$(1 + x + x^2 + \\dots)^4 = (1 - x)^{-4}$.\\n(ii) By (5.1.3), the generating function for $(a_r)$ is\\n$(x + x^2 + x^3 + \\dots)^4 = x^4(1 + x + x^2 + \\dots)^4 = x^4(1 - x)^{-4}$.\\n(iii) We first note that $a_r$ is equal to the number of partitions of $r$ into 4 parts. By Theorem 5.3.5, $a_r$ is equal to the number of partitions of $r$ into parts the largest size of which is 4. By (5.1.3), the generating function for $(a_r)$ is\\n$(1 + x + x^2 + \\dots)(1 + x^2 + \\dots)(1 + x^3 + \\dots)(x^4 + x^8 + \\dots)$\\n$= x^4[(1 - x)(1 - x^2)(1 - x^3)(1 - x^4)]^{-1}$.\\n(iv) We first note that $a_r$ is equal to the number of partitions of $r$ into at most 4 parts. By the Corollary to Theorem 5.3.5, $a_r$ is equal to the number of partitions of $r$ into parts with sizes not exceeding 4. Hence the generating function for $(a_r)$ is",
    "_source_page": 378
  },
  {
    "45": "For each positive integer $n$, we let $a_n$ denote the number of partitions of $n$ into parts where no even part occurs more than once, and $b_n$ denote the number of partitions of $n$ in which parts of each size occur at most three times. Then it follows from (5.1.3) that the generating function $A(x)$ for $(a_n)$ is\\n\\n$\\prod_{k=1}^{\\infty}(1+x^{2k-1}+x^{2(2k-1)}+\\dots)(1+x^{2k}) = \\prod_{k=1}^{\\infty}(1+x^{2k})(1-x^{2k-1})^{-1}$,\\n\\nand the generating function $B(x)$ for $(b_n)$ is\\n\\n$\\prod_{n=1}^{\\infty}(1+x^n+x^{2n}+x^{3n}) = \\prod_{n=1}^{\\infty}(1-x^{4n})(1-x^n)^{-1}$.\\n\\nNow, we have\\n\\n$B(x)$\\n$= \\prod_{n=1}^{\\infty}(1-x^{4n})(1-x^n)^{-1}$\\n$= \\frac{1-x^4}{1-x} \\cdot \\frac{1-x^8}{1-x^2} \\cdot \\frac{1-x^{12}}{1-x^3} \\cdot \\frac{1-x^{16}}{1-x^4} \\dots$\\n$= \\frac{(1+x^2)(1-x^2)}{1-x} \\cdot \\frac{(1+x^4)(1-x^4)}{1-x^2} \\cdot \\frac{(1+x^6)(1-x^6)}{1-x^3} \\dots$\\n$= \\frac{1+x^2}{1-x} \\cdot \\frac{1+x^4}{1-x^3} \\cdot \\frac{1+x^6}{1-x^5} \\cdot \\frac{1+x^8}{1-x^7} \\dots$\\n$= \\prod_{k=1}^{\\infty}(1+x^{2k})(1-x^{2k-1})^{-1}$\\n$= A(x)$.\\n\\nConsequently, this shows that $a_n = b_n$ for all positive integers $n$ as desired.",
    "46": "We note that $a_r$ is equal to the number of partitions of $r$ into exactly $n$ parts. By the Corollary to Theorem 5.3.5, the generating function for $(a_r)$ is $x^n \\prod_{i=1}^{n}(1-x^i)^{-1}$.",
    "47": "We note that $a_r$ is equal to the number of partitions of $r$ into at most $n$",
    "_source_page": 379
  },
  {
    "48": "It is easy to see that the generating function for $(b_r)$ is $\\prod_{i=1}^n (1 - x^i)^{-1}$. On the other hand, we see that $a_r$ is equal to the number of partitions of $r$ into at most $n$ parts. By the Corollary to Theorem 5.3.5, the generating function for $(a_r)$ is $\\prod_{i=1}^n (1 - x^i)^{-1}$. Since the generating functions for $(a_r)$ and $(b_r)$ are the same, it follows that we must have $a_r = b_r$ for all non-negative integers $r$.",
    "49": "(i) The generating function for $(a_r)$ is\\n$(1+x)(1+x^2)(1+x^4)\\cdots$\\n$= \\frac{(1+x)(1-x)}{(1-x)} \\cdot \\frac{(1+x^2)(1-x^2)}{(1-x^2)} \\cdot \\frac{(1+x^4)(1-x^4)}{(1-x^4)} \\cdots$\\n$= \\frac{1-x^2}{1-x} \\cdot \\frac{1-x^4}{1-x^2} \\cdot \\frac{1-x^8}{1-x^4} \\cdots$\\n$= (1-x)^{-1}$.\\n(ii) By part (i) and (5.1.3), we have $a_r = 1$ for all positive integers $r$.\\n(iii) Every natural number can be expressed uniquely as a sum of some distinct powers of 2.",
    "50": "By Theorem 5.3.2, it suffices to show that the number of partitions of $2n$ into distinct even parts is equal to the number of partitions of $n$ into distinct parts. Let $\\mathcal{P}$ denote the set of partitions of $n$ into distinct parts, and let $\\mathcal{Q}$ denote the set of partitions of $2n$ into distinct even parts. Let us define $f:\\mathcal{P} \\to \\mathcal{Q}$ as follows: for each $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $n_P$ denote the number of rows in $\\mathcal{F}(P)$, and we let $\\mathcal{F}_{f,P}$ denote the Ferrers diagram with $n_P$ rows, and whose number of asterisks in the $i$-th row is twice the number of asterisks in the $i$-th row of $\\mathcal{F}(P)$ for $i = 1, 2, \\dots, n_P$. We then put $f(P)$ to be the partition of $2n$ whose Ferrers diagram is $\\mathcal{F}_{f,P}$. Then it is easy to see that $f$ is a well-defined bijection between $\\mathcal{P}$ and $\\mathcal{Q}$, and so we must have $|\\mathcal{P}| = |\\mathcal{Q}|$ by (BP) as required.",
    "51": "By Theorem 5.3.2, it suffices to show that the number of partitions of $kn$ into distinct parts whose sizes are multiples of $k$ is equal to the number of partitions of $n$ into distinct parts. Let $\\mathcal{P}$ denote the set of partitions of $n$ into distinct parts, and let $\\mathcal{Q}$ denote the set of partitions of $kn$ into distinct parts whose sizes are multiples of $k$. Let us define $f:\\mathcal{P} \\to \\mathcal{Q}$ as follows: for each $P$",
    "_source_page": 380
  },
  {
    "52": "Let $\\hat{p}(n)$ denote the number of partitions of $n$ in which each part has size at\nleast 2. We make the following two observations:\nObservation 1: $p(n + 1) - p(n) = \\hat{p}(n + 1)$. To see that this is indeed the\ncase, let us take any partition $Q$ of $n + 1$ in which the smallest part is 1.\nRemoving the part of size 1 from $Q$, we have a partition of $n$. We notice\nthat this is a one-to-one correspondence, and the observation follows.\nObservation 2: $\\hat{p}(n) \\le \\hat{p}(n + 1)$. To see that this is indeed the case, let us\ntake any partition $Q$ of $n$ where each part has size at least 2. If we add one\nto the largest part of $Q$, we have a partition of $n + 1$ where each part has\nsize at least 2. This correspondence is injective and the observation\nfollows.\nUsing Observations 1 and 2, we see that\n\n$p(n) - p(n - 1) = \\hat{p}(n) \\le \\hat{p}(n + 1) = p(n + 1) - p(n).$\n\nThe desired inequality now follows by rearranging the terms in the\ninequality.",
    "53": "(i) There is only one partition of 5 into exactly 1 part, namely 5, so $p(5,\n1) = 1$.\nThe partitions of 5 into exactly 2 parts are $4 + 1$ and $3 + 2$. So we have\n$p(5, 2) = 2$.\nThe partitions of 5 into exactly 3 parts are $3 + 1 + 1$ and $2 + 2 + 1$. So\nwe have $p(5, 3) = 2$.\nThe partitions of 8 into exactly 3 parts are $6 + 1 + 1, 5 + 2 + 1, 4 + 3 +\n1, 4 + 2 + 2$ and $3 + 3 + 2$, so we have $p(8, 3) = 5$.\n(ii) Let $\\mathcal{P}$ denote the set of partitions of $n$ with at most $m$ parts, and let $\\mathcal{Q}$\ndenote the set of partitions of $n + m$ with $m$ parts. Then it is easy to\nsee from the definition of $p(n, k)$ that $|\\mathcal{P}| = \\sum_{k=1}^m p(n, k)$ and $|\\mathcal{Q}| = p(n + m,\nm)$. Thus it remains to show that $|\\mathcal{P}| = |\\mathcal{Q}|$. Let us define $f:\\mathcal{P} \\to \\mathcal{Q}$ as\nfollows: for each $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $n_P$ denote\nthe number of rows in $\\mathcal{F}(P)$. Then we have $n_P \\le m$. Next, we let $\\mathcal{F}_{f,P}$",
    "_source_page": 381
  },
  {
    "54": "(i) The partitions of 5 into exactly 3 parts are $3 + 1 + 1$ and $2 + 2 + 1$. So we have $p(5, 3) = 2$.\nThe partitions of 7 into exactly 2 parts are $6 + 1, 5 + 2$ and $4 + 3$, so we have $p(7, 2) = 3$.\nThe partitions of 8 into exactly 3 parts are $6 + 1 + 1, 5 + 2 + 1, 4 + 3 + 1, 4 + 2 + 2$ and $3 + 3 + 2$, so we have $p(8, 3) = 5$.\n(ii) Let $\\mathcal{P}$ denote the set of partitions of $n$ into $k$ parts, $\\mathcal{P}_1$ denote the set of partitions of $n$ into $k$ parts the smallest of which is 1, and $\\mathcal{P}_2$ denote the set of partitions of $n$ into $k$ parts that does not contain a part of size 1. Then it is easy to see that $\\mathcal{P}_1 \\cap \\mathcal{P}_2 = \\emptyset$ and $\\mathcal{P}_1 \\cup \\mathcal{P}_2 = \\mathcal{P}$, so that we have $|\\mathcal{P}_1| + |\\mathcal{P}_2| = |\\mathcal{P}| = p(n, k)$. Also, we let $\\mathcal{Q}_1$ denote the set of partitions of $n - 1$ into $k - 1$ parts, and $\\mathcal{Q}_2$ denote the set of partitions of $n - k$ into $k$ parts.\nLet us define $f: \\mathcal{P}_1 \\to \\mathcal{Q}_1$ as follows: for each $P_1 \\in \\mathcal{P}_1$ with Ferrers diagram $\\mathcal{F}(P_1)$, we let $f(P_1)$ denote the partition of $n - 1$ whose Ferrers diagram is obtained from $\\mathcal{F}(P_1)$ by removing the bottommost asterisk in the leftmost column of $\\mathcal{F}(P_1)$. It is easy to see that $f$ is a well-defined bijection between $\\mathcal{P}_1$ and $\\mathcal{Q}_1$, and so we must have $|\\mathcal{P}_1| = |\\mathcal{Q}_1| = p(n - 1, k - 1)$ by (BP).\nNext, let us define $g: \\mathcal{P}_2 \\to \\mathcal{Q}_2$ as follows: for each $P_2 \\in \\mathcal{P}_2$ with Ferrers diagram $\\mathcal{F}(P_2)$, we let $g(P_2)$ denote the partition of $n - k$ whose Ferrers diagram is obtained from $\\mathcal{F}(P_2)$ by removing the rightmost asterisk in each row of $\\mathcal{F}(P_2)$. It is now easy to see that $g$ is a well-defined bijection between $\\mathcal{P}_2$ and $\\mathcal{Q}_2$, and so we must have $|\\mathcal{P}_2|$",
    "_source_page": 382
  },
  {
    "55": "Let us first show that $p(n + k, k) = p(n)$ for all positive integers $n, k$ satisfying $n \\le k$. Let $\\mathcal{P}$ denote the set of partitions of $n$, and $\\mathcal{Q}$ denote the set of partitions of $n + k$ into $k$ parts. Let us define $f: \\mathcal{P} \\to \\mathcal{Q}$ as follows: for each $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $n_P$ denote the number of rows in $\\mathcal{F}(P)$. Then we have $n_P \\le n \\le k$. Next, we let $\\mathcal{F}_{f,P}$ denote the Ferrers diagram with $k$ rows whose number of asterisks in the $i$-th row is 1 more than the number of asterisks in the $i$-th row of $\\mathcal{F}(P)$ for $i = 1, 2, \\dots, n_P$, and whose number of asterisks in the $j$-th row is equal to 1 for $j = n_P + 1, n_P + 2, \\dots, k$. We then put $f(P)$ to be the partition of $n + k$ whose Ferrers diagram is $\\mathcal{F}_{f,P}$. It is now easy to see that $f$ is a well-defined bijection between $\\mathcal{P}$ and $\\mathcal{Q}$, and so we must have $p(n) = |\\mathcal{P}| = |\\mathcal{Q}| = p(n + k, k)$ by (BP). Next, by setting $k = n$ in the equation $p(n + k, k) = p(n)$, we get $p(2n, n) = p(n)$. So we have\n\n$p(n + k, k) = p(2n, n) = p(n)$\n\nfor all positive integers $n, k$ satisfying $n \\le k$ as desired.",
    "56": "Let $\\mathcal{P}$ denote the collection of finite multi-sets $\\{r_1 \\cdot 1, r_2 \\cdot 2, \\dots, r_n \\cdot n\\}$ that satisfy $\\sum_{i=1}^n r_i = k$ and $\\sum_{i=1}^n i r_i = n$. Then it follows that $|\\mathcal{P}| = p(n, k)$. Next, we let $S$ denote the set of positive integer solutions to the equation\n\n$x_1 + x_2 + \\dots + x_k = n$.\n\nLet us define $f: S \\to \\mathcal{P}$ by $f((x_1, \\dots, x_k)) = \\{x_1, \\dots, x_k\\}$ for all $(x_1, \\dots, x_k) \\in S$. Now, it is easy to see that for all $P = \\{r_1 \\cdot 1, r_2 \\cdot 2, \\dots, r_n \\cdot n\\} \\in \\mathcal{P}$, we have $|f^{-1}(P)| = \\binom{k}{r_1, r_2, \\dots, r_n} \\le k!$. Since $S = \\bigcup_{P \\in \\mathcal{P}} f^{-1}(P)$ and $f^{-1}(P) \\cap f^{-1}(Q) = \\emptyset$ for all distinct $P, Q \\in \\mathcal{P}$, it follows that we have\n\n$|S| = \\left| \\bigcup_{P \\in \\mathcal{P}} f^{-1}(P) \\right| = \\sum_{P \\in \\mathcal{P}} |f^{-1}(P)| \\le |\\mathcal{P}| \\cdot k! = k! p(n, k)$.\n\nNow, $|S|$ is equal to the number of non-negative integer solutions to the equation",
    "_source_page": 383
  },
  {
    "57": "Let $\\mathcal{P}$ denote the set of partitions of $n - \\binom{k}{2}$ into $k$ parts, and let $\\mathcal{Q}$ denote the set of partitions of $n$ into $k$ distinct parts. Let us define $f: \\mathcal{P} \\to \\mathcal{Q}$ as follows: for each $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $\\mathcal{F}_{f,P}$ denote the Ferrers diagram with $k$ rows whose number of asterisks in the $i$-th row is $i - 1$ more than the number of asterisks in the $i$-th row of $\\mathcal{F}(P)$ for $i = 1, 2, \\dots, k$. We then put $f(P)$ to be the partition of $n - \\binom{k}{2} + \\sum_{i=1}^k (i-1) = n - \\binom{k}{2} + \\frac{k(k-1)}{2} = n$ whose Ferrers diagram is $\\mathcal{F}_{f,P}$. It is now easy to see from the above construction that $f$ is a well-defined bijection between $\\mathcal{P}$ and $\\mathcal{Q}$, and so we must have\n\n$|\\mathcal{Q}| = |\\mathcal{P}| = p\\left(n - \\binom{k}{2}, k\\right)$\n\nby (BP) as desired.",
    "58": "Let $\\mathcal{P}$ denote the set of partitions of $n$ into at most $m$ parts and $\\mathcal{Q}$ denote the set of partitions of $n$ into parts with sizes not exceeding $m$. Also, for each $i = 1, 2, \\dots, m$, we let $\\mathcal{P}_i$ denote the set of partitions of $n$ into $i$ parts, and $\\mathcal{Q}_i$ denote the set of partitions into parts the largest of which is $i$. Since $\\mathcal{P} = \\bigcup_{i=1}^m \\mathcal{P}_i, \\mathcal{Q} = \\bigcup_{i=1}^m \\mathcal{Q}_i$, and $\\mathcal{P}_i \\cap \\mathcal{P}_j = \\emptyset = \\mathcal{Q}_i \\cap \\mathcal{Q}_j$ for all distinct $i, j$, it follows from (AP) that $|\\mathcal{P}| = \\sum_{i=1}^m |\\mathcal{P}_i|$ and $|\\mathcal{Q}| = \\sum_{i=1}^m |\\mathcal{Q}_i|$. Next, it follows from Theorem 5.3.5 that $|\\mathcal{P}_i| = |\\mathcal{Q}_i|$. So we have\n\n$|\\mathcal{P}| = \\sum_{i=1}^m |\\mathcal{P}_i| = \\sum_{i=1}^m |\\mathcal{Q}_i| = |\\mathcal{Q}|$",
    "_source_page": 384
  },
  {
    "59": "(i) Let us fix a positive integer $k$. For each positive integer $n$, we let $a_n$ denote the number of partitions of $n$ into parts, each of which appears at most $k$ times, and we let $b_n$ denote the number of partitions of $n$ into parts the sizes of which are not divisible by $k + 1$. Then it follows that the generating function $A(x)$ for $(a_n)$ is $\\prod_{r=1}^{\\infty} (1 + x^r + x^{2r} + \\cdots + x^{kr})$, and by (5.1.3), the generating function $B(x)$ for $(b_n)$ is $\\prod_{\\substack{r \\in \\mathbb{N} \\\\ k+1 \\nmid r}} (1 + x^r + x^{2r} + \\cdots) = \\prod_{\\substack{r \\in \\mathbb{N} \\\\ k+1 \\nmid r}} (1 - x^r)^{-1}$. Now, we have\n\n$A(x) = \\prod_{r=1}^{\\infty} (1 + x^r + x^{2r} + \\cdots + x^{kr})$\n$= \\prod_{r=1}^{\\infty} (1 + x^r + x^{2r} + \\cdots + x^{kr})(1 - x^r)(1 - x^r)^{-1}$\n$= \\prod_{r=1}^{\\infty} (1 - x^{(k+1)r})(1 - x^r)^{-1}$\n$= \\prod_{\\substack{r \\in \\mathbb{N} \\\\ k+1 \\nmid r}} (1 - x^r)^{-1}$\n$= B(x)$.\n\nConsequently, this shows that $a_n = b_n$ for all positive integers $n$ as desired.\n(ii) Firstly, we see that $n$ is not congruent to 1 or $-1 \\pmod 6$ if and only if the greatest common divisor $\\gcd(n, 6)$ of $n$ and 6 is greater than 1. Equivalently, $n$ is not congruent to 1 or $-1 \\pmod 6$ if and only if either $n$ is even or $n$ is a odd multiple of 3. For each positive integer $n$, we let $a_n$ denote the number of partitions of $n$ into parts each of which appears at least twice, and we let $b_n$ denote the number of partitions of $n$ into parts the sizes of which are not congruent to 1 or $-1 \\pmod 6$. By (5.1.3), it follows that the generating function $A(x)$ for $(a_n)$ is\n\n$\\prod_{r=1}^{\\infty} (1 + x^{2r} + x^{3r} + x^{4r} \\dots) = \\prod_{r=1}^{\\infty} [(1 + x^r + x^{2r} + \\dots) - x^r]$\n$= \\prod_{r=1}^{\\infty} [(1 - x^r)^{-1} - x^r]$.",
    "_source_page": 385
  },
  {
    "60": "We shall show that there exists a polynomial $Q(x)$, such that $C(n) = \\lfloor Q(n) \\rfloor$ for all positive integers $n$. To this end, we first observe that the generating function for $(C(n))$ is given by",
    "_source_page": 386
  },
  {
    "61": "The solution for this problem is exactly the same as that of the solution for the previous problem, and shall be omitted.",
    "62": "(a) (i) The partitions of 8 into 3 parts are 6 + 1 + 1, 5 + 2 + 1, 4 + 3 + 1, 4 + 2 + 2 and 3 + 2 + 2.\\n(ii) The noncongruent triangles whose sides are of integer length a, b, c such that a + b + c = 16 have sides (7, 7, 2), (7, 6, 3), (7, 5, 4), (6, 6, 4) and (6, 5, 5).\\n(iii) The number of partitions obtained in (i) and the number of noncongruent triangles obtained in (ii) are both equal to 5.",
    "_source_page": 387
  },
  {
    "_source_page": 388
  },
  {
    "63": "(i) The self-conjugate partitions of 15 are $6 + 3 + 3 + 1 + 1 + 1, 5 + 4 + 3 + 2 + 1, 4 + 4 + 4 + 3, 8 + 1 + 1 + 1 + 1 + 1 + 1 + 1$.\n(ii) The partitions of 15 into distinct odd parts are $15, 11 + 3 + 1, 9 + 5 + 1$ and $7 + 5 + 3$.\n(iii) Let us fix a positive integer $n$, and let $\\mathcal{P}$ denote the set of self-conjugate partitions of $n$, and $\\mathcal{Q}$ denote the set of partitions of $n$ into distinct odd parts. Also, for any Ferrers diagram $\\mathcal{F}$ with $n$ total asterisks and $k$ asterisks on the leading diagonal of $\\mathcal{F}$, we let $r_i$ denote the number of asterisks to the right of the asterisk located at the $i$-th row and the $i$-th column of $\\mathcal{F}$, and $b_i$ denote the number of asterisks below the asterisk located at the $i$-th row and the $i$-th column of $\\mathcal{F}$ for all $i = 1, 2, \\dots, k$. Then it is clear that we have $\\sum_{i=1}^k (r_i + b_i + 1) = n$ and $r_1 + b_1 > r_2 + b_2 > \\dots > r_k + b_k$. Moreover, we see that $\\mathcal{F}$ is self-conjugate if and only if we have $r_i = b_i$ for all $i = 1, 2, \\dots, k$. Henceforth, let us define a map $f: \\mathcal{P} \\to \\mathcal{Q}$ as follows: for each $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $k_P$ denote the number of asterisks on the leading diagonal of $\\mathcal{F}(P)$. Next, we let $\\mathcal{F}_{f,P}$ denote the Ferrers diagram with $k_P$ rows whose number of asterisks in the $i$-th row is equal to $r_i + b_i + 1 = 2r_i + 1$ for $i = 1, 2, \\dots, k_P$. We then put $f(P)$ to be the partition of $n$ whose Ferrers diagram is $\\mathcal{F}_{f,P}$. Then it is easy to see from the above construction that $f$ is a well-defined bijection between $\\mathcal{P}$ and $\\mathcal{Q}$, and so we must have $|\\mathcal{P}| = |\\mathcal{Q}|$ by (BP) as required.",
    "64": "Let $\\mathcal{P}$ denote the set of self-conjugate partitions of $n$ with largest size equal to $m$, and let $\\mathcal{Q}$ denote the set of self-conjugate partitions of $n - 2m + 1$ with largest size not exceeding $m - 1$. Given any self-conjugate Ferrers diagram $\\mathcal{F}$ with $k$ columns (that is, the partition corresponding to $\\mathcal{F}$ has",
    "_source_page": 389
  },
  {
    "65": "(i) For each non-negative integer $r$, we let $\\mathcal{P}_{r,m}$ denote the set of self-conjugate partitions of $r$, such that the Durfee square of the Ferrers diagram of the partition is an $m \\times m$ square and $\\mathcal{Q}_{r,m}$ denote the set of partitions of $r$ into even parts with the largest size not exceeding $2m$. We seek to establish a bijection between $\\mathcal{P}_{r,m}$ and $\\mathcal{Q}_{r-m^2, m}$. Given any self-conjugate Ferrers diagram $\\mathcal{F}$ whose Durfee square is an $m \\times m$ square, we let $\\mathcal{F}_b$ (respectively $\\mathcal{F}_r$) denote the Ferrers diagram obtained by removing the topmost (respectively leftmost) $m$ rows (respectively columns) of $\\mathcal{F}$. Then the partition corresponding to the Ferrers diagram $\\mathcal{F}_b$ has largest size not exceeding $m$, and the Ferrers diagrams $\\mathcal{F}_b$ and $\\mathcal{F}_r$ are conjugates of each other.\\nHenceforth, let us define $f: \\mathcal{P}_{r,m} \\to \\mathcal{Q}_{r-m^2, m}$ as follows: for each $P \\in \\mathcal{P}_{r,m}$ with Ferrers diagram $\\mathcal{F}(P)$, we let $n_P$ denote the number of rows of $\\mathcal{F}(P)_b$. Next, we let $\\mathcal{F}_{f,P}$ denote the Ferrers diagram with $n_P$ rows whose number of asterisks in the $i$-th row is twice the number of asterisks in the $i$-th row of $\\mathcal{F}(P)_b$ for $i = 1, 2, \\dots, n_P$. We then put $f(P)$ to be the partition of $r-m^2$ whose Ferrers diagram is $\\mathcal{F}_{f,P}$. Then it is easy to see from the above construction that $f$ is a well-defined bijection between $\\mathcal{P}_{r,m}$ and $\\mathcal{Q}_{r-m^2, m}$, and hence we have $|\\mathcal{P}_{r,m}| = |\\mathcal{Q}_{r-m^2, m}|$ by (BP).\\nIt remains to compute the generating function for $(|\\mathcal{P}_{r,m}|)_{r=0}^\\infty = (|\\mathcal{Q}_{r-m^2, m}|)_{r=0}^\\infty$ for all non-negative integers $r$. For each non-negative integer $r$ and positive integer $m$, we let $a_{r,m}$ denote the number of partitions of $r$ into even parts with the largest size not exceeding $2m$, and $b_{r,m}$ denote the number of partitions of $r$ into even parts the largest size of which is $2m$. By (5.1.3), it is easy to see that the generating function for",
    "_source_page": 390
  },
  {
    "_source_page": 391
  },
  {
    "66": "(i) By (5.1.3), we have\n\n$$A(x) = \\prod_{k=1}^{\\infty} (1 + x^k + x^{2k} + \\cdots) = \\prod_{k=1}^{\\infty} (1 - x^k)^{-1} = \\left[ \\prod_{k=1}^{\\infty} (1 - x^k) \\right]^{-1}.$$\n\n(ii) For each non-negative integer $r$ and positive integer $m$, we let $\\mathcal{P}_{r,m}$ denote the set of partitions of $r$, such that the Durfee square of the Ferrers diagram of the partition is an $m \\times m$ square and $\\mathcal{Q}_{r,m}$ denote the set of pairs of partitions $(Q_1, Q_2)$, such that $Q_1$ is a partition with largest size not exceeding $m$, $Q_2$ is a partition into at most $m$ parts, and the total number of asterisks in the Ferrers diagram of $Q_1$ and $Q_2$ is equal to $r$. We seek to establish a bijection between $\\mathcal{P}_{r,m}$ and $\\mathcal{Q}_{r-m^2,m}$. Given any Ferrers diagram $\\mathcal{F}$ whose Durfee square is an $m \\times m$ square, we let $\\mathcal{F}_b$ (respectively $\\mathcal{F}_r$) denote the Ferrers diagram obtained by removing the topmost (respectively leftmost) $m$ rows (respectively columns) of $\\mathcal{F}$. Then the partition corresponding to the Ferrers diagram $\\mathcal{F}_b$ has largest size not exceeding $m$, and the partition corresponding to the Ferrers diagram $\\mathcal{F}_r$ has at most $m$ parts.",
    "_source_page": 392
  },
  {
    "67": "For each non-negative integer $r$ and positive integer $m$, we let $\\mathcal{P}_{r,m}$ denote the set of partitions of $r$ into distinct parts such that the largest isosceles right triangle of asterisks in the upper left-hand corner of the Ferrers diagram has $m$ asterisks in the top horizon row. Also, we let $\\mathcal{Q}_{r,m}$ denote the set of partitions of $r$ into at most $m$ parts. We seek to establish a bijection between $\\mathcal{P}_{r,m}$ and $\\mathcal{Q}_{r-\\frac{m(m+1)}{2},m}$. Given any partition of $r$ into distinct parts such that the largest isosceles right triangle of asterisks in the upper left-hand corner of the Ferrers diagram has $m$ asterisks in the top horizon row, we let $\\mathcal{F}_m$ denote the Ferrers diagram obtained by removing $m + 1 - i$",
    "_source_page": 393
  },
  {
    "68": "Let $\\mathcal{P}$ denote the set of partitions of $r - p$ into $q - 1$ parts with sizes not\nexceeding $p$, and let $\\mathcal{Q}$ denote the set of partitions of $r - q$ into $p - 1$ parts\nwith sizes not exceeding $q$. We seek to establish a bijection between $\\mathcal{P}$ and\n$\\mathcal{Q}$. To this end, let us take any $P \\in \\mathcal{P}$ with Ferrers diagram $\\mathcal{F}(P)$. We let $\\mathcal{F}$\n$(P)_1$ be the Ferrers diagram obtained from $\\mathcal{F}(P)$ by deleting an asterisk",
    "_source_page": 394
  },
  {
    "69": "For any Ferrers diagram $\\mathcal{F}$, we let $d_{\\mathcal{F}}$ denote the size of the Durfee square of $\\mathcal{F}$. We let $\\mathcal{F}_b$ (respectively $\\mathcal{F}_r$) be the Ferrers diagram obtained from $\\mathcal{F}$ by removing the topmost (respectively leftmost) $d_{\\mathcal{F}}$ rows (respectively columns) of $\\mathcal{F}$. Then $\\mathcal{F}_b$ and $\\mathcal{F}_r$ define partitions into distinct parts. Let $r_{\\mathcal{F}}$ denote the number of rows of $\\mathcal{F}_r$. Next, we define $\\mathcal{F}_t$ to the Ferrers diagram obtained from $\\mathcal{F}_r$ by removing $r_{\\mathcal{F}} + 1 - i$ asterisks from the $i$-th row of $\\mathcal{F}_r$ for all $i = 1, \\dots, r_{\\mathcal{F}}$. Finally, we let $\\ell_{\\mathcal{F}}$ denote the number of asterisks in the last row of $\\mathcal{F}$, and $t_{\\mathcal{F}}$ denote the smallest index for which the number of asterisks in the $t_{\\mathcal{F}}$-th row of $\\mathcal{F}_r$ is strictly greater than the number of asterisks in the $(t_{\\mathcal{F}} + 1)$-th row of $\\mathcal{F}_r$ (if no such index exists, then we set $t_{\\mathcal{F}} = d_{\\mathcal{F}}$). For example, if $P_1$ and $P_2$ are the partitions $9 + 8 + 6 + 5$ and $5 + 4 + 3 + 1$ respectively, then $\\ell_{\\mathcal{F}(P_1)} = 5, \\ell_{\\mathcal{F}(P_2)} = 1, t_{\\mathcal{F}(P_1)} = 2$ and $t_{\\mathcal{F}(P_2)} = 3.\\nNow, let us fix any $n, j \\in \\mathbb{N}$, and let $\\mathcal{P}_{n,j}^d$ denote the set of partitions of $n$ into exactly $j$ distinct parts. Let $\\mathcal{P}_{n,j}^{ne}$ denote the subset of $\\mathcal{P}_{n,j}^d$ consisting of partitions $P$ such that either of the Ferrers diagrams $\\mathcal{F}(P)_b$ or $\\mathcal{F}(P)_t$ is non-empty. Also, we let $\\mathcal{E}_n^d = \\bigcup_{j \\text{ even}} \\mathcal{P}_{n,j}^d, \\mathcal{O}_n^d = \\bigcup_{j \\text{ odd}} \\mathcal{P}_{n,j}^d, \\mathcal{E}_n^{ne} = \\bigcup_{j \\text{ even}} \\mathcal{P}_{n,j}^{ne}$ and $\\mathcal{O}_n^{ne} = \\bigcup_{j \\text{ odd}} \\mathcal{P}_{n,j}^{ne}.\\nGiven any partition $P \\in \\mathcal{P}_{n,j}^{ne}$, we shall define a partition $f(P) \\in \\mathcal{P}_{n,j-1}^{ne} \\cup \\mathcal{P}_{n,j+1}^{ne}$ as follows:\\nCase 1: $\\ell_{\\mathcal{F}(P)} \\le t_{\\mathcal{F}(P)}$. Then it is easy to see in this case that the Ferrers",
    "_source_page": 395
  },
  {
    "_source_page": 396
  },
  {
    "70": "Let $a_r = p_e(r) - p_o(r)$ for all non-negative integers $r$. Then it is clear that the generating function for $(a_r)$ is $\\prod_{k=1}^{\\infty} (1 - x^k)$. Also, by Problem 5.69, the generating function for $(a_r)$ is given by",
    "_source_page": 397
  },
  {
    "71": "By Problem 5.70, it follows that we have\\n\\prod_{k=1}^{\\infty} (1 - x^k)^{-1} \\sum_{m=-\\infty}^{\\infty} (-1)^m x^{\\frac{1}{2}m(3m-1)} = 1.\\nMoreover, by Problem 5.66(i), we have\\n\\prod_{k=1}^{\\infty} (1 - x^k)^{-1} = \\sum_{i=0}^{\\infty} p(i)x^i,\\nand the proof of Problem 5.70 tells us that we have\\n\\sum_{m=-\\infty}^{\\infty} (-1)^m x^{\\frac{1}{2}m(3m-1)}\\n= 1 + \\sum_{k=1}^{\\infty} (-1)^k (x^{\\frac{1}{2}k(3k-1)} + x^{\\frac{1}{2}k(3k+1)})\\n= 1 - (x + x^2) + (x^5 + x^7) + \\dots + (-1)^m (x^{\\frac{1}{2}m(3m-1)} + x^{\\frac{1}{2}m(3m+1)}) + \\dots.\\nBy comparing the coefficients of x^n for all n \\ge 1, it follows that we have",
    "_source_page": 398
  },
  {
    "72": "We first observe that \\beta(j) = \\beta(j + 1) - (3j + 2) and \\beta(j) = \\beta(j - 1) + (3j - 1). For any partition P, we let the largest part and number of parts of P be m_p and n_p respectively (here, if P is the empty partition, then m_p = n_p = 0). Next, we let \\mathcal{P}_j denote the set of partitions of n - \\beta(j) (note that \\mathcal{P}_j = \\emptyset if \\beta(j) > n), and we let \\mathcal{P}_E = \\bigcup_{j \\text{ even}} \\mathcal{P}_j and \\mathcal{P}_O = \\bigcup_{j \\text{ odd}} \\mathcal{P}_j. Given any partition P \\in \\mathcal{P}_j with the form n - \\beta(j) = k_1 + \\dots + k_{n_p}, where k_1 \\ge k_2 \\ge \\dots \\ge k_{n_p} \\ge 1, we shall define a partition f(P) \\in \\mathcal{P}_{j-1} \\cup \\mathcal{P}_{j+1} as follows:\\nCase 1: n_p + 3j \\ge m_p. If P is the empty partition, then we let f(P) be the partition with a single part of size 3j - 1. So let us assume that P is not the empty partition. Then we have n_p + 3j - 1 \\ge m_p - 1 = k_1 - 1 \\ge k_2 - 1 \\ge \\dots \\ge k_{n_p} - 1 \\ge 0. Also, we have\\nn_p + 3j - 1 + \\sum_{i=1}^{n_p} (k_i - 1) = 3j - 1 + \\sum_{i=1}^{n_p} k_i\\n= 3j - 1 + n - \\beta(j)\\n= n - \\beta(j - 1).\\nNow, we let f(P) be the partition of n - \\beta(j - 1) with the form\\nn - \\beta(j - 1) = (n_p + 3j - 1) + (k_1 - 1) + \\dots + (k_{n_p} - 1).\\nCase 2: n_p + 3j < m_p. As j \\ge 0, let us assume that P is not the empty partition. Then we have k_i + 1 > 1 for all i = 2, \\dots, n_p and m_p - 3j - n_p - 1 \\ge 0. Also, we have\\n\\sum_{i=2}^{n_p} (k_i + 1) + m_p - 3j - n_p - 1 = \\sum_{i=1}^{n_p} k_i + (n_p - 1) - 3j - n_p - 1\\n= n - \\beta(j) - 3j - 2\\n= n - \\beta(j + 1).",
    "_source_page": 399
  },
  {
    "_source_page": 400
  },
  {
    "73": "Let $a_k = 1 + r + \\dots + r^k$ for all $k \\ge 0$. Let $\\mathcal{A}$ denote the set of partitions of $n$ of the form $n = n_1 + \\dots + n_s$ (with $n_s > 0$) that satisfy $n_i \\ge r n_{i+1}$ for all $i = 1, \\dots, s - 1$, and let $\\mathcal{B}$ denote the set of partitions of $n$, which each part is equal to $a_k$ for some $k \\ge 0$. We seek to establish a bijection between $\\mathcal{A}$ and $\\mathcal{B}$.\\nLet us take a partition $P \\in \\mathcal{A}$ of the form $n = n_1 + \\dots + n_s$, and we let $m_i = n_i - r n_{i+1}$ for all $i = 1, \\dots, s - 1$ and $m_s = n_s$. Then it follows that we have $m_i \\ge 0$ for all $i = 1, \\dots, s$. We then let $f(P)$ be the partition with exactly $m_i$ parts of size $a_{i-1}$ for all $i = 1, \\dots, s$. We claim that $f(P) \\in \\mathcal{B}$. Indeed, we see that",
    "_source_page": 401
  },
  {
    "_source_page": 402
  },
  {
    "_source_page": 403
  },
  {
    "exercise": 6,
    "1": "The given recurrence relation may be written as $a_n - 3a_{n-1} + 2a_{n-2} = 0$. Its characteristic equation is $x^2 - 3x + 2 = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = 2$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A + B \\cdot 2^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = 2$ and $a_1 = 3$ imply that\\n\\n$A + B = 2, \\quad$ and\\n$A + 2B = 3$.\\n\\nSolving the system for $A$ and $B$ gives us $A = B = 1$. So we have $a_n = 1 + 2^n$ for all $n \\ge 0$.",
    "2": "The characteristic equation of the given recurrence relation is $x^2 - 6x + 9 = 0$, and its characteristic root is $\\alpha = 3$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $a_n = (A + Bn) \\cdot 3^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = 2$ and $a_1 = 3$ imply that\\n\\n$A = 2, \\quad$ and\\n$3(A + B) = 3$.\\n\\nSolving the system for $A$ and $B$ gives us $A = 2$ and $B = -1$. So we have $a_n = (2 - n)3^n$ for all $n \\ge 0$.",
    "3": "The given recurrence relation may be written as $a_n - \\frac{1}{2}a_{n-1} - \\frac{1}{2}a_{n-2} = 0$. Its characteristic equation is $x^2 - \\frac{1}{2}x - \\frac{1}{2} = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = -\\frac{1}{2}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A + B(-\\frac{1}{2})^n$, where $A$ and $B$ are constants to be",
    "_source_page": 404
  },
  {
    "4": "The characteristic equation of the given recurrence relation is $x^2 - 4x + 4 = 0$, and its characteristic root is $\\alpha = 2$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $a_n = (A + Bn)2^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = -\\frac{1}{4}$ and $a_1 = 1$ imply that\n\n$A = -\\frac{1}{4}, \\quad \\text{and}$\n$2(A + B) = 1.$\n\nSolving the system for $A$ and $B$ gives us $A = -\\frac{1}{4}$ and $B = \\frac{3}{4}$. So we have $a_n = (-\\frac{1}{4} + \\frac{3n}{4})2^n = (3n - 1)2^{n-2}$ for all $n \\ge 0$.",
    "5": "The given recurrence relation may be written as $2a_n - a_{n-1} - 2a_{n-2} + a_{n-3} = 0$. Its characteristic equation is $2x^3 - x^2 - 2x + 1 = 0$, and its characteristic roots are $\\alpha_1 = 1, \\alpha_2 = -1$ and $\\alpha_3 = \\frac{1}{2}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A + B(-1)^n + C(\\frac{1}{2})^n$, where $A, B$ and $C$ are constants to be determined. The initial conditions $a_0 = 0, a_1 = 1$ and $a_2 = 2$ imply that\n\n$A + B + C = 0,$\n$A - B + \\frac{1}{2}C = 1, \\quad \\text{and}$\n$A + B + \\frac{1}{4}C = 2.$\n\nSolving the system for $A, B$ and $C$ gives us $A = \\frac{5}{2}, B = \\frac{1}{6}$ and $C = -\\frac{8}{3}$. So we have $a_n = \\frac{5}{2} + \\frac{1}{6}(-1)^n - \\frac{8}{3}(\\frac{1}{2})^n$ for all $n \\ge 0$.",
    "6": "The characteristic equation of the given recurrence relation is $x^3 - 6x^2 + 11x - 6 = 0$, and its characteristic roots are $\\alpha_1 = 1, \\alpha_2 = 2$ and $\\alpha_3 = 3$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n =$",
    "_source_page": 405
  },
  {
    "7": "The given recurrence relation may be written as a_n + a_{n-1} - 16a_{n-2} + 20a_{n-3} = 0. Its characteristic equation is x^3 + x^2 - 16x + 20 = 0, and its characteristic roots are \\alpha_1 = 2 of multiplicity 2 and \\alpha_2 = -5. Thus, by result (II), the general solution of the recurrence relation is given by a_n = (A + Bn)2^n + C(-5)^n, where A, B and C are constants to be determined. The initial conditions a_0 = 0, a_1 = 1 and a_2 = -1 imply that\n\nA + C = 0,\n2A + 2B - 5C = 1, \\quad \\text{and}\n4A + 8B + 25C = -1.\n\nSolving the system for A, B and C gives us A = \\frac{5}{49}, B = \\frac{1}{7} and C = -\\frac{5}{49}. So we have\n\na_n = \\left(\\frac{5}{49} + \\frac{n}{7}\\right) 2^n - \\frac{5}{49}(-5)^n\n= \\left(\\frac{1}{7} + \\frac{n}{7}\\right) 2^n - \\frac{2}{49} \\cdot 2^n - \\frac{5}{49}(-1)^n 5^n\n= \\frac{1}{7}(n + 1)2^n - \\frac{1}{49}(2^{n+1} + (-1)^n 5^{n+1})\n\nfor all n \\ge 0.",
    "8": "The characteristic equation of the given recurrence relation is x^4 + x^3 - 3x^2 - 5x - 2 = 0, and its characteristic roots are \\alpha_1 = -1 of multiplicity 3 and \\alpha_2 = 2. By result (II), the general solution of the recurrence relation is given by\n\na_n = (A + Bn + Cn^2)(-1)^n + D \\cdot 2^n",
    "_source_page": 406
  },
  {
    "9": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - \\frac{1}{2}a_{n-1} = 0$ is $x - \\frac{1}{2} = 0$, and its characteristic root is $\\alpha = \\frac{1}{2}$. Thus, we have $a_n^{(h)} = A(\\frac{1}{2})^n$, where $A$ is a constant.\\nNext, let us find $a_n^{(p)}$. Since $f(n) = -3$ is a polynomial in $n$ of degree 0, and 1 is not a characteristic root, we let $a_n^{(p)} = B$, where $B$ is a constant. Since $a_n^{(p)}$ satisfies the equation $a_n = \\frac{1}{2}a_{n-1} - 3$, we must have $B = \\frac{1}{2}B - 3$, or equivalently, $B = -6$, and hence $a_n^{(p)} = -6$. By (6.4.2), the general solution of the equation $a_n = \\frac{1}{2}a_{n-1} - 3$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = A(\\frac{1}{2})^n - 6$. The initial condition $a_0 = 2(3 + \\sqrt{3})$ implies that $A - 6 = 2(3 + \\sqrt{3})$, or equivalently, $A = 2(\\sqrt{3} + 6)$.\\nTherefore, the required solution is $a_n = 2(\\sqrt{3} + 6)(\\frac{1}{2})^n - 6 = (\\frac{1}{2})^{n-1}(\\sqrt{3} + 6) - 6$ for all $n \\ge 0$.",
    "10": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - 3a_{n-1} = 0$ is $x - 3 = 0$, and its characteristic root is $\\alpha = 3$. Thus, we have $a_n^{(h)} = A \\cdot 3^n$, where $A$ is a constant.\\nNext, let us find $a_n^{(p)}$. Since $f(n) = 3 \\cdot 2^n - 4n$ is a sum of the exponential function $3 \\cdot 2^n$ and the polynomial $-4n$ in $n$ of degree 1, and 1 and 2 are not characteristic roots, we let $a_n^{(p)} = B \\cdot 2^n + Cn + D$, where $B, C$ and $D$ are constants. Since $a_n^{(p)}$ satisfies the equation $a_n - 3a_{n-1} = 3 \\cdot 2^n - 4n$, we must have\\n\\n$(B \\cdot 2^n + Cn + D) - 3(B \\cdot 2^{n-1} + C(n - 1) + D) = 3 \\cdot 2^n - 4n.$\\n\\nBy equating the coefficients of $2^n, n$ and the constant terms, we get\\n\\n$-\\frac{1}{2}B = 3,$\\n$-2C = -4, \\quad \\text{and}$\\n$3C - 2D = 0.$\\n\\nSolving the system for $B, C$ and $D$ gives us $B = -6, C = 2$ and $D = 3$, and hence we have $a_n^{(p)} = -6 \\cdot 2^n + 2n + 3$. By (6.4.2), the general solution of the equation $a_n - 3a_{n-1} = 3 \\cdot 2^n - 4n$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = A \\cdot 3^n - 6 \\cdot 2^n + 2n + 3$. The initial condition $a_1 = 2$ implies that $3A - 7 = 2$, or",
    "_source_page": 407
  },
  {
    "11": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - a_{n-1} = 0$ is $x - 1 = 0$, and its characteristic root is $\\alpha = 1$. Thus, we have $a_n^{(h)} = A$, where $A$ is a constant.\\nNext, let us find $a_n^{(p)}$. Since $f(n) = 4n - 1$ is a polynomial in $n$ of degree 1, and 1 is a characteristic root of multiplicity 1, we let $a_n^{(p)} = Bn + Cn^2$, where $B$ and $C$ are constants. Since $a_n^{(p)}$ satisfies the equation $a_n - a_{n-1} = 4n - 1$, we must have\\n$$(Bn + Cn^2) - (B(n - 1) + C(n - 1)^2) = 4n - 1.$$\\nBy equating the coefficients of $n$ and the constant terms, we get\\n$$2C = 4, \\quad \\text{and}$$\\n$$B - C = -1.$$\\nSolving the system for $B$ and $C$ gives us $B = 1$ and $C = 2$, and hence we have $a_n^{(p)} = n + 2n^2$. By (6.4.2), the general solution of the equation $a_n - a_{n-1} = 4n - 1$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = A + n + 2n^2$. The initial condition $a_0 = 1$ implies that $A = 1$.\\nTherefore, the required solution is $a_n = 1 + n + 2n^2$ for all $n \\ge 0$.",
    "12": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - pa_{n-1} = 0$ is $x - p = 0$, and its characteristic root is $\\alpha = p$. Thus, we have $a_n^{(h)} = Ap^n$, where $A$ is a constant. Next, let us find $a_n^{(p)}$. Let us consider the following cases:\\nCase 1: $p \\neq 1$. Since $f(n) = q$ is a polynomial in $n$ of degree 0, and 1 is not a characteristic root, we let $a_n^{(p)} = B$, where $B$ is a constant. Since $a_n^{(p)}$ satisfies the equation $a_n = pa_{n-1} + q$, we must have $B = pB + q$, or equivalently, $B = \\frac{q}{1-p}$, and hence $a_n^{(p)} = \\frac{q}{1-p}$. By (6.4.2), the general solution of the equation $a_n = pa_{n-1} + q$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = Ap^n + \\frac{q}{1-p}$. The initial condition $a_0 = r$ implies that $A + \\frac{q}{1-p} = r$, or equivalently, $A = r - \\frac{q}{1-p}$.\\nTherefore, the required solution for this case is",
    "_source_page": 408
  },
  {
    "13": "As the sequence (a_n - \\frac{1}{10}a_{n-1}) is a geometric progression with common ratio \\frac{1}{2}, it follows that we have a_n - \\frac{1}{10}a_{n-1} = C(\\frac{1}{2})^n for all n \\ge 1 for some constant C. As a_1 - \\frac{1}{10}a_0 = \\frac{3}{5} - \\frac{1}{10} = \\frac{1}{2}, it follows that we must have C = 1, so that we have a_n - \\frac{1}{10}a_{n-1} = (\\frac{1}{2})^n for all n \\ge 1. Now, the characteristic equation of a_n - \\frac{1}{10}a_{n-1} = 0 is x - \\frac{1}{10} = 0, and its characteristic root is \\alpha = \\frac{1}{10}. Thus, we have a_n^{(h)} = A(\\frac{1}{10})^n, where A is a constant. Next, let us find a_n^{(p)}. Since f(n) = (\\frac{1}{2})^n is an exponential function and \\frac{1}{2} is not a characteristic root, we let a_n^{(p)} = B(\\frac{1}{2})^n, where B is a constant. Since a_n^{(p)} satisfies the equation a_n - \\frac{1}{10}a_{n-1} = (\\frac{1}{2})^n, we must have B(\\frac{1}{2})^n - \\frac{B}{10}(\\frac{1}{2})^{n-1} = (\\frac{1}{2})^n, or equivalently, B = \\frac{5}{4}. By (6.4.2), the general solution of the equation a_n - \\frac{1}{10}a_{n-1} = (\\frac{1}{2})^n is given by a_n = a_n^{(h)} + a_n^{(p)} = A(\\frac{1}{10})^n + \\frac{5}{4}(\\frac{1}{2})^n. The initial condition a_0 = 1 implies that A + \\frac{5}{4} = 1, or equivalently, A = -\\frac{1}{4}. Therefore, we have a_n = -\\frac{1}{4}(\\frac{1}{10})^n + \\frac{5}{4}(\\frac{1}{2})^n = \\frac{5}{4} [(\\frac{1}{2})^n - \\frac{1}{5}(\\frac{1}{10})^n] for all n \\ge 0.",
    "14": "By taking logarithm to the base 10 on both sides of the recurrence relation, we get\\n\\n4 \\log a_n + \\log a_{n-1} = 10.",
    "_source_page": 409
  },
  {
    "15": "By taking logarithm on both sides of the recurrence relation, we get\\n$$\\log a_n = \\log 2 + \\frac{1}{2} \\log a_{n-1}.$$\\nWe let $b_n = \\log a_n$ for all $n \\ge 0$, so that we have $b_n - \\frac{1}{2}b_{n-1} = \\log 2$ and $b_0 = \\log a_0 = \\log 25$. The characteristic equation of $b_n - \\frac{1}{2}b_{n-1} = 0$ is $x - \\frac{1}{2} = 0$, and its characteristic root is $\\alpha = \\frac{1}{2}$. Thus, we have $b_n^{(h)} = A(\\frac{1}{2})^n = A2^{-n}$, where $A$ is a constant.\\nNext, let us find $b_n^{(p)}$. Since $f(n) = \\log 2$ is a polynomial in $n$ of degree 0, and 1 is not a characteristic root, we let $b_n^{(p)} = B$, where $B$ is a constant. Since $b_n^{(p)}$ satisfies the equation $b_n - \\frac{1}{2}b_{n-1} = \\log 2$, we must have $\\frac{1}{2}B = \\log 2$, or equivalently, $B = \\log 4$, and hence $b_n^{(p)} = \\log 4$. By (6.4.2), the general solution of the equation $b_n - \\frac{1}{2}b_{n-1} = \\log 2$ is given by $b_n = b_n^{(h)} + b_n^{(p)} = \\log 4 + A2^{-n}$. The initial condition $b_0 = \\log 25$ implies that $A + \\log 4 = \\log 25$, or equivalently, $A = \\log \\frac{25}{4}$.\\nTherefore, we have $b_n = \\log 4 + 2^{-n} \\log \\frac{25}{4}$ for all $n \\ge 0$, and consequently we have $a_n = 10^{b_n} = 10^{(\\log 4 + 2^{-n} \\log \\frac{25}{4})} = 4 \\cdot 10^{2^{-n} \\log \\frac{25}{4}}$ for all $n \\ge 0$. As $\\lim_{n \\to \\infty} 2^{-n} \\log \\frac{25}{4} = 0$, it follows that we have $\\lim_{n \\to \\infty} 10^{2^{-n} \\log \\frac{25}{4}} = 1$, and therefore we have",
    "_source_page": 410
  },
  {
    "16": "We first observe that we have \\frac{a_{n-1}}{a_{n-2}} = \\left(\\frac{a_n}{a_{n-1}}\\right)^2 \\ge 0 for all n \\ge 2. As a_{n-1} \\ne 0 for all n \\ge 2, it follows that we must have \\frac{a_{n-1}}{a_{n-2}} > 0 for all n \\ge 2. Finally, we shall prove by induction on n that we have a_n > 0 for all n \\ge 0, with the base case n = 0 being trivial. Suppose that the statement holds for some non-negative integer n = k \\ge 0. By induction hypothesis, we have a_k > 0. As we have \\frac{a_{n-1}}{a_{n-2}} > 0 for all n \\ge 2, it follows in particular that we have \\frac{a_{k+1}}{a_k} > 0, and therefore we have a_{k+1} = a_k \\cdot \\frac{a_{k+1}}{a_k} > 0, thereby completing the induction step. So we have a_n > 0 for all n \\ge 0.\\nNow, by taking logarithms base 2 on both sides of the recurrence relation, we get\\n2 \\log_2 a_n - 2 \\log_2 a_{n-1} = \\log_2 a_{n-1} - \\log_2 a_{n-2},\\nor equivalently,\\n2 \\log_2 a_n - 3 \\log_2 a_{n-1} + \\log_2 a_{n-2} = 0.\\nWe let b_n = \\log_2 a_n for all n \\ge 0, so that we have 2b_n - 3b_{n-1} + b_{n-2} = 0, b_0 = \\log_2 \\frac{1}{4} = -2 and b_1 = \\log_2 1 = 0. The characteristic equation of 2b_n - 3b_{n-1} + b_{n-2} = 0 is 2x^2 - 3x + 1 = 0, and its characteristic roots are \\alpha_1 = 1 and \\alpha_2 = \\frac{1}{2}. Thus, by result (I), the general solution of the recurrence relation 2b_n - 3b_{n-1} + b_{n-2} = 0 is given by b_n = A + B(\\frac{1}{2})^n = A + B2^{-n}, where A and B are constants to be determined. The initial conditions b_0 = -2 and b_1 = 0 imply that\\nA + B = -2, and\\nA + \\frac{1}{2}B = 0.\\nSolving the system for A and B gives us A = 2 and B = -4. So we have b_n = 2 - 4 \\cdot 2^{-n} = 2(1 - 2^{1-n}), and therefore we have a_n = 2^{b_n} = 2^{2(1-2^{1-n})} for all n \\ge 0.",
    "17": "Let us first find a_n^{(h)}. The characteristic equation of a_n + 3a_{n-1} = 0 is x + 3 = 0, and its characteristic root is \\alpha = -3. Thus, we have a_n^{(h)} = A(-3)^n, where A is a constant.",
    "_source_page": 411
  },
  {
    "18": "The characteristic equation of the given recurrence relation is $x^2 - 2x + 2 = 0$, and its characteristic roots are $\\alpha = 1 + i$ and $\\bar{\\alpha} = 1 - i$. By expressing $\\alpha$ and $\\bar{\\alpha}$ in trigonometric form, we have $\\alpha = \\sqrt{2}(\\cos \\frac{\\pi}{4} + i \\sin \\frac{\\pi}{4})$ and $\\bar{\\alpha} = \\sqrt{2}(\\cos \\frac{\\pi}{4} - i \\sin \\frac{\\pi}{4})$. Thus, by result (I), the general solution of the recurrence relation is given by\n\n$a_n = A\\alpha^n + B\\bar{\\alpha}^n$\n$= (\\sqrt{2})^n \\left[ A \\left( \\cos \\frac{n\\pi}{4} + i \\sin \\frac{n\\pi}{4} \\right) + B \\left( \\cos \\frac{n\\pi}{4} - i \\sin \\frac{n\\pi}{4} \\right) \\right]$\n$= (\\sqrt{2})^n \\left( C \\cos \\frac{n\\pi}{4} + D \\sin \\frac{n\\pi}{4} \\right),$\n\nwhere $C = A + B$ and $D = i(A - B)$ are constants to be determined. The",
    "_source_page": 412
  },
  {
    "19": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - 4a_{n-1} + 4a_{n-2} = 0$ is $x^2 - 4x + 4 = 0$, and its characteristic root is $\\alpha = 2$ of multiplicity 2. Thus, we have $a_n^{(h)} = (A + Bn)2^n$, where $A$ and $B$ are constants.\\nNext, let us find $a_n^{(p)}$. Since $f(n) = 2^n$ is an exponential function, and 2 is a characteristic root of multiplicity 2, we let $a_n^{(p)} = Cn^2 2^n$, where $C$ is a constant. Since $a_n^{(p)}$ satisfies the equation $a_n - 4a_{n-1} + 4a_{n-2} = 2^n$, we must have\\n\\n$Cn^2 2^n - 4C(n-1)^2 2^{n-1} + 4C(n-2)^2 2^{n-2} = 2^n$.\\n\\nBy equating the coefficients of $2^n$, we get $2C = 1$, or equivalently, $C = \\frac{1}{2}$, and hence we have $a_n^{(p)} = \\frac{1}{2} n^2 2^n$. By (6.4.2), the general solution of the equation $a_n - 4a_{n-1} + 4a_{n-2} = 2^n$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = (A + Bn + \\frac{1}{2} n^2) 2^n$. The initial conditions $a_0 = 0$ and $a_1 = 3$ imply that\\n\\n$A = 0, \\quad \\text{and}$\\n$2(A + B + \\frac{1}{2}) = 3.$\\n\\nSolving the system for $A$ and $B$ gives us $A = 0$ and $B = 1$. Therefore, the required solution is $a_n = (n + \\frac{1}{2} n^2) 2^n$ for all $n \\ge 0$.",
    "20": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n - a_{n-1} - 2a_{n-2} = 0$ is $x^2 - x - 2 = 0$, and its characteristic roots are $\\alpha_1 = 2$ and $\\alpha_2 = -1$. Thus, we have $a_n^{(h)} = A \\cdot 2^n + B(-1)^n$, where $A$ and $B$ are constants.\\nNext, let us find $a_n^{(p)}$. Since $f(n) = 4n$ is a polynomial in $n$ of degree 1, and 1",
    "_source_page": 413
  },
  {
    "21": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n + a_{n-1} - 2a_{n-2} = 0$ is $x^2 + x - 2 = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = -2$. Thus, we have $a_n^{(h)} = A + B(-2)^n$, where $A$ and $B$ are constants.\nNext, let us find $a_n^{(p)}$. Since $f(n) = 2^{n-2}$ is an exponential function, and 2 is not a characteristic root, we let $a_n^{(p)} = C2^n$, where $C$ is a constant. Since $a_n^{(p)}$ satisfies the equation $a_n + a_{n-1} - 2a_{n-2} = 2^{n-2}$, we must have\n\n$C2^n + C2^{n-1} - 2C2^{n-2} = 2^{n-2}$.\n\nBy equating the coefficients of $2^n$, we get $C = \\frac{1}{4}$, and hence we have $a_n^{(p)} = \\frac{1}{4} \\cdot 2^n = 2^{n-2}$. By (6.4.2), the general solution of the equation $a_n + a_{n-1} - 2a_{n-2} = 2^{n-2}$ is given by $a_n = a_n^{(h)} + a_n^{(p)} = A + B(-2)^n + 2^{n-2}$. The initial conditions $a_0 = 0$ and $a_1 = 0$ imply that",
    "_source_page": 414
  },
  {
    "22": "Let us first find a_n^{(h)}. The characteristic equation of a_n - 3a_{n-1} + 2a_{n-2} = 0 is x^2 - 3x + 2 = 0, and its characteristic roots are \\alpha_1 = 1 and \\alpha_2 = 2. Thus,",
    "_source_page": 415
  },
  {
    "23": "Let us first find $a_n^{(h)}$. The characteristic equation of $a_n + 5a_{n-1} + 6a_{n-2} = 0$ is $x^2 + 5x + 6 = 0$, and its characteristic roots are $\\alpha_1 = -2$ and $\\alpha_2 = -3$. Thus, we have $a_n^{(h)} = A(-2)^n + B(-3)^n$, where $A$ and $B$ are constants.\nNext, let us find $a_n^{(p)}$. Since $f(n) = 3n^2$ is a polynomial in $n$ of degree 2, and 1 is not a characteristic root, we let $a_n^{(p)} = Cn^2 + Dn + E$, where $C, D$ and $E$ are constants. Since $a_n^{(p)}$ satisfies the equation $a_n + 5a_{n-1} + 6a_{n-2} = 3n^2$, we must have\n\n$(Cn^2 + Dn + E) + 5(C(n - 1)^2 + D(n - 1) + E)$\n$+ 6(C(n - 2)^2 + D(n - 2) + E)$\n$= 3n^2$.\n\nBy equating the coefficients of $n^2, n$ and the constant terms, we get\n\n$12C = 3$,\n$12D - 34C = 0$, and\n$12E - 17D + 29C = 0$.",
    "_source_page": 416
  },
  {
    "24": "The characteristic equation of the given recurrence relation is $px^2 + qx + r = 0$, and its discriminant $D$ is equal to\n\n$q^2 - 4pr = (-p-r)^2 - 4pr = p^2 + 2pr + r^2 - 4pr = p^2 - 2pr + r^2 = (p-r)^2$.\n\nLet us consider cases:\nCase 1: $p \\neq r$. Then the characteristic roots of the characteristic equation are $\\alpha_1 = \\frac{-q+p-r}{2p} = 1$ and $\\alpha_2 = \\frac{-q+r-p}{2p} = \\frac{r}{p}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A + B(\\frac{r}{p})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = s$ and $a_1 = t$ imply that\n\n$A + B = s, \\quad \\text{and}$\n$A + \\frac{rB}{p} = t$.\n\nSolving the system for $A$ and $B$ gives us $A = s + \\frac{p(t-s)}{p-r}$ and $B = -\\frac{p(t-s)}{p-r}$. So we have $a_n = s + \\frac{p(t-s)}{p-r}(1 - (\\frac{r}{p})^n)$ for all $n \\ge 0$.\nCase 2: $p = r$. Then the characteristic root of the characteristic equation is $\\alpha = \\frac{-q}{2p} = 1$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $a_n = A + Bn$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = s$ and $a_1 = t$ imply that\n\n$A = s, \\quad \\text{and}$\n$A + B = t$.",
    "_source_page": 417
  },
  {
    "25": "(i) We have\n$ra_n + s = \\frac{rpa_{n-1} + rq}{ra_{n-1} + s} + s$\n$= \\frac{rpa_{n-1} + ps - ps + rq}{ra_{n-1} + s} + s$\n$= \\frac{p(ra_{n-1} + s)}{ra_{n-1} + s} + \\frac{rq - ps}{ra_{n-1} + s} + s$\n$= p + s + \\frac{rq - ps}{ra_{n-1} + s}$.\n(ii) By making the substitution $ra_n + s = \\frac{b_{n+1}}{b_n}$ into (1), we get\n$\\frac{b_{n+1}}{b_n} = p + s + \\frac{rq - ps}{\\frac{b_n}{b_{n-1}}} = p + s + \\frac{(rq - ps)b_{n-1}}{b_n}$. (6.1)\nBy multiplying $b_n$ on both sides of equation (6.1), we get\n$b_{n+1} = (p + s)b_n + (rq - ps)b_{n-1}$,\nor equivalently,\n$b_{n+1} - (p + s)b_n + (ps - rq)b_{n-1} = 0$\nas desired.",
    "26": "Let us prove by induction on $n$ that we have $a_n > 0$ for all $n \\ge 0$, with the base case $n = 0$ being trivial. Suppose that the statement holds for some non-negative integer $n = k \\ge 0$. By induction hypothesis, we have $a_k > 0$, and hence we have $a_{k+1} = \\frac{3a_k}{2a_k+1} > 0$, thereby completing the induction step. So we have $a_n > 0$ for all $n \\ge 0$. Now, we let $b_0 = 1$, and $b_{n+1} = b_n(2a_n + 1)$ for all $n \\ge 0$. Let us prove by",
    "_source_page": 418
  },
  {
    "_source_page": 419
  },
  {
    "27": "Let us prove by induction on $n$ that we have $a_n > 0$ for all $n \\ge 0$, with the base case $n = 0$ being trivial. Suppose that the statement holds for some non-negative integer $n = k \\ge 0$. By induction hypothesis, we have $a_k > 0$, and hence we have $a_{k+1} = \\frac{3a_k+1}{a_k+3} > 0$, thereby completing the induction step. So we have $a_n > 0$ for all $n \\ge 0$.\\nNow, we let $b_0 = 1$, and $b_{n+1} = b_n(a_n + 3)$ for all $n \\ge 0$. Let us prove by induction on $n$ that we have $b_n > 0$ for all $n \\ge 0$, with the base case $n = 0$ being trivial. Suppose that the statement holds for some non-negative integer $n = k \\ge 0$. By induction hypothesis, we have $b_k > 0$. Since $a_k > 0$, it follows that we have $a_k + 3 > 0$, and hence we have $b_{k+1} = b_k(a_k + 3) > 0$, thereby completing the induction step. So we have $b_n > 0$ for all $n \\ge 0$.\\nConsequently, we can write $a_n + 3 = \\frac{b_{n+1}}{b_n}$ for all $n \\ge 0$.\\nBy making the substitution $a_n + 3 = \\frac{b_{n+1}}{b_n}$ into the recurrence relation, the recurrence relation reduces to the following recurrence relation by Problem 6.25(ii):\\n\\n$b_{n+1} - (3 + 3)b_n + (3 \\cdot 3 - 1 \\cdot 1)b_{n-1} = 0,$\\n\\nor equivalently,\\n\\n$b_{n+1} - 6b_n + 8b_{n-1} = 0.$\\n\\nIts characteristic equation is $x^2 - 6x + 8 = 0$, and its characteristic roots are $\\alpha_1 = 2$ and $\\alpha_2 = 4$. Thus, by result (I), the general solution of the recurrence relation is given by $b_n = A \\cdot 2^n + B \\cdot 4^n$, where $A$ and $B$ are constants to be determined. The initial conditions $b_0 = 1$ and $b_1 = b_0(a_0 + 3) = 8$ imply that\\n\\n$A + B = 1, \\quad \\text{and}$\\n$2A + 4B = 8.$\\n\\nSolving the system for $A$ and $B$ gives us $A = -2$ and $B = 3$. So we have $b_n = -2 \\cdot 2^n + 3 \\cdot 4^n = 2^{n+1}(3 \\cdot 2^{n-1} - 1)$ for all $n \\ge 0$. Hence, we have",
    "_source_page": 420
  },
  {
    "28": "Let $a_1 = a, b_1 = 1$, and $b_{n+1} = b_n(2 - a_n)$ for all $n \\ge 1$. Let us prove by induction on $n$ that we have $b_n \\neq 0$ for all $n \\ge 1$, with the base case $n = 1$ being trivial. Suppose that the statement holds for some non-negative integer $n = k \\ge 1$. By induction hypothesis, we have $b_k \\neq 0$. Since $(2 - a_k)a_{k+1} = 1$, it follows that we have $2 - a_k \\neq 0$, and hence we have $b_{k+1} = b_k(2 - a_k) \\neq 0$, thereby completing the induction step. So we have $b_n \\neq 0$ for all $n \\ge 1$. Consequently, we can write $2 - a_n = \\frac{b_{n+1}}{b_n}$ for all $n \\ge 1$. By making the substitution $2 - a_n = \\frac{b_{n+1}}{b_n}$ into the recurrence relation, the recurrence relation reduces to the following recurrence relation by Problem 6.25(ii):\\n\\n$b_{n+1} - (0 + 2)b_n + (0 \\cdot 2 - 1 \\cdot (-1))b_{n-1} = 0$,\\n\\nor equivalently,\\n\\n$b_{n+1} - 2b_n + b_{n-1} = 0$.\\n\\nIts characteristic equation is $x^2 - 2x + 1 = 0$, and its characteristic root is $\\alpha = 1$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $b_n = A + Bn$, where $A$ and $B$ are constants to be determined. The initial conditions $b_1 = 1$ and $b_2 = b_1(2 - a_1) = 2 - a$ imply that\\n\\n$A + B = 1, \\quad \\text{and}$\\n$A + 2B = 2 - a$.",
    "_source_page": 421
  },
  {
    "29": "Let $a = a_1 a_2 \\dots a_n$ be a derangement of $\\mathbf{N}_n$, and let $a_1 = m$. Then we must have $2 \\le m \\le n$. If $a_m = 1$, then $a_2 a_3 \\dots a_{m-1} a_{m+1} \\dots a_n$ is a derangement of $\\mathbf{N}_n \\setminus \\{1, m\\}$, and there are $D_{n-2}$ such derangements of $\\mathbf{N}_n \\setminus \\{1, m\\}$ by definition. Else, we must have $a_m \\neq 1$. For each $i = 2, 3, \\dots, n$, let us define $b_i$ as follows:\n\n$b_i = \\begin{cases} a_i & \\text{if } a_i \\neq 1, \\\\ m & \\text{if } a_i = 1. \\end{cases}$\n\nSince $a_1 = m$ and $a_m \\neq 1$, it follows that $b_m \\neq m$, so it is easy to see that there is a bijection between the set of derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ with $a_1 = m$ and $a_m \\neq 1$, and the set of derangements $b_2 b_3 \\dots b_n$ of $\\mathbf{N}_n \\setminus \\{1\\}$. Now, by definition, there are $D_{n-1}$ derangements $b_2 b_3 \\dots b_r$ of $\\mathbf{N}_n \\setminus \\{1\\}$, and thus there are $D_{n-1}$ derangements $a_1 a_2 \\dots a_n$ of $\\mathbf{N}_n$ with $a_1 = m$ and $a_m \\neq 1$. By",
    "_source_page": 422
  },
  {
    "30": "Let $d = d_1 d_2 \\dots d_n$ be a ternary sequence of length $n$ in which no two 0's are adjacent. Let us consider the following cases:\\nCase 1: $d_1 \\neq 0$. Then $d_2 d_3 \\dots d_n$ is a ternary sequence of length $n - 1$ in which no two 0's are adjacent, and there are no restrictions on $d_2$. Thus, for a fixed $i \\in \\{1, 2\\}$, there is a bijection between the set of ternary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 = i$, and the set of ternary sequences of length $n - 1$ in which no two 0's are adjacent. Since there are $a_{n-1}$ ternary sequences of length $n - 1$ in which no two 0's are adjacent, it follows that there are $a_{n-1}$ ternary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 = i$. As there are 2 choices for $i$, it follows from (MP) that there are $2a_{n-1}$ ternary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 \\neq 0$.\\nCase 2: $d_1 = 0$. Then $d_2 d_3 \\dots d_n$ is a ternary sequence of length $n - 1$ in which no two 0's are adjacent, and $d_2 \\neq 0$. A similar argument as in Case 1 would show that there are $2a_{n-2}$ ternary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 = 0$.\\nBy (AP), we must have $a_n = 2a_{n-1} + 2a_{n-2}$. The given recurrence relation may be written as $a_n - 2a_{n-1} - 2a_{n-2} = 0$. Its characteristic equation is $x^2 - 2x - 2 = 0$, and its characteristic roots are $\\alpha_1 = 1 + \\sqrt{3}$ and $\\alpha_2 = 1 - \\sqrt{3}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A(1 + \\sqrt{3})^n + B(1 - \\sqrt{3})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_1 = 3$ and $a_2 = 3^2 - 1 = 8$ imply that\\n\\n$A(1 + \\sqrt{3}) + B(1 - \\sqrt{3}) = 3, \\quad \\text{and}$\\n$A(1 + \\sqrt{3})^2 + B(1 - \\sqrt{3})^2 = 8$.\\n\\nSolving the system for $A$ and $B$ gives us $A = \\frac{3+2\\sqrt{3}}{6}$ and $B = \\frac{3-2\\sqrt{3}}{6}$. So we have $a_n = \\frac{3+2\\sqrt{3}}{6}(1 + \\sqrt{3})^n + \\frac{3-2\\sqrt{3}}{6}(1 - \\sqrt{3})^n$ for all $n \\ge 1$.",
    "31": "(i) Suppose that $n \\ge 1$. As the hyperbola is symmetric about the $y$-axis, it",
    "_source_page": 423
  },
  {
    "32": "By applying the cofactor expansion of $a_n$ along the first row, it follows that",
    "_source_page": 424
  },
  {
    "_source_page": 425
  },
  {
    "33": "By applying the cofactor expansion of a_n along the first row, it follows that we have a_n = (pq + 1)a_{n-1} - qb_{n-1}, where\\nb_{n-1} = \\underbrace{\\begin{vmatrix} p & q & 0 & 0 & \\cdots & 0 \\\\ 0 & pq+1 & q & 0 & \\cdots & 0 \\\\ 0 & p & pq+1 & q & \\cdots & 0 \\\\ 0 & 0 & p & pq+1 & \\cdots & 0 \\\\ \\vdots & \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 0 & 0 & 0 & 0 & \\cdots & q \\\\ 0 & 0 & 0 & 0 & \\cdots & pq+1 \\end{vmatrix}}_{n-1} \\Bigg\\} n-1.\\nNext, by applying the cofactor expansion of b_{n-1} along the first column we see that b_{n-1} = pa_{n-2}. It follows from the above equation that we have a_n = (pq + 1)a_{n-1} - pqa_{n-2}. Its characteristic equation is x^2 - (pq + 1)x + pq = 0, and its characteristic roots are pq and 1.\\nLet us consider the following cases:\\nCase 1: pq \\neq 1. By result (I), the general solution of the recurrence relation is given by a_n = A + B(pq)^n, where A and B are constants to be determined. The initial conditions a_1 = pq + 1 and a_2 = (pq + 1)^2 - pq = p^2q^2 + pq + 1 imply that\\nA + Bpq = pq + 1, \\quad \\text{and}\\nA + Bp^2q^2 = p^2q^2 + pq + 1.\\nSolving the system for A and B gives us A = \\frac{1}{1-pq} and B = -\\frac{pq}{1-pq}. Thus, we have a_n = \\frac{1-(pq)^{n+1}}{1-pq} in this case.\\nCase 2: pq = 1. By result (II), the general solution of the recurrence relation is given by a_n = A + Bn, where A and B are constants to be determined. The initial conditions a_1 = 2 and a_2 = 3 imply that\\nA + B = 2, \\quad \\text{and}\\nA + 2B = 3.",
    "_source_page": 426
  },
  {
    "34": "For each $n \\in \\mathbb{N}$, we let $a_n$ be the number of sequences $d_1 d_2 \\cdots d_n$ of length $n$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 1, \\dots, n$ in which 1 and 2 are not adjacent. Let $d_1 d_2 \\cdots d_n$ be such a sequence. Let us consider the following cases:\nCase 1: $d_1 \\in \\{3, 4\\}$. Then $d_2 d_3 \\cdots d_n$ is a sequence of length $n - 1$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 2, \\dots, n$ in which 1 and 2 are not adjacent, and there are no restrictions on $d_2$. Thus, for a fixed $j \\in \\{3, 4\\}$, there is a bijection between the set of sequences $d_1 d_2 \\cdots d_n$ of length $n$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 1, \\dots, n$ in which 1 and 2 are not adjacent and $d_1 = j$, and the set of sequences $d_2 \\cdots d_n$ of length $n - 1$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 2, \\dots, n$ in which 1 and 2 are not adjacent. Since there are $a_{n-1}$ sequences $d_2 \\cdots d_n$ of length $n - 1$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 2, \\dots, n$ in which 1 and 2 are not adjacent, it follows that there are $a_{n-1}$ sequences $d_1 d_2 \\cdots d_n$ of length $n$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 1, \\dots, n$ in which 1 and 2 are not adjacent and $d_1 = j$. As there are 2 choices for $j$, it follows from (MP) that there are $2a_{n-1}$ sequences $d_1 d_2 \\cdots d_n$ of length $n$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 1, \\dots, n$ in which 1 and 2 are not adjacent and $d_1 \\in \\{3, 4\\}$.\nCase 2: $d_1 = 1$ and $d_2 \\in \\{3, 4\\}$. Then $d_3 \\cdots d_n$ is a sequence of length $n - 2$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 3, \\dots, n$ in which 1 and 2 are not adjacent, and there are no restrictions on $d_3$. A similar argument as in Case 1 would now show that there are $2a_{n-2}$ sequences $d_1 d_2 \\cdots d_n$ of length $n$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 1, \\dots, n$ in which 1 and 2 are not adjacent, $d_1 = 1$ and $d_2 \\in \\{3, 4\\}$.\nCase 3: $(d_1, d_2) \\in \\{(1, 1), (2, 2), (2, 3), (2, 4)\\}$. Then $d_2 \\cdots d_n$ is a sequence of length $n - 1$ with $d_i \\in \\{1, 2, 3, 4\\}$ for all $i = 2, \\dots, n$ in which 1 and 2 are not adjacent. Moreover, $d_1$ is uniquely determined by $d_2$ in this case. Thus, there is a bijection between the set of sequences $d_1 d_2 \\cdots d_n$ of length",
    "_source_page": 427
  },
  {
    "35": "Let us take any pavement of the 2 \\times n rectangle with 1 \\times 2 identical blocks and 2 \\times 2 identical blocks. Let us consider the following cases:\nCase 1: The top leftmost square of the 2 \\times n rectangle is covered by a vertical 1 \\times 2 block. Then there are no restrictions on how the top leftmost square of the remaining 2 \\times (n - 1) rectangle can be covered, and so there are a_{n-1} such pavements in this case.\nCase 2: The top leftmost square of the 2 \\times n rectangle is covered by a horizontal 1 \\times 2 block. Then the bottom leftmost square of the 2 \\times n rectangle must be covered by a horizontal 1 \\times 2 block as well, and there are no restrictions on how the top leftmost square of the remaining 2 \\times (n - 2) rectangle can be covered. Thus, there are a_{n-2} such pavements in this case.\nCase 3: The top leftmost square of the 2 \\times n rectangle is covered by a 2 \\times 2 block. A similar argument as in Case 1 shows that there are a_{n-2} such pavements in this case.",
    "_source_page": 428
  },
  {
    "36": "For each $n \\ge 1$, we let $b_n$ (respectively $b'_n$) denote the number of pavements of a $3 \\times 2n$ rectangle such that the top (respectively bottom) leftmost square of the $3 \\times 2n$ rectangle is covered by a vertical $1 \\times 2$ domino, and $c_n$ denote the number of pavements of a $3 \\times 2n$ rectangle such that each of the squares in the leftmost column of the $3 \\times 2n$ rectangle is covered by a horizontal $1 \\times 2$ domino. By (AP), we have $a_{2n} = b_n + b'_n + c_n$, and by symmetry, we have $b'_n = b_n$. Considering the tiling for the initial sections of the rectangle, we find that $b_{n+1} = 2b_n + b'_n + c_n = 3b_n + c_n, c_{n+1} = b_n + b'_n + c_n = 2b_n + c_n$ and $a_{2n} = c_{n+1}$ for all $n \\ge 1$. This implies that we have $b_n = \\frac{1}{2}(c_{n+1} - c_n)$, and we substitute this into the equation $b_{n+1} = 3b_n + c_n$ to get $\\frac{1}{2}(c_{n+2} - c_{n+1}) = \\frac{3}{2}(c_{n+1} - c_n) + c_n$, or equivalently, $c_{n+2} - 4c_{n+1} + c_n = 0$. The resulting characteristic equation is given by $x^2 - 4x + 1 = 0$, and its characteristic roots are $\\alpha_1 = 2 + \\sqrt{3}$ and $\\alpha_2 = 2 - \\sqrt{3}$. Thus, by result (I), the general solution of the recurrence relation is given by $c_n = A(2 + \\sqrt{3})^n + B(2 - \\sqrt{3})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $c_1 = 1$ and $c_2 = 2b_1 + c_1 = 3$ imply that\\n\\n$(2 + \\sqrt{3})A + (2 - \\sqrt{3})B = 1, \\quad \\text{and}$\\n$(2 + \\sqrt{3})^2A + (2 - \\sqrt{3})^2B = 3.\\n\\nSolving the system for $A$ and $B$ gives us $A = \\frac{\\sqrt{3}-1}{2\\sqrt{3}}$ and $B = \\frac{\\sqrt{3}+1}{2\\sqrt{3}}$. So we have $c_n = \\frac{1}{2\\sqrt{3}}[(\\sqrt{3} - 1)(2 + \\sqrt{3})^n + (\\sqrt{3} + 1)(2 - \\sqrt{3})^n]$, and hence we have $a_{2n} = c_{n+1} = \\frac{1}{2\\sqrt{3}}[(\\sqrt{3} + 1)(2 + \\sqrt{3})^n + (\\sqrt{3} - 1)(2 - \\sqrt{3})^n]$.",
    "_source_page": 429
  },
  {
    "37": "From the first equation, we get $b_n = a_n - a_{n+1}$. We substitute this into the second equation to get $a_{n+1} - a_{n+2} = a_n + 3a_n - 3a_{n+1}$, or equivalently, $a_{n+2} = 4a_{n+1} - 4a_n$. The corresponding characteristic equation is given by $x^2 - 4x + 4 = 0$, and its characteristic root is $\\alpha = 2$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $a_n = (A + Bn) \\cdot 2^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = -1$ and $a_1 = a_0 - b_0 = -6$ imply that\n\n$A = -1$, and\n$2(A + B) = -6$.\n\nSolving the system for $A$ and $B$ gives us $A = -1$ and $B = -2$. So we have $a_n = -(1 + 2n)2^n$, and hence we have $b_n = a_n - a_{n+1} = (5 + 2n)2^n$.",
    "38": "From the first recurrence relation we have $b_{n-1} = -\\frac{1}{2}(a_n + a_{n-1})$. We substitute this into the second relation to obtain to get $-\\frac{1}{2}(a_{n+1} + a_n) - 2a_{n-1} + \\frac{3}{2}(a_n + a_{n-1}) = 0$, or equivalently, $a_{n+1} - 2a_n + a_{n-1} = 0$. The resulting characteristic equation is given by $x^2 - 2x + 1 = 0$, and its characteristic root is $\\alpha = 1$ of multiplicity 2. Thus, by result (II), the general solution of the recurrence relation is given by $a_n = A + Bn$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = 1$ and $a_1 = -a_0 - 2b_0 = -1$, and hence we have\n\n$A = 1$, and\n$A + B = -1$.\n\nSolving the system for $A$ and $B$ gives us $A = 1$ and $B = -2$. So we have $a_n = 1 - 2n$ for all $n \\ge 0$, and hence we have $b_n = -\\frac{1}{2}(a_{n+1} + a_n) = 2n$ for all $n \\ge 0$.",
    "39": "From the first equation, we get $b_{n-1} = -5a_n + \\frac{9}{2}a_{n-1}$. We substitute this into the second equation to get $-25a_{n+1} + \\frac{45}{2}a_n = -a_{n-1} - 15a_n + \\frac{27}{2}a_{n-1}$, or equivalently, $2a_{n+1} = 3a_n - a_{n-1}$. The resulting characteristic equation is given by $2x^2 - 3x + 1 = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = \\frac{1}{2}$. Thus, by result (I), the general solution of the recurrence relation is given",
    "_source_page": 430
  },
  {
    "40": "From the first equation, we get $b_{n-1} = 3a_n - 2a_{n-1}$. We substitute this into the second equation to get $9a_{n+1} - 6a_n - a_{n-1} - 6a_n + 4a_{n-1} = 0$, or equivalently, $3a_{n+1} = 4a_n - a_{n-1}$. The corresponding characteristic equation is given by $3x^2 - 4x + 1 = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = \\frac{1}{3}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A + B(\\frac{1}{3})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = 2$ and $a_1 = \\frac{1}{3}(2a_{n-1} + b_{n-1}) = 1$ imply that\n\n$A + B = 2$, and\n$A + \\frac{1}{3}B = 1$.\n\nSolving the system for $A$ and $B$ gives us $A = \\frac{1}{2}$ and $B = \\frac{3}{2}$. So we have $a_n = \\frac{1}{2}(1 + (\\frac{1}{3})^{n-1})$, and hence $b_n = 3a_{n+1} - 2a_n = \\frac{1}{2}(1 - (\\frac{1}{3})^{n-1})$.",
    "41": "We let $c_n = \\log_2 a_n$ and $d_n = \\log_2 b_n$ for all $n \\ge 0$. Then we have $2c_n = c_{n-1} + d_n$ and $2d_n = c_n + d_{n-1}$. From the first equation, we get $d_n = 2c_n - c_{n-1}$. We substitute this into the second equation to get $4c_n - 2c_{n-1} = c_n + 2c_{n-1} - c_{n-2}$, or equivalently, $3c_n - 4c_{n-1} + c_{n-2} = 0$. The corresponding characteristic equation is given by $3x^2 - 4x + 1 = 0$, and its characteristic roots are $\\alpha_1 = 1$ and $\\alpha_2 = \\frac{1}{3}$. Thus, by result (I), the general solution of the recurrence relation is given by $c_n = A + B(\\frac{1}{3})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $c_0 = \\log_2 \\frac{1}{8} = -3$ and $c_1 = \\frac{1}{3}(2c_0 + d_0) = 0$ imply that\n\n$A + B = -3$, and\n$A + \\frac{1}{3}B = 0$.",
    "_source_page": 431
  },
  {
    "42": "(i) Let us pick any binary sequence $s_1s_2 \\dots s_n$ of length $n$ with an even number of 0's and an even number of 1's. If $s_1 = 0$, then $s_2 \\dots s_n$ is a binary sequence of length $n - 1$ with an odd number of 0's and an even number of 1's, and if $s_1 = 1$, then $s_2 \\dots s_n$ is a binary sequence of length $n - 1$ with an even number of 0's and an odd number of 1's. Consequently, it follows from (AP) that we have $a_n = b_{n-1} + c_{n-1}$. A similar reasoning as above would also show that $d_n = b_{n-1} + c_{n-1}$.\\nNext, let us pick any binary sequence $s_1s_2 \\dots s_n$ of length $n$ with an even number of 0's and an odd number of 1's. If $s_1 = 0$, then $s_2 \\dots s_n$ is a binary sequence of length $n - 1$ with an odd number of 0's and an odd number of 1's, and if $s_1 = 1$, then $s_2 \\dots s_n$ is a binary sequence of length $n - 1$ with an even number of 0's and an even number of 1's. Consequently, it follows from (AP) that we have $b_n = a_{n-1} + d_{n-1}$. A similar reasoning as above would also show that $c_n = a_{n-1} + d_{n-1}$.\\n(ii) As the initial conditions for the recurrence relations are $a_0 = 1$ and $b_0 = c_0 = d_0 = 0$, it follows from a similar argument as in Example 6.73 that we have the following system of equations:\\n\\n$A(x) - x(B(x) + C(x)) = 1,$\\n$B(x) - x(A(x) + D(x)) = 0,$\\n$C(x) - x(A(x) + D(x)) = 0, \\quad \\text{and}$\\n$D(x) - x(B(x) + C(x)) = 0.$\\n\\nSolving the system for $A(x), B(x), C(x)$ and $D(x)$ gives us $A(x) = \\frac{1-2x^2}{1-4x^2}$, $B(x) = C(x) = \\frac{x}{1-4x^2}$ and $D(x) = \\frac{2x^2}{1-4x^2}$.\\n(iii) Firstly, we have",
    "_source_page": 432
  },
  {
    "43": "(i) Let $A(x)$, $B(x)$ and $C(x)$ be the generating functions of the sequences $(a_n)$, $(b_n)$ and $(c_n)$ respectively. As the initial conditions for the recurrence relations are $a_0 = p$, $b_0 = q$ and $c_0 = r$, it follows from a similar argument as in Example 6.73 that we have the following system of equations:",
    "_source_page": 433
  },
  {
    "_source_page": 434
  },
  {
    "44": "(i) We shall proceed to prove by induction on n that we have \\sum_{r=1}^n F_r = F_{n+2} - 1 for all n \\geq 1, with the base case n = 1 being trivial. Suppose that the statement holds for n = k, where k \\geq 1. By induction hypothesis, we have \\sum_{r=1}^k F_r = F_{k+2} - 1. This implies that we have\\n\\sum_{r=1}^{k+1} F_r = F_{k+1} + \\sum_{r=1}^k F_r = F_{k+1} + F_{k+2} - 1 = F_{k+3} - 1,\\nwhich completes the induction step. We are done.\\n(ii) We shall proceed to prove by induction on n that we have \\sum_{r=1}^n F_{2r} = F_{2n+1} - 1 for all n \\geq 1, with the base case n = 1 being trivial. Suppose that the statement holds for n = k, where k \\geq 1. By induction hypothesis, we have \\sum_{r=1}^k F_{2r} = F_{2k+1} - 1. This implies that we have\\n\\sum_{r=1}^{k+1} F_{2r} = F_{2k+2} + \\sum_{r=1}^k F_{2r}\\n= F_{2k+2} + F_{2k+1} - 1\\n= F_{2k+3} - 1\\n= F_{2(k+1)+1} - 1,\\nwhich completes the induction step. We are done.\\n(iii) We shall proceed to prove by induction on n that we have \\sum_{r=1}^n F_{2r-1} = F_{2n} for all n \\geq 1, with the base case n = 1 being trivial. Suppose that the statement holds for n = k, where k \\geq 1. By induction",
    "_source_page": 435
  },
  {
    "45": "(i) We shall prove by induction on $n$ that we have $F_{m+n} = F_m F_{n-1} + F_{m+1} F_n$ for all $m \\ge 1$ and $n \\ge 2$, with the base case $n = 2$ being trivial. Suppose that the statement holds for $n = k$, where $k \\ge 2$. By induction hypothesis, we have $F_{m+k+1} = F_{m+1+k} = F_{m+1} F_{k-1} + F_{m+2} F_k$. This implies that we have\\n$F_{m+k+1} = F_{m+1} F_{k-1} + F_{m+2} F_k$\\n$= F_{m+1}(F_{k+1} - F_k) + (F_{m+1} + F_m) F_k$\\n$= F_m F_k + F_{m+1} F_{k+1}$,\\nand this completes the induction step. We are done.\\n(ii) We shall prove by induction on $n$ that we have\\n$\\begin{pmatrix} 1 & 1 \\\\ 1 & 0 \\end{pmatrix}^n = \\begin{pmatrix} F_{n+1} & F_n \\\\ F_n & F_{n-1} \\end{pmatrix}$\\nfor all $n \\ge 2$, with the base case $n = 2$ being trivial. Suppose that the statement holds for $n = k$, where $k \\ge 2$. By induction hypothesis, we",
    "_source_page": 436
  },
  {
    "46": "(i) The identity follows by setting m = n - 1 in Problem 6.45(i).",
    "_source_page": 437
  },
  {
    "47": "(i) The identity evidently holds for $n = 1$, so let us assume that $n \\ge 2$. We have\n$$\\sum_{r=1}^n F_r^2 = 1 + \\sum_{r=2}^n F_r^2$$\n$$= 1 + \\sum_{r=2}^n F_r(F_{r+1} - F_{r-1})$$\n$$= 1 + \\sum_{r=2}^n F_r F_{r+1} - \\sum_{r=2}^n F_r F_{r-1}$$\n$$= 1 + \\sum_{r=2}^n F_r F_{r+1} - \\sum_{r=1}^{n-1} F_{r+1} F_r$$\n$$= 1 + F_n F_{n+1} - F_1 F_2$$\n$$= F_n F_{n+1}.$$\n(ii) We have",
    "_source_page": 438
  },
  {
    "48": "We shall prove by induction on $n$ that we have $F_{2n+1} = \\sum_{r=0}^{n} \\binom{2n-r}{r}$ and $F_{2n+2} = \\sum_{r=0}^{n} \\binom{2n+1-r}{r}$ for all $n \\ge 0$, with the base case $n = 0$ being trivial. Suppose that the statement holds for $n = k$, where $k \\ge 0$. By induction hypothesis, we have $F_{2k+1} = \\sum_{r=0}^{k} \\binom{2k-r}{r}$ and $F_{2k+2} = \\sum_{r=0}^{k} \\binom{2k+1-r}{r}$. We have",
    "_source_page": 439
  },
  {
    "49": "We shall prove by induction on $p$ that we have $F_{m+2n} = \\sum_{r=0}^{p} \\binom{p}{r} F_{m+2n-p-r}$ for all $p = 0, \\dots, n$, with the base case $p = 0$ being trivial. Suppose that the statement holds for $p = k$, where $0 \\le k < n$. By induction hypothesis, we have $F_{m+2n} = \\sum_{r=0}^{k} \\binom{k}{r} F_{m+2n-k-r}$, which implies that we have",
    "_source_page": 440
  },
  {
    "50": "Let $a = \\frac{\\sqrt{5}+1}{2}$. Then it follows that we have $F_n = \\frac{a^n}{\\sqrt{5}}(1 + (-1)^{n+1}a^{-2n})$, which implies that we have\\n\\n\\frac{F_n}{F_{n+1}} = \\frac{1 + (-1)^{n+1}a^{-2n}}{a(1 + (-1)^{n+2}a^{-2n-2})}.\\n\\nAs $0 < a^{-1} < 1$, it follows that we have $\\lim_{n \\to \\infty} a^{-2n} = 0 = \\lim_{n \\to \\infty} a^{-2n-2}$. Thus, we have\\n\\n\\lim_{n \\to \\infty} \\frac{F_n}{F_{n+1}} = \\lim_{n \\to \\infty} \\frac{1 + (-1)^{n+1}a^{-2n}}{a(1 + (-1)^{n+2}a^{-2n-2})} = \\frac{1}{a} = \\frac{\\sqrt{5}-1}{2}.",
    "51": "For each $n \\in \\mathbb{N}$, we let $b_n$ and $c_n$ denote the number of adult and baby rabbit pairs at the end of the $n$-th month respectively. Let $a_n = b_n + c_n$ denote the total number of rabbits at the end of the $n$-th month. Then the number of adult rabbit pairs at the end of the $n$-th month is equal to the total number of rabbit pairs at the end of the $(n - 1)$-th month and the number of baby rabbit pairs at the end of the $n$-th month is equal to the number of adult rabbit pairs at the end of the $(n - 1)$-th month, so we have",
    "_source_page": 441
  },
  {
    "52": "Let $a_0 = 1$ and $a_n = \\underbrace{\\left. \\begin{vmatrix} 1 & -1 & 0 & 0 & \\cdots & 0 & 0 \\\\ 1 & 1 & -1 & 0 & \\cdots & 0 & 0 \\\\ 0 & 1 & 1 & -1 & \\cdots & 0 & 0 \\\\ \\vdots & \\vdots & \\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\\\ 0 & 0 & 0 & 0 & \\cdots & 1 & -1 \\\\ 0 & 0 & 0 & 0 & \\cdots & 1 & 1 \\end{vmatrix} \\right\\} n}_n$ for all $n \\in \\mathbf{N}$. We shall prove by induction on $n$ that we have $F_{n+1} = a_n$ for all $n \\ge 0$, with the base cases $n = 0$ and $n = 1$ being trivial. Suppose that the statement holds for all $n \\le k$, where $k \\ge 1$. By induction hypothesis, we have $F_{k+1} = a_k$ and $F_k = a_{k-1}$. By applying the cofactor expansion of $a_{k+1}$ along the first row, it follows that we have $a_{k+1} = a_k + b_k$, where $b_k = \\underbrace{\\left. \\begin{vmatrix} 1 & -1 & 0 & 0 & \\cdots & 0 & 0 \\\\ 0 & 1 & -1 & 0 & \\cdots & 0 & 0 \\\\ 0 & 1 & 1 & -1 & \\cdots & 0 & 0 \\\\ \\vdots & \\vdots & \\vdots & \\vdots & \\ddots & \\vdots & \\vdots \\\\ 0 & 0 & 0 & 0 & \\cdots & 1 & -1 \\\\ 0 & 0 & 0 & 0 & \\cdots & 1 & 1 \\end{vmatrix} \\right\\} k}_k$. Next, by applying the cofactor expansion of $b_k$ along the first column, we have $b_k = a_{k-1}$. It follows from the above equation that we have $a_{k+1} = a_k + a_{k-1} = F_{k+1} + F_k = F_{k+2}$. This completes the induction step, and we are done.",
    "53": "If the man's last step was to climb one step on the staircase, then there were $a_{n-1}$ ways in which he could have climbed the $(n - 1)$-step staircase where he covers one step or two steps at each step. Otherwise, if the man's last step was to climb two steps on the staircase, then there were $a_{n-2}$ ways in which he could have climbed the $(n - 2)$-step staircase where he covers one step or two steps at each step. By (AP), we must have $a_n = a_{n-1} + a_{n-2}$, with $a_1 = 1, a_2 = 2$.",
    "_source_page": 442
  },
  {
    "54": "For each $n \\in \\mathbb{N}$, we let $a_n$ denote the number of binary sequences of length $n$ in which no two 0's are adjacent, and let $d = d_1 d_2 \\dots d_n$ be a binary sequence of length $n$ in which no two 0's are adjacent. If $d_1 = 1$, then $d_2 d_3 \\dots d_n$ is a binary sequence of length $n - 1$ in which no two 0's are adjacent, and there are no restrictions on $d_2$. Since there are $a_{n-1}$ binary sequences of length $n - 1$ in which no two 0's are adjacent, it follows that there are $a_{n-1}$ binary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 = 1$.\\nElse, if $d_1 = 0$, then $d_2 d_3 \\dots d_n$ is a binary sequence of length $n - 1$ in which no two 0's are adjacent, and $d_2 = 1$. A similar argument as in Case 1 would now show that there are $a_{n-2}$ binary sequences $d_1 d_2 \\dots d_n$ of length $n$ in which no two 0's are adjacent and $d_1 = 0$. By (AP), we must have $a_n = a_{n-1} + a_{n-2}$. Since $a_1 = 2 = F_3$ and $a_2 = 3 = F_4$, we must have $a_n = F_{n+2}$ for all $n \\ge 1$.",
    "55": "Let $n = m_1 + \\dots + m_k$ where $m_i > 1$ for all $i = 1, \\dots, k$. If $m_1 = 2$, then we have $n - 2 = m_2 + \\dots + m_k$ with $m_i > 1$ for all $i = 2, \\dots, k$, so there are $a_{n-2}$ ways to express $n$ as a sum of positive integers greater than 1 with the first number equal to 2. Else, if $m_1 > 2$, then we have $n - 1 = (m_1 - 1) + m_2 + \\dots + m_k$ with $m_1 - 1, m_i > 1$ for all $i = 2, \\dots, k$. Thus, there are $a_{n-1}$ ways to express $n$ as a sum of positive integers greater than 1 with the first number greater than 2. By (AP), we must have $a_n = a_{n-1} + a_{n-2}$. Since $a_2 = 1 = F_1$ and $a_3 = 1 = F_2$, we must have $a_n = F_{n-1}$.",
    "56": "For each $n \\in \\mathbb{N}$, we let $a_n$ denote the number of subsets of $\\{1, \\dots, n\\}$ that contain no consecutive integers, and let $A$ be a subset of $\\{1, \\dots, n\\}$ that contains no consecutive integers. If $n \\in A$, then $n - 1 \\notin A$, so $A \\setminus \\{n\\}$ is a subset of $\\{1, \\dots, n - 2\\}$ that contains no consecutive integers. Consequently, there are $a_{n-2}$ such subsets $A$. Else, if $n \\notin A$, then $A$ is a subset of $\\{1, \\dots, n - 1\\}$ that contains no consecutive integers, so there are $a_{n-1}$ such subsets $A$. By (AP), we must have $a_n = a_{n-1} + a_{n-2}$. Since $a_1 = 2 = F_3$ and $a_2 = 3 = F_4$, we must have $a_n = F_{n+2}$.",
    "57": "We have\\n$$\\sum_{j=0}^n \\frac{\\binom{n}{2j-n-1}}{5^j} = \\frac{1}{5^n} \\sum_{j=0}^n \\binom{n}{2j-n-1} 5^{n-j}$$",
    "_source_page": 443
  },
  {
    "58": "For each positive integer $n$, we let $A_n$ denote the set of admissible ordered pairs of subsets of $\\{1, \\dots, n\\}$, and we let $a_n = |A_n|$. We seek to find a recurrence relation for $a_n$. To this end, we shall pick any $(S, T) \\in A_n$, and consider the following cases:\nCase 1: $n \\notin S$ and $n \\notin T$. Then $(S, T)$ is an admissible ordered pair of subsets of $\\{1, \\dots, n - 1\\}$, and there are $a_{n-1}$ such pairs by definition.\nCase 2: $n \\in S$. We let $T' = \\{t - 1 \\mid t \\in T\\}$. We claim that $(S \\setminus \\{n\\}, T')$ is an admissible ordered pair of subsets of $\\{1, \\dots, n - 1\\}$. Indeed, since $(S, T)$ is admissible and $n \\in S$, it follows that we have $t > |S| \\ge 1$ for all $t \\in T$, so $t - 1 \\in \\{1, \\dots, n - 1\\}$ for all $t \\in T$. Now, we see that for all $s \\in S \\setminus \\{n\\}$, we have $s > |T| = |T'|$, and for all $t \\in T$, we have $t - 1 > |S| - 1 = |S \\setminus \\{n\\}|$, which completes the proof of the claim. Now, by letting $L_n$ denote the set of admissible ordered pairs $(X, Y)$ of subsets of $\\{1, \\dots, n\\}$ with $n \\in X$, it is easy to see that the map $L_n \\to A_{n-1}$, defined by $(X, Y) \\mapsto (X \\setminus \\{n\\}, Y')$, where $Y' = \\{y - 1 \\mid y \\in Y\\}$, is a bijection, so there are $|L_n| = |A_{n-1}| = a_{n-1}$ such pairs for this case.\nCase 3: $n \\in T$. A similar argument as in Case 2 shows that there are $a_{n-1}$ such pairs in this case.\nCase 4: $n \\in S \\cap T$. Let $S'' = \\{s - 1 \\mid s \\in S \\setminus \\{n\\}\\}$ and $T'' = \\{t - 1 \\mid t \\in T \\setminus \\{n\\}\\}$. We claim that $(S'', T'')$ is an admissible ordered pair of subsets of $\\{1, \\dots, n - 2\\}$. Indeed, since $(S, T)$ is admissible and $n \\in S$, it follows that we",
    "_source_page": 444
  },
  {
    "_source_page": 445
  },
  {
    "59": "Let us take a natural number $N$ that satisfies the given conditions. Given any $j \\in \\{1, 3, 4\\}$, we see that if the first digit of $N$ is $j$, then there are $a_{n-j}$ ways to form the remaining digits of $N$, so by (AP), we have $a_n = a_{n-1} + a_{n-3} + a_{n-4}$. The corresponding characteristic equation is given by $x^4 - x^3 - x - 1 = 0$. As $x^4 - x^3 - x - 1 = (x^2 + 1)(x^2 - x - 1)$, we see that the characteristic roots are $\\alpha = \\frac{1+\\sqrt{5}}{2}, -\\alpha^{-1} = \\frac{1-\\sqrt{5}}{2}$ and $\\pm i$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A\\alpha^n + B(-1)^n\\alpha^{-n} + C \\cos \\frac{n\\pi}{2} + D \\sin \\frac{n\\pi}{2}$, where $A, B, C$ and $D$ are constants to be determined. The initial conditions $a_1 = 1, a_2 = 1, a_3 = 2$ and $a_4 = 4$ imply that\\n\\n$A\\alpha - B\\alpha^{-1} + D = 1,$\\n$A\\alpha^2 + B\\alpha^{-2} - C = 1,$\\n$A\\alpha^3 - B\\alpha^{-3} - D = 2, \\text{ and}$\\n$A\\alpha^4 + B\\alpha^{-4} + C = 4.$\\n\\nSolving the system first for $A, B, C$ and $D$ gives us $A = \\frac{3\\alpha+2}{(1+\\alpha^2)^2}$ and $B = \\frac{\\alpha^3(2\\alpha-3)}{(1+\\alpha^2)^2}$. Now, we observe that $\\alpha^2 = \\alpha + 1$, which implies that\\n\\n$3\\alpha + 2 = \\alpha + 1 + 2\\alpha + 1 = \\alpha^2 + 2\\alpha + 1 = (\\alpha + 1)^2 = \\alpha^4,$\\n$\\alpha^3(2\\alpha - 3) = 2\\alpha^4 - 3\\alpha^3 = 2(\\alpha + 1)^2 - 3\\alpha(\\alpha + 1) = -\\alpha^2 + \\alpha + 2 = 1,$\\n$(1 + \\alpha^2)^2 = (\\alpha + 2)^2 = \\alpha^2 + 4\\alpha + 4 = 5\\alpha^2.$\\n\\nThus, we have $A = \\frac{1}{5}\\alpha^2$ and $B = \\frac{1}{5}\\alpha^{-2}$. Consequently, we have $C = \\frac{2}{5}$ and $D = \\frac{1}{5}$. Consequently, we have\\n\\n$a_n = \\frac{1}{5} \\left[ \\alpha^{n+2} + (-1)^n\\alpha^{-n-2} + 2 \\cos \\frac{n\\pi}{2} + \\sin \\frac{n\\pi}{2} \\right]$\\n\\nfor all $n \\ge 1$. In particular, we have",
    "_source_page": 446
  },
  {
    "60": "We note that for each $k = 1, \\dots, n - 1$, we can write $x_1 \\cdots x_n$ as the product of $x_1 \\cdots x_k$ and $x_{k+1} \\cdots x_n$. We see that there are $a_k$ ways to place parentheses to indicate the order of multiplication of $x_1 x_2 \\cdots x_k$, while there are $a_{n-k}$ ways to place parentheses to indicate the order of multiplication of $x_{k+1} x_{k+2} \\cdots x_n$. By (MP), there are $a_k a_{n-k}$ ways to place parentheses to indicate the multiplication of $x_1 x_2 \\cdots x_n$, such that $x_1 x_2 \\cdots x_n$ is written as the product of $x_1 \\cdots x_k$ and $x_{k+1} \\cdots x_n$. As $k \\in \\{1, \\dots, n - 1\\}$, it follows from (AP) that we have\\n\\n$a_n = a_1 a_{n-1} + a_2 a_{n-2} + \\cdots + a_{n-1} a_1$,\\n\\nfor all $n \\ge 2$, where $a_1 = 1$.",
    "61": "(i) For $n = 1$, the only sequence that satisfies conditions (1) and (2) is $(1, -1)$, so we have $b_1 = 1$. For $n = 2$, the sequences that satisfy conditions (1) and (2) are $(1, 1, -1, -1)$ and $(1, -1, 1, -1)$, so we have $b_2 = 2$. For $n = 3$, the sequences that satisfy conditions (1) and (2) are $(1, 1, 1, -1, -1, -1), (1, 1, -1, 1, -1, -1), (1, 1, -1, -1, 1, -1), (1, -1, 1, 1, -1, -1)$ and $(1, -1, 1, -1, 1, -1)$, so we have $b_3 = 5.\\n(ii) Let $A$ denote the set of all parenthesized expressions of $x_1 x_2 \\cdots x_{n+1}$, and $B$ denote the set of all sequences of $2n$ terms consisting of $1$'s and $-1$'s that satisfies conditions (1) and (2). We shall seek to establish a bijection between $A$ and $B$. To this end, we first observe that each parenthesized expression of $x_1 x_2 \\cdots x_{n+1}$ contain exactly $n$ pairs of parentheses, and the number of left parentheses to the right of $x_i$ is at",
    "_source_page": 447
  },
  {
    "62": "Let us label the $2n$ points on the circumference of the circle by $P_1, \\dots, P_{2n}$ in order. Let us pick any pairing of the $2n$ points by $n$ nonintersecting chords. If $P_1$ is paired with the point $P_k$, where $2 \\le k \\le 2n$, then the chord connecting $P_1$ and $P_k$ divides the circumference of the circle into two arcs consisting of $k - 2$ points, namely $P_2, P_3, \\dots, P_{k-1}$, and $2n - k$ points, namely $P_{k+1}, \\dots, P_{2n}$ respectively. As the chords must be nonintersecting, it follows that for any $i \\in \\{2, \\dots, k - 1\\}$, the point $P_i$ must be paired with the point $P_j$, where $j \\in \\{2, \\dots, k - 1\\}$. This implies that $k$ must be even, that is, $k = 2m$, where $m = 1, \\dots, n$. When $k = 2m$, the points $P_2, \\dots, P_{2m-1}$ can be paired off with $m - 1$ nonintersecting chords in $a_{m-1}$ ways, and the points $P_{2m+1}, \\dots, P_{2n}$ can be paired off with $n-m$ nonintersecting chords in $a_{n-m}$ ways. Thus, by (MP), there are $a_{m-1} a_{n-m}$ ways to pair of the $2n$ points by $n$ nonintersecting chords, such that $P_1$ is paired with the point $P_{2m}$. Since $m \\in \\{1, \\dots, n\\}$, it follows from (AP) that we have\\n$$a_n = a_0 a_{n-1} + a_1 a_{n-2} + \\dots + a_{n-1} a_0,$$\\nfor all $n \\ge 1$, where $a_0 = 1$.",
    "63": "We note that a term in $q_n$ must be of the form $x_n^{a_1} x_{n-1}^{a_2} \\dots x_1^{a_n}$, where $a_i \\ge 0$ for all $i = 1, \\dots, k, \\sum_{i=1}^k a_i \\le k$ for all $k = 1, \\dots, n - 1$ and $\\sum_{i=1}^n a_i = n$. Let $A_n$ denote the set of $n$-tuples $(a_1, \\dots, a_n)$ of non-negative integers, such that",
    "_source_page": 448
  },
  {
    "_source_page": 449
  },
  {
    "64": "Let $A$ denote the set of arrangements $x$ of the $2n$ integers $a_1, \\dots, a_n, b_1, \\dots, b_n$ that satisfy the given conditions, and let $B$ denote the set of shortest paths from $(0, 0)$ to $(n, n)$ that do not go above the line $y = x$, or equivalently, the set of shortest routes from $(0, 0)$ to $(n, n)$ that do not meet the line $y = x + 1$. We seek to establish a bijection between $B_n$ and $C_n$. To this end, we pick any arrangement $x = x_1 x_2 \\dots x_{2n} \\in A$, and construct a shortest route $R(x) \\in C_n$ as follows: we let $(p_0, q_0) = (0, 0)$, and for $i = 1, \\dots, 2n$, we inductively define $(p_i, q_i)$ as follows:\n\n$(p_i, q_i) = \\begin{cases} (p_{i-1} + 1, q_{i-1}) & \\text{if } x_i = a_j \\text{ for some } j \\in \\{1, 2, \\dots, n\\}, \\\\ (p_{i-1}, q_{i-1} + 1) & \\text{if } x_i = b_j \\text{ for some } j \\in \\{1, 2, \\dots, n\\}. \\end{cases}$\n\nWe then define $R(x)$ to be the path obtained by joining $(p_{i-1}, q_{i-1})$ to $(p_i, q_i)$ for all $i = 1, 2, \\dots, 2n$. It is easy to see from the definitions of $A$ and $B$ that the map $A \\to B$, defined by $x \\mapsto R(x)$, is a well-defined bijection, so it follows that there exists a bijection between the set of arrangements of the $2n$ integers $a_1, \\dots, a_n, b_1, \\dots, b_n$ that satisfy the given conditions and the set of shortest routes from $(0, 0)$ to $(n, n)$ that do not meet the line $y = x + 1$. By our solution for Problem 6.63, we have\n\n$|A| = |B| = \\frac{1}{2n+1} \\binom{2n+1}{n} = \\frac{1}{n+1} \\binom{2n}{n},$\n\nwhere the last equality follows from (2.1.1) and (2.1.2).",
    "65": "We note that any arrangement of the ballots that satisfies the conditions could be represented by a binary sequence $a_1 \\dots a_{m+n}$ consisting of $m$ 1's and $n$ 0's, such that the number of 1's in $a_1 \\dots a_k$ is more than the number of 0's in $a_1 \\dots a_k$ for all $k = 1, 2, \\dots, m + n$. In turn, it is easy to see that any such binary sequence can be represented by a shortest route from $(1, 0)$ to $(m, n)$ that does not meet the line $y = x$. Let $s_n$ denote the number of shortest routes from $(1, 0)$ to $(m, n)$, and $t_n$ denote the number of shortest routes from $(1, 0)$ to $(m, n)$ that meets the line $y = x$. Then we have $s_n = \\binom{m+n-1}{m-1}$. Next, by (RP), it follows that $t_n$ is equal to the number of shortest routes from $(0, 1)$ to $(m, n)$, which is then equal to $\\binom{m+n-1}{m}$. By (CP), it follows that the number of arrangements of the ballots that satisfy the conditions is equal to",
    "_source_page": 450
  },
  {
    "66": "(i) For convenience, we shall represent all mappings $f$ that satisfy the given conditions by an $n$-tuple $(f(1), \\dots, f(n))$. For $n = 1$, the only such 1-tuple is (1), so we have $a_1 = 1$. For $n = 2$, the only such 2-tuples are (1, 2), (2, 1) and (1, 1), so we have $a_2 = 3$. For $n = 3$, the only such 3-tuples are (1, 2, 3), (1, 3, 2), (2, 1, 3), (2, 3, 1), (3, 1, 2), (3, 2, 1), (1, 2, 2), (2, 1, 2), (2, 2, 1), (1, 1, 2), (1, 2, 1), (2, 1, 1) and (1, 1, 1), so we have $a_3 = 13$.\\n(ii) Let us pick any mapping $f$ that satisfies the given conditions, and let $k$ denote the number of $j$'s for which $f(j) = 1$. There are $\\binom{n}{k}$ ways to choose $k$ distinct numbers $a_1, \\dots, a_k$ out of $\\{1, \\dots, n\\}$ so that $f(a_i) = 1$ for all $i = 1, \\dots, k$, and there $a_{n-k}$ ways to assign a number in $\\{2, \\dots, n - k + 1\\}$ to each $j$ for each $j \\in \\{1, \\dots, n\\} \\setminus \\{a_1, \\dots, a_k\\}$, so that the resultant mapping $f$ satisfies the given conditions. By (MP), there are $\\binom{n}{k} a_{n-k}$ such mappings $f$ such that the number of $j$'s for which $f(j) = 1$ is equal to $k$. As $k \\in \\{1, 2, \\dots, n\\}$, it follows from (AP) that we have $a_n = \\sum_{k=1}^n \\binom{n}{k} a_{n-k}$ for all $n \\ge 1$, where $a_0 = 1$.\\n(iii) We first observe from part (ii) that we have\\n$2a_n = a_n + \\sum_{k=1}^n \\binom{n}{k} a_{n-k} = \\sum_{k=0}^n \\binom{n}{n-k} a_{n-k} = \\sum_{j=0}^n \\binom{n}{j} a_j$\\nfor all $n \\ge 1$, where the last equality follows by setting $j = n - k$. Thus, we have",
    "_source_page": 451
  },
  {
    "67": "(i) Let $n > 1$, and let us pick a $(n + 1) \\times (n + 1)$ matrix $A$ that satisfies the given conditions. The given conditions immediately imply that $a_{i,j} = 0$ or $1$ for all $i, j = 1, \\dots, n$. Due to the symmetry and $\\sum_{i=1}^{n+1} a_{i,j} = 1$ condition, each row and column has precisely one entry which is a 1",
    "_source_page": 452
  },
  {
    "68": "By equation (2), we have $(n + 1)^2 a_{n+1} - n^2 a_n = a_{n+1}$, which simplifies to the equation $a_{n+1} = \\frac{n}{n+2} a_n$ for all $n \\ge 1$. This implies that for all $n \\ge 2$, we have",
    "_source_page": 453
  },
  {
    "69": "Let n \\ge 1. We first observe that we can write each positive integer m < 2^n in the form m = 2^\\ell \\cdot (2k - 1), where \\ell, k$ are integers satisfying 0 \\le \\ell \\le n - 1 and 1 \\le k \\le 2^{n-1-\\ell}. As the greatest odd divisor of 2^n is equal to 1, it follows that we have a_n = 1 + \\sum_{\\ell=0}^{n-1} \\sum_{k=1}^{2^{n-1-\\ell}} (2k - 1). This implies that for all n > 1, we have \\\\ a_n = 1 + \\sum_{\\ell=0}^{n-1} \\sum_{k=1}^{2^{n-1-\\ell}} (2k - 1) \\\\ = 1 + \\sum_{\\ell=1}^{n-1} \\sum_{k=1}^{2^{n-1-\\ell}} (2k - 1) + \\sum_{k=1}^{2^{n-1}} (2k - 1) \\\\ = 1 + \\sum_{j=0}^{n-2} \\sum_{k=1}^{2^{n-2-j}} (2k - 1) + (2^{n-1})^2 \\\\ = a_{n-1} + 4^{n-1}. \\\\ We shall now proceed to solve for a_n with the initial condition a_0 = 1. It is easy to see that a_n^{(h)} = A, where A is a constant. \\\\ Next, let us find a_n^{(p)}. Since f(n) = 4^{n-1} is an exponential function, and 4 is not a characteristic root, we let a_n^{(p)} = B4^n, where B is a constant. Since a_n^{(p)} satisfies the equation a_n - a_{n-1} = 4^{n-1}, we must have \\\\ B4^n - B4^{n-1} = 4^{n-1}. \\\\ By equating the coefficients of 4^n, we get B = \\frac{1}{3}, and hence we have a_n^{(p)} = \\frac{1}{3} \\cdot 4^n",
    "_source_page": 454
  },
  {
    "70": "We shall prove by induction that we have $d_n = (-1)^{n-1}(n - 1)2^{n-2}$ for all $n \\ge 1$, with the base cases $n = 1$ and $n = 2$ being trivial. Suppose that the statement holds for $n = k$, where $k \\ge 2$. By induction hypothesis, we have $d_k = (-1)^{k-1}(k - 1)2^{k-2}$. Let $A$ be the $(k + 1) \\times (k + 1)$ matrix with entries $a_{i,j} = |i - j|$ for all $i, j = 1, \\dots, k + 1$, and let us denote the $i$-th column of $A$ by $A_i$ for all $i = 1, \\dots, k + 1$. Let $B$ be the $(k + 1) \\times (k + 1)$ matrix whose $i$-th column is $A_i$ for $i = 1, \\dots, k$, and whose $(k + 1)$-th column is $\\frac{1}{k-1}(-A_1 - kA_k + (k - 1)A_{k+1})$. Then we must have $d_{k+1} = \\det A = \\det B$. By denoting the entries of $B$ by $b_{i,j}$, it follows that for all $i, j = 1, \\dots, k$, we have $b_{i,j} = a_{i,j}$, and $b_{k+1,j} = a_{k+1,j}$ for all $j = 1, 2, \\dots, k$. For $i = 1, 2, \\dots, k$, we have\n\n$b_{i,k+1} = \\frac{1}{k-1}(-a_{i,1} - ka_{i,k} + (k - 1)a_{i,k+1})$\n$= \\frac{1}{k-1}(-(i - 1) - k(k - i) + (k - 1)(k + 1 - i))$\n$= 0.$\n\nAlso, we have\n\n$b_{k+1,k+1} = \\frac{1}{k-1}(-a_{k+1,1} - ka_{k+1,k} + (k - 1)a_{k+1,k+1})$\n$= \\frac{1}{k-1}(-k - k)$\n$= -\\frac{2k}{k-1}.$\n\nBy letting $C$ be the matrix obtained by removing the $(k + 1)$-th rows and columns of $B$, it follows from the definition of $B$ that we have $\\det C = d_k = (-1)^{k-1}(k - 1)2^{k-2}$ by the induction hypothesis. Now, by applying the cofactor expansion of $B$ along the $(k + 1)$-th column, it follows that we have $d_{k+1} = \\det B = -\\frac{2k}{k-1} \\det C = (-1)^k k 2^{k-1}$. This completes the induction step, and we are done.",
    "71": "We first observe from the recurrence relation that we have $a_n - a_{n-1} =$",
    "_source_page": 455
  },
  {
    "72": "Let b_n = \\sqrt{1 + 24a_n} for all n \\ge 0. Then it follows that we have a_n = \\frac{b_n^2 - 1}{24} for all n \\ge 0. By substituting a_n = \\frac{b_n^2 - 1}{24} into the recurrence relation, we have \\frac{b_n^2 - 1}{24} = \\frac{1}{16} (1 + \\frac{b_{n-1}^2 - 1}{6} + b_{n-1}), which simplifies to (2b_n + b_{n-1} + 3)(2b_n - b_{n-1} - 3) = 0 for all n \\ge 1. As we have b_n \\ge 0 for all n \\ge 0, we must have 2b_n - b_{n-1} - 3 = 0, or equivalently, b_n = \\frac{1}{2}b_{n-1} + \\frac{3}{2} for all n \\ge 1.\nNow, we see that the characteristic equation of b_n - \\frac{1}{2}b_{n-1} = 0 is x - \\frac{1}{2} = 0,",
    "_source_page": 456
  },
  {
    "73": "Let us first prove by induction on $n$ that we have $a_n = F_{2n}$ for all $n \\ge 1$. We first observe that we have\n$$a_1 = \\frac{3}{2}a_0 + \\frac{1}{2}\\sqrt{5a_0^2 + 4} = 1 = F_2,$$\nso the base case $n = 1$ holds. Next, let us suppose that the case $n = k$ holds, where $k \\ge 1$. By induction hypothesis, we have $a_k = F_{2k}$. We first observe that\n$$\\begin{aligned} 5a_k^2 + 4 &= 5F_{2k}^2 + 4 \\\\ &= (F_{2k+1} - F_{2k-1})^2 + 4(F_{2k+1}F_{2k-1} - (-1)^{2k}) + 4 \\\\ &\\quad (\\text{by Problem 6.45(iii)}) \\\\ &= F_{2k+1}^2 - 2F_{2k+1}F_{2k-1} + F_{2k-1}^2 + 4F_{2k+1}F_{2k-1} - 4 + 4 \\\\ &= F_{2k+1}^2 + 2F_{2k+1}F_{2k-1} + F_{2k-1}^2 \\\\ &= (F_{2k+1} + F_{2k-1})^2. \\end{aligned}$$\nThis implies that we have",
    "_source_page": 457
  },
  {
    "74": "Let $A(x)$ denote the generating function for the sequence $(a_n)$. Then it follows that we have $na_n x^{n-3} = (n-2)a_{n-1}x^{n-3} - (n+1)x^{n-3}$ for all $n \\ge 1$. In particular, since $(1-x)^{-2} = \\sum_{n=0}^{\\infty} (n+1)x^n$, it follows that we have",
    "_source_page": 458
  },
  {
    "_source_page": 459
  },
  {
    "75": "Let us first prove by induction on $n$ that we have $a_{2n} = 0$ for all $n \\ge 0$, with the base case $n = 0$ being trivial. Suppose that the statement holds for $n = k$, where $k \\ge 0$. By induction hypothesis, we have $a_{2k} = 0$. This gives us $a_{2k+2} = \\frac{4k^2}{(2k+2)(2k+1)}a_{2k} = 0$, which completes the induction step. Thus, we have $a_{2n} = 0$ for all $n \\ge 0$ as claimed. Next, for all $n \\ge 1$, we have $a_{2n+1} = \\frac{(2n-1)^2}{2n(2n+1)} a_{2n-1}$. This implies that for all $n \\ge 1$, we have\n\n$a_{2n+1} = \\frac{(2n-1)^2}{2n(2n+1)}a_{2n-1}$\n$= \\frac{(2n-1)^2}{2n(2n+1)} \\frac{(2n-3)^2}{(2n-2)(2n-1)}a_{2n-3}$\n$= \\dots$\n$= \\frac{(2n-1)^2}{2n(2n+1)} \\frac{(2n-3)^2}{(2n-2)(2n-1)} \\dots \\frac{1^2}{2 \\cdot 3}a_1$\n$= \\frac{(2n-1)^2(2n-3)^2 \\dots 1^2}{(2n+1)!}$\n$= \\frac{1}{(2n+1)!} \\cdot \\left[ \\frac{2n(2n-1)(2n-2) \\dots 1}{2n(2n-2)(2n-4) \\dots 2} \\right]^2$\n$= \\frac{1}{(2n+1)!} \\cdot \\left[ \\frac{(2n)!}{2^n \\cdot n!} \\right]^2$\n$= \\frac{1}{2n+1} \\cdot \\frac{(2n)!}{2^{2n}(n!)^2}$\n$= \\frac{1}{2^{2n}(2n+1)} \\binom{2n}{n}$.\n\nAs $a_1 = 1 = \\frac{1}{2^{2 \\cdot 0}(2 \\cdot 0 + 1)} \\binom{2 \\cdot 0}{0}$, it follows that we have $a_{2n+1} = \\frac{1}{2^{2n}(2n+1)} \\binom{2n}{n}$ for all $n \\ge 0$.",
    "76": "By using the definitions of $f(x)$ and $g(x)$, we can write the recurrence relation as $3(a_n - a_{n-1})(a_{n-1} - 1)^2 + (a_{n-1} - 1)^3 = 0$, and the equation then simplifies to $(a_{n-1} - 1)^2(3a_n - 2a_{n-1} - 1) = 0$ for all $n \\ge 1$. We shall proceed by induction on $n$ that we have $a_n > 1$ for all $n \\ge 0$, with the base case $n = 0$ being clear. Suppose that the assertion holds for some $n = k$, where $k \\ge 0$. By induction hypothesis, we have $a_k > 1$. As we have $(a_k - 1)^2(3a_{k+1} - 2a_k - 1) = 0$ and $(a_k - 1)^2 \\ne 0$, we must have $3a_{k+1} - 2a_k - 1 =$",
    "_source_page": 460
  },
  {
    "77": "Let $b_n = n(n - 1)a_n$ for all $n \\ge 0$. Then it follows from the given recurrence relation that we have $b_n = b_{n-1} - \\frac{1}{n-2}b_{n-2}$, or equivalently, $(n - 2)b_n = (n - 2)b_{n-1} - b_{n-2}$ for all $n \\ge 2$. Let $B(x)$ denote the generating function for the sequence $(b_n)$. Then it follows that we have $(n - 2)b_nx^{n-3} = (n - 2)b_{n-1}x^{n-3} - b_{n-2}x^{n-3}$ for all $n \\ge 2$. In particular, since $b_0 = b_1 = 0$, we deduce that $(x^{-2}B)' = (x^{-1}B)' - x^{-1}B$, which would then give us $-2x^{-3}B + x^{-2}B' = -x^{-2}B + x^{-1}B' - x^{-1}B$, which subsequently simplifies to $\\frac{B'}{B} = 1 + \\frac{2}{x}$. This implies that $\\log_e B = x + 2 \\log_e x + c$, or equivalently, $B = x^2e^{x+c}$, where $c$ is a constant to be determined. Now, the constant term of $x^{-2}B$ is both equal to $e^c$ and $b_2 = 2a_2 = a_0 = 1$. So we must have $e^c = 1$, and hence $B = x^2e^x$. As $e^x = \\sum_{n=0}^{\\infty} \\frac{x^n}{n!}$, it follows that we have $b_n = \\frac{1}{(n-2)!}$ for all $n \\ge 2$. Consequently, we have $a_n = \\frac{1}{n(n-1)}b_n = \\frac{1}{n!}$ for all $n \\ge 2$. Thus, we have\\n\\sum_{k=0}^{1992} \\frac{a_k}{a_{k+1}} = \\frac{a_0}{a_1} + \\frac{a_1}{a_2} + \\sum_{k=2}^{1992} (k+1)\\n= \\frac{1}{2} + 4 + \\sum_{k=1}^{1991} (k+2)\\n= \\frac{9}{2} + \\frac{1991 \\cdot 1992}{2} + 1991 \\cdot 2\\n= \\frac{9}{2} + 1991 \\cdot 998.",
    "_source_page": 461
  },
  {
    "78": "Let us take any representation of $n$ as a sum of 1's and 2's, taking order into account. If the first summand is equal to 1, then the remaining summands sum up to $n - 1$, and there are $a(n - 1)$ ways to form the remaining summands. Else, if the first summand is equal to 2, then the remaining summands sum up to $n - 2$, and there are $a(n - 2)$ ways to form the remaining summands. By (AP), we have $a(n) = a(n - 1) + a(n - 2)$ for all $n \\ge 3$. Since $a(1) = 1 = F_2$ and $a(2) = 2 = F_3$, we must have $a(n) = F_{n+1}$.\\nNext, for all $n \\ge 2$, let us take any representation of $n$ as a sum of integers greater than 1, taking order into account. Then either there is a single summand, namely $n$, or the first summand is equal to $k$, where $2 \\le k \\le n - 2$. In the latter case, there are $b(n - k)$ ways to form the remaining summands. By (AP), we must have $b(n) = 1 + \\sum_{k=2}^{n-2} b(n - k) = 1 + \\sum_{k=2}^{n-2} b(k)$. This implies that we have $b(n + 1) - b(n) = b(n - 1)$, or equivalently, $b(n + 1) = b(n) + b(n - 1)$ for all $n \\ge 3$. As $b(2) = 1 = F_1$ and $b(3) = 1 = F_2$, we must have $b(n) = F_{n-1}$. Consequently, we must have $a(n) = F_{n+1} = b(n + 2)$ as desired.",
    "79": "We first observe from (5.1.6) that we have\\n$$(2 - 1)^{-n} = 2^{-n} \\left(1 - \\frac{1}{2}\\right)^{-n} = 2^{-n} \\sum_{r=0}^{\\infty} \\binom{r + n - 1}{r} \\left(\\frac{1}{2}\\right)^r$$\\nfor all $n \\ge 1$. Let $a_n = 2^{-n} \\sum_{r=0}^{n-1} \\binom{r + n - 1}{r} \\left(\\frac{1}{2}\\right)^r$ for all $n \\ge 1$. Then for all $n > 1$, we have",
    "_source_page": 462
  },
  {
    "80": "It is easy to see that the function $f(x) = 2x$ satisfy the given conditions, so it only remains to show that $f(x) = 2x$ is the only function that satisfies the given conditions. Suppose on the contrary that we have $f(x_0) \\neq 2x_0$ for some $x_0 > 0$. Without loss of generality, we may assume that $f(x_0) > 2x_0$, or equivalently, $2x_0 - f(x_0) < 0$. Let $a_n = f^n(x_0)$ for all $n \\geq 0$. Then it follows that for all $n \\geq 2$, we have\n\n$a_n = f^2(f^{n-2}(x_0)) = 6f^{n-2}(x_0) - f(f^{n-2}(x_0)) = 6a_{n-2} - a_{n-1}.$\n\nThe characteristic equation of the recurrence relation $a_n = 6a_{n-2} - a_{n-1}$ is $x^2 + x - 6 = 0$, and its characteristic roots are $\\alpha_1 = 2$ and $\\alpha_2 = -3$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n =$",
    "_source_page": 463
  },
  {
    "81": "Let us first rewrite the recurrence relation as\n\n$T_n - nT_{n-1} = 4(T_{n-1} - (n-1)T_{n-2}) - 4(T_{n-2} - (n-2)T_{n-3})$.\n\nWe let $Q_n = T_{n+1} - (n+1)T_n$ for all $n \\ge 0$. Then the above recurrence relation could be expressed in terms of the $Q_n$'s as $Q_{n+2} = 4Q_{n+1} - 4Q_n$ for all $n \\ge 0$. The corresponding characteristic equation is $x^2 - 4x + 4 = 0$, and its characteristic root is $\\alpha = 2$ of multiplicity 2. Thus, by result (I), the general solution of the recurrence relation $Q_{n+2} = 4Q_{n+1} - 4Q_n$ is given by $Q_n = (A + Bn)2^n$, where $A$ and $B$ are constants to be determined. The initial conditions $Q_0 = T_1 - T_0 = 1$ and $Q_1 = T_2 - 2T_1 = 0$ imply that\n\n$A = 1$, and\n$2A + 2B = 0$.\n\nSolving the system for $A$ and $B$ gives us $A = 1$ and $B = -1$. Consequently,",
    "_source_page": 464
  },
  {
    "82": "Firstly, the characteristic equation for the recurrence relation $a_n = a_{n-1} + 2a_{n-2}$ is $x^2 - x - 2 = 0$, and its characteristic roots are $\\alpha_1 = 2$ and $\\alpha_2 = -1$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A \\cdot 2^n + B(-1)^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = a_1 = 1$ gives\\n\\n$A + B = 1, \\quad \\text{and}$\\n$2A - B = 1.$\\n\\nSolving the system for $A$ and $B$ gives us $A = \\frac{2}{3}$ and $B = \\frac{1}{3}$. So we have $a_n = \\frac{1}{3}(2^{n+1} + (-1)^n)$ for all $n \\ge 0$.\\nThe characteristic equation for the recurrence relation $b_n = 2b_{n-1} + 3b_{n-2}$ is $x^2 - 2x - 3 = 0$, and its characteristic roots are $\\alpha_1 = 3$ and $\\alpha_2 = -1$. Thus, by result (I), the general solution of the recurrence relation is given by $b_n = C \\cdot 3^n + D(-1)^n$, where $C$ and $D$ are constants to be determined. The initial conditions $b_0 = 1$ and $b_1 = 7$ imply that\\n\\n$C + D = 1, \\quad \\text{and}$\\n$3C - D = 7.$\\n\\nSolving the system for $C$ and $D$ gives us $C = 2$ and $D = -1$. So we have $b_n = 2 \\cdot 3^n + (-1)^{n+1}$ for all $n \\ge 0$.\\nNow, let us take a term $k$ that appears in both sequences. Then we have $k = a_m = b_n$ for some $m, n \\in \\mathbf{N}$, that is, we have $\\frac{1}{3}(2^m + (-1)^{m+1}) = 2 \\cdot 3^{n-1} + (-1)^n$, or equivalently, $2^m = 2 \\cdot 3^n + 3(-1)^n + (-1)^m$. If $m = 1, 2$, then we see that the only solution to the equation $2^m = 2 \\cdot 3^n + 3(-1)^n + (-1)^m$ is $n = 1$, which would then correspond to $k = 1$. Suppose on the contrary that there exists a positive integer solution $(m, n)$ to the equation $2^m = 2 \\cdot 3^n + 3(-1)^n$",
    "_source_page": 465
  },
  {
    "83": "For each $m \\ge 0$, we let $a_m = x_{2m+1}$ and $b_m = x_{2m+2}$. Then we have $a_0 = 2, b_0 = 3, a_m = a_{m-1} + b_{m-1}$ and $b_m = a_m + 2b_{m-1}$ for all $m \\ge 1$. This gives us $b_{m-1} = a_m - a_{m-1}$, and we substitute $b_{m-1} = a_m - a_{m-1}$ into the equation $b_m = a_m + 2b_{m-1}$ to get $a_{m+1} - a_m = a_m + 2a_m - 2a_{m-1}$, or equivalently, $a_{m+1} - 4a_m + 2a_{m-1} = 0$ for all $m \\ge 1$. The corresponding characteristic equation is given by $x^2 - 4x + 2 = 0$, and its characteristic roots are $\\alpha_1 = 2 + \\sqrt{2}$ and $\\alpha_2 = 2 - \\sqrt{2}$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A(2 + \\sqrt{2})^n + B(2 - \\sqrt{2})^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_0 = 2$ and $a_1 = a_0 + b_0 = 5$ imply that\\n\\n$A + B = 2, \\quad \\text{and}$\\n$A(2 + \\sqrt{2}) + B(2 - \\sqrt{2}) = 5.$\\n\\nSolving the system for $A$ and $B$ gives us $A = \\frac{4+\\sqrt{2}}{4}$ and $B = \\frac{4-\\sqrt{2}}{4}$. So we have\\n\\n$x_{2n+1} = a_n = \\frac{1}{4} \\left[ (4 + \\sqrt{2})(2 + \\sqrt{2})^n + (4 - \\sqrt{2})(2 - \\sqrt{2})^n \\right],$\\n\\nand hence we have\\n\\n$x_{2n} = a_n - a_{n-1} = \\frac{1}{4} \\left[ (1 + 2\\sqrt{2})(2 + \\sqrt{2})^n + (1 - 2\\sqrt{2})(2 - \\sqrt{2})^n \\right].$\\n\\nWe conclude that\\n\\n$x_n = \\begin{cases} \\frac{1}{4} \\left[ (4 + \\sqrt{2})(2 + \\sqrt{2})^{\\frac{n-1}{2}} + (4 - \\sqrt{2})(2 - \\sqrt{2})^{\\frac{n-1}{2}} \\right] & \\text{if } n \\text{ is odd,} \\\\ \\frac{1}{4} \\left[ (1 + 2\\sqrt{2})(2 + \\sqrt{2})^{\\frac{n}{2}} + (1 - 2\\sqrt{2})(2 - \\sqrt{2})^{\\frac{n}{2}} \\right] & \\text{if } n \\text{ is even.} \\end{cases}$",
    "_source_page": 466
  },
  {
    "84": "For each $n \\ge 1$, we let $a_n$ be the number of sequences $(x_1, \\dots, x_n)$ with $x_i \\in \\{a, b, c\\}$ for $i = 1, \\dots, n$, such that $x_1 = x_n = a$ and $x_i \\neq x_{i+1}$ for $i = 1, \\dots, n - 1$, and let us pick such a sequence $(x_1, \\dots, x_n)$. Let us consider these cases:\\nCase 1: $x_3 = a$. Then $(x_3, \\dots, x_n)$ is a sequence of length $n - 2$ that satisfies the above conditions, and $x_2 \\in \\{b, c\\}$. By (MP), there are $2a_{n-2}$ such sequences $(x_1, \\dots, x_n)$ for which $x_3 = a$.\\nCase 2: $x_3 \\neq a$. Then $(a, x_3, \\dots, x_n)$ is a sequence of length $n - 1$ that satisfies the above conditions. Moreover, since $x_1 = a$ and $x_3 \\neq a$, it follows that $x_2$ is uniquely determined by $x_3$. This implies that there is a bijection between the set of sequences $(x_1, \\dots, x_n)$ of length $n$ with $x_3 \\neq a$ that satisfy the above conditions, and the set of sequences $(x_2, \\dots, x_n)$ of length $n - 1$ that satisfy the above conditions. Hence, there are $a_{n-1}$ such sequences $(x_1, \\dots, x_n)$ for which $x_3 \\neq a$.\\nBy (AP), we must have $a_n = a_{n-1} + 2a_{n-2}$ for all $n \\ge 3$. The corresponding characteristic equation is given by $x^2 - x - 2 = 0$, and its characteristic roots are $\\alpha_1 = 2$ and $\\alpha_2 = -1$. Thus, by result (I), the general solution of the recurrence relation is given by $a_n = A \\cdot 2^n + B(-1)^n$, where $A$ and $B$ are constants to be determined. The initial conditions $a_1 = 1$ and $a_2 = 0$ imply that\\n$2A - B = 1, \\quad \\text{and}$\\n$4A + B = 0.$\\nSolving the system for $A$ and $B$ gives us $A = \\frac{1}{6}$ and $B = -\\frac{2}{3}$. So we have $a_n = \\frac{1}{6} \\cdot 2^n - \\frac{2}{3}(-1)^n = \\frac{2}{3}[2^{n-2} + (-1)^{n+1}].$",
    "85": "Let us first find $x_n^{(h)}$. The characteristic equation of $x_n - 14x_{n-1} + x_{n-2} = 0$ is $x^2 - 14x + 1 = 0$, and its characteristic roots are $\\beta = 7 + 4\\sqrt{3}$ and $\\beta^{-1} = 7 - 4\\sqrt{3}$. Thus, we have $x_n^{(h)} = A \\cdot \\beta^n + B \\cdot \\beta^{-n}$, where $A$ and $B$ are constants.\\nNext, let us find $x_n^{(p)}$. Since $f(n) = -4$ is a polynomial in $n$ of degree 0, and 1 is not a characteristic root, we let $x_n^{(p)} = C$, where $C$ is a constant. As $x_n^{(p)}$ satisfies the equation $x_n - 14x_{n-1} + x_{n-2} = -4$, we must have $C - 14C + C = -4$, which would then give us $C = \\frac{1}{3}$, and hence we have $x_n^{(p)} = \\frac{1}{3}$. By (6.4.2), the general solution of the equation $x_n - 14x_{n-1} + x_{n-2} = -4$ is given by $x_n =$",
    "_source_page": 467
  },
  {
    "86": "For each $m = 0, 1, 2, 3, 4$ and $n \\in \\mathbb{N}$, we let $a(m, n)$ denote the number of words with $n$ digits, such that each digit is either 0, 1, 2, 3 or 4, the first",
    "_source_page": 468
  },
  {
    "_source_page": 469
  },
  {
    "87": "Let us define the sequence $(b_n)$ of integers by $b_1 = 2, b_2 = 7$ and $b_n = 3b_{n-1} + 2b_{n-2}$ for all $n \\geq 3$. Then it is clear from the defined recurrence relation that we have $b_n > 0$ for all $n \\geq 1$. We shall prove by induction on $n$ that we have $-b_n < 2(b_{n+2}b_n - b_{n+1}^2) \\leq b_n$ for all $n \\geq 1$, with the base cases $n = 1$ and $n = 2$ being trivial. Suppose that the inequality holds for all $1 \\leq n \\leq k$, where $k \\geq 2$. By induction hypothesis, we have $-b_k < 2(b_{k+2}b_k - b_{k+1}^2) \\leq b_k$. We first observe that $b_k = \\frac{1}{2}(b_{k+2} - 3b_{k+1}), b_{k+1} = \\frac{1}{2}(b_{k+3} - 3b_{k+2})$ and, which implies that we have $b_k = \\frac{1}{4}(2b_{k+2} - 3(b_{k+3} - 3b_{k+2})) = \\frac{1}{4}(11b_{k+2} - 3b_{k+3})$. Thus, we have\\n$-2(b_{k+2}b_{k+4} - b_{k+3}^2)$\\n$= -2b_{k+2}(2b_{k+2} + 3b_{k+3}) + 2b_{k+3}^2$\\n$= -4b_{k+2}^2 - 6b_{k+2}b_{k+3} + 2b_{k+3}^2$\\n$= b_{k+2}(11b_{k+2} - 3b_{k+3}) - (b_{k+3} - 3b_{k+2})^2$\\n$+ 3b_{k+3}(b_{k+3} - 3b_{k+2}) - 6b_{k+2}^2$\\n$= 4(b_{k+2}b_k - b_{k+1}^2) + 6(b_{k+3}b_{k+1} - b_{k+2}^2)$\\nTherefore, we have\\n$-2(b_{k+2}b_{k+4} - b_{k+3}^2) = 4(b_{k+2}b_k - b_{k+1}^2) + 6(b_{k+3}b_{k+1} - b_{k+2}^2)$\\n$> -2b_k - 3b_{k+1}$\\n$= -b_{k+2}.$\\nLikewise, we have $-2(b_{k+2}b_{k+4} - b_{k+3}^2) \\leq b_{k+2}$. This gives us\\n$-b_{k+2} < -2(b_{k+2}b_{k+4} - b_{k+3}^2) \\leq b_{k+2},$\\nor equivalently, $-b_{k+2} < 2(b_{k+2}b_{k+4} - b_{k+3}^2) \\leq b_{k+2}$, and this completes the",
    "_source_page": 470
  },
  {
    "88": "For all $i = 0, \\dots, n$, let us label the intersection points on the bottom (respectively top) horizontal line from left to right by $P_0, \\dots, P_n$ (respectively $Q_0, \\dots, Q_n$), so that we have $P_0 = A$ and $Q_n = B$. We first observe that $P_i$ is connected to $P_{i+1}$, $Q_i$ is connected to $Q_{i+1}$ and $P_i$ is connected to $Q_{i+1}$ for all $i = 0, \\dots, n - 1$, and $P_j$ is connected to $Q_j$ for all $j = 0, \\dots, n$. For each $k \\ge 0$, we let $a_k$ denote the number of paths from $P_0$ to $Q_k$ that does not pass through any intersection twice and does not go past the edge $P_kQ_k$. Also, for each $j \\ge 1$, we let $b_j$ denote the number of paths from $P_0$ to $P_j$ that does not pass through any intersection twice and does not go past the edge $P_jQ_j$, and ends in either $Q_j \\to P_j$ or $P_{j-1} \\to P_j$, and the segment $Q_j \\to P_{j-1}$ is not used. We let $c_j$ denote the number of paths from $P_0$ to $P_j$ that does not pass through any intersection twice and does not go past the edge $P_jQ_j$, and ends in $Q_j \\to P_{j-1} \\to P_j$. Then the number of paths from $A$ to $B$ that does not pass through any intersection twice is equal to $a_n$. It follows that the number of paths from $P_0$ to $P_j$ that does not pass through any intersection twice and does not go past the edge $P_jQ_j$ is equal to $b_j + c_j$. We seek to establish a recurrence relation for $a_n$. To this end, we first observe that $a_0 = 1, a_1 = 3 = b_1, a_2 = 9$ and $c_2 = 2$. First, let us fix $k \\ge 2$, and take a path from $P_0$ to $Q_k$ that does not pass",
    "_source_page": 471
  },
  {
    "89": "Let $n_k = 2^k + k - 2$ for all $k \\ge 1$. Then we have $n_1 = 1, n_2 = 4$ and $n_{k+1} = n_k + 2^k + 1$ for all $k \\ge 1$. We shall prove by induction on $k$ that we have\\n$$a_{n_{k-1}+2i+1} = (2^{k-2} + i)^2 + 2^{k-2} - i, \\quad \\text{and}$$\\n$$a_{n_{k-1}+2j} = (2^{k-2} + j - 1)^2 + 2^{k-1}$$\\nfor all $k \\ge 2, 0 \\le i \\le 2^{k-2}$ and $1 \\le j \\le 2^{k-2}$, with the base case $k = 2$ being trivial. Suppose that the statement holds for $k = m$, where $m \\ge 2$. By induction hypothesis, we have $a_{n_{m-1}+2i+1} = (2^{m-2} + i)^2 + 2^{m-2} - i$ and $a_{n_{m-1}+2j} = (2^{m-2} + j - 1)^2 + 2^{m-1}$ for all $0 \\le i \\le 2^{m-2}$ and $1 \\le j \\le 2^{m-2}$. We",
    "_source_page": 472
  },
  {
    "_source_page": 473
  },
  {
    "90": "For each positive integer $h$ and $s$, we let the number of regions formed by the $h + s$ lines be $R(h, s)$. Then we see that conditions (i)-(iii) uniquely determines $R(h, s)$. Let us pick any non-horizontal line $\\ell$. By conditions (ii) and (iii), we see that $\\ell$ intersects the other $h + s - 1$ lines in exactly $h + s - 1$ (distinct) points. This implies that the number of new regions created by adding the line $\\ell$ is equal to $h + s$, so we must have $R(h, s) = h + s + R(h, s - 1)$ where $R(h, 0) = h + 1$. As $R(h, 1) = 2h + 2$, it follows that we have for $n \\ge 1$,",
    "_source_page": 474
  },
  {
    "91": "We first recall that S(r, n) is equal to the number of ways to distribute r distinct objects into n identical boxes, such that no box is empty. Let us fix an object B, and let us suppose that there are j + 1 objects in the box that contains B, where j = 0, \\\\dots, r - 1. Since no box is empty, the largest possible value of j is (r - 1) - (n - 1) = r - n. This restriction does not matter in the subsequent discussion since S(r - j - 1, n - 1) = 0 if j > r - n. There are \\\\binom{r-1}{j} ways to choose j objects out of the remaining r - 1 distinct objects to be placed in the same box as B, and subsequently there are S(r - j - 1, n - 1) ways to distribute the remaining r - j - 1 distinct objects into the remaining n - 1 distinct boxes, so that no box is empty. By (AP) and (MP), we must have\\nS(r, n) = \\\\sum_{j=0}^{r-1} \\\\binom{r-1}{j} S(r - j - 1, n - 1)\\n= \\\\sum_{j=0}^{r-n} \\\\binom{r-1}{r - j - 1} S(r - j - 1, n - 1)\\n= \\\\sum_{k=n-1}^{r-1} \\\\binom{r-1}{k} S(k, n - 1) (by setting k = r - j - 1).",
    "92": "We have",
    "_source_page": 475
  },
  {
    "93": "We shall first proceed by induction on $m$ that we have $P(m, n) = \\binom{n+m-1}{m-1}$ for all $m \\ge 1$ and $n \\ge 0$. When $m = 1$, we have\n\n$P(1, n) = \\sum_{j=0}^n P(0, j) = P(0, 0) + \\sum_{j=1}^n P(0, j) = 1 = \\binom{n+m-1}{m-1}$\n\nfor all $n \\ge 0$. So this shows that the base case $m = 1$ holds. Suppose that the statement holds for $m = k$, where $k \\ge 1$. By induction hypothesis, we have $P(k, j) = \\binom{j+k-1}{k-1}$ for all $j \\ge 0$. This implies that we have\n\n$P(k+1, n) = \\sum_{j=0}^n P(k, j) = \\sum_{j=0}^n \\binom{j+k-1}{k-1} = \\binom{n+k}{k}$,\n\nwhere the last equality follows from (2.5.1). This completes the induction step, and hence we have $P(m, n) = \\binom{n+m-1}{m-1}$ for all $m \\ge 1$ and $n \\ge 0$ as claimed. As $P(m, n) = 0 = \\binom{n+m-1}{m-1}$ for all $m \\ge 1$ and $n < 0$, it follows that we have $P(m, n) = \\binom{n+m-1}{m-1}$ for all $m \\ge 1$. Thus we have",
    "_source_page": 476
  },
  {
    "94": "(i) We have\nS_k(n) = \\sum_{j=1}^{n} j^k\n= 1 + \\sum_{j=1}^{n-1} (j + 1)^k\n= n^{k+1} + \\sum_{j=1}^{n-1} j^{k+1} - \\sum_{j=1}^{n-1} (j + 1)^{k+1} + \\sum_{j=1}^{n-1} (j + 1)^k\n= n^{k+1} - \\sum_{j=1}^{n-1} [(j + 1)^{k+1} - (j + 1)^k - j^{k+1}]\n= n^{k+1} - \\sum_{j=1}^{n-1} [j(j + 1)^k - \\binom{k}{k} j^{k+1}]\n= n^{k+1} - \\sum_{j=1}^{n-1} [\\sum_{r=0}^{k} \\binom{k}{r} j^{r+1} - \\binom{k}{k} j^{k+1}]\n= n^{k+1} - \\sum_{j=1}^{n-1} \\sum_{r=0}^{k-1} \\binom{k}{r} j^{r+1}\n= n^{k+1} - \\sum_{r=0}^{k-1} \\binom{k}{r} \\sum_{j=1}^{n-1} j^{r+1}\n= n^{k+1} - \\sum_{r=0}^{k-1} \\binom{k}{r} S_{r+1}(n - 1).\n(ii) By part (i), we have",
    "_source_page": 477
  },
  {
    "_source_page": 478
  }
]